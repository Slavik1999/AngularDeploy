(window.webpackJsonp=window.webpackJsonp||[]).push([[1],{"/6Yf":function(t,e,n){"use strict";n.d(e,"a",function(){return o}),n.d(e,"b",function(){return u});var r=n("30Go"),i=n("qOnz"),o=function(){function t(t,e,n){this.name=t,this.instanceFactory=e,this.type=n,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY"}return t.prototype.setInstantiationMode=function(t){return this.instantiationMode=t,this},t.prototype.setMultipleInstances=function(t){return this.multipleInstances=t,this},t.prototype.setServiceProps=function(t){return this.serviceProps=t,this},t}(),s="[DEFAULT]",a=function(){function t(t,e){this.name=t,this.container=e,this.component=null,this.instances=new Map,this.instancesDeferred=new Map}return t.prototype.get=function(t){void 0===t&&(t=s);var e=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(e)){var n=new i.a;this.instancesDeferred.set(e,n);try{var r=this.getOrInitializeService(e);r&&n.resolve(r)}catch(o){}}return this.instancesDeferred.get(e).promise},t.prototype.getImmediate=function(t){var e=Object(r.a)({identifier:s,optional:!1},t),n=e.optional,i=this.normalizeInstanceIdentifier(e.identifier);try{var o=this.getOrInitializeService(i);if(!o){if(n)return null;throw Error("Service "+this.name+" is not available")}return o}catch(a){if(n)return null;throw a}},t.prototype.getComponent=function(){return this.component},t.prototype.setComponent=function(t){var e,n;if(t.name!==this.name)throw Error("Mismatching Component "+t.name+" for Provider "+this.name+".");if(this.component)throw Error("Component for "+this.name+" has already been provided");if(this.component=t,function(t){return"EAGER"===t.instantiationMode}(t))try{this.getOrInitializeService(s)}catch(h){}try{for(var i=Object(r.h)(this.instancesDeferred.entries()),o=i.next();!o.done;o=i.next()){var a=Object(r.e)(o.value,2),u=a[1],c=this.normalizeInstanceIdentifier(a[0]);try{var l=this.getOrInitializeService(c);u.resolve(l)}catch(h){}}}catch(f){e={error:f}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(e)throw e.error}}},t.prototype.clearInstance=function(t){void 0===t&&(t=s),this.instancesDeferred.delete(t),this.instances.delete(t)},t.prototype.delete=function(){return Object(r.b)(this,void 0,void 0,function(){var t;return Object(r.d)(this,function(e){switch(e.label){case 0:return t=Array.from(this.instances.values()),[4,Promise.all(Object(r.f)(t.filter(function(t){return"INTERNAL"in t}).map(function(t){return t.INTERNAL.delete()}),t.filter(function(t){return"_delete"in t}).map(function(t){return t._delete()})))];case 1:return e.sent(),[2]}})})},t.prototype.isComponentSet=function(){return null!=this.component},t.prototype.getOrInitializeService=function(t){var e=this.instances.get(t);return!e&&this.component&&(e=this.component.instanceFactory(this.container,function(t){return t===s?void 0:t}(t)),this.instances.set(t,e)),e||null},t.prototype.normalizeInstanceIdentifier=function(t){return this.component?this.component.multipleInstances?t:s:t},t}(),u=function(){function t(t){this.name=t,this.providers=new Map}return t.prototype.addComponent=function(t){var e=this.getProvider(t.name);if(e.isComponentSet())throw new Error("Component "+t.name+" has already been registered with "+this.name);e.setComponent(t)},t.prototype.addOrOverwriteComponent=function(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)},t.prototype.getProvider=function(t){if(this.providers.has(t))return this.providers.get(t);var e=new a(t,this);return this.providers.set(t,e),e},t.prototype.getProviders=function(){return Array.from(this.providers.values())},t}()},0:function(t,e,n){t.exports=n("zUnb")},"2QA8":function(t,e,n){"use strict";n.d(e,"a",function(){return r});const r=(()=>"function"==typeof Symbol?Symbol("rxSubscriber"):"@@rxSubscriber_"+Math.random())()},"2fFW":function(t,e,n){"use strict";n.d(e,"a",function(){return i});let r=!1;const i={Promise:void 0,set useDeprecatedSynchronousErrorHandling(t){if(t){const t=new Error;console.warn("DEPRECATED! RxJS was set to use deprecated synchronous error handling behavior by code at: \n"+t.stack)}else r&&console.log("RxJS: Back to a better error behavior. Thank you. <3");r=t},get useDeprecatedSynchronousErrorHandling(){return r}}},"30Go":function(t,e,n){"use strict";n.d(e,"c",function(){return i}),n.d(e,"a",function(){return o}),n.d(e,"b",function(){return s}),n.d(e,"d",function(){return a}),n.d(e,"h",function(){return u}),n.d(e,"e",function(){return c}),n.d(e,"f",function(){return l}),n.d(e,"g",function(){return h});var r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)};function i(t,e){function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}var o=function(){return(o=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var i in e=arguments[n])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t}).apply(this,arguments)};function s(t,e,n,r){return new(n||(n=Promise))(function(i,o){function s(t){try{u(r.next(t))}catch(e){o(e)}}function a(t){try{u(r.throw(t))}catch(e){o(e)}}function u(t){var e;t.done?i(t.value):(e=t.value,e instanceof n?e:new n(function(t){t(e)})).then(s,a)}u((r=r.apply(t,e||[])).next())})}function a(t,e){var n,r,i,o,s={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function a(o){return function(a){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return s.label++,{value:o[1],done:!1};case 5:s.label++,r=o[1],o=[0];continue;case 7:o=s.ops.pop(),s.trys.pop();continue;default:if(!((i=(i=s.trys).length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){s=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){s.label=o[1];break}if(6===o[0]&&s.label<i[1]){s.label=i[1],i=o;break}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(o);break}i[2]&&s.ops.pop(),s.trys.pop();continue}o=e.call(t,s)}catch(a){o=[6,a],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,a])}}}function u(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function c(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var r,i,o=n.call(t),s=[];try{for(;(void 0===e||e-- >0)&&!(r=o.next()).done;)s.push(r.value)}catch(a){i={error:a}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return s}function l(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(c(arguments[e]));return t}function h(){for(var t=0,e=0,n=arguments.length;e<n;e++)t+=arguments[e].length;var r=Array(t),i=0;for(e=0;e<n;e++)for(var o=arguments[e],s=0,a=o.length;s<a;s++,i++)r[i]=o[s];return r}},"3N8a":function(t,e,n){"use strict";n.d(e,"a",function(){return o});var r=n("quSY");class i extends r.a{constructor(t,e){super()}schedule(t,e=0){return this}}class o extends i{constructor(t,e){super(t,e),this.scheduler=t,this.work=e,this.pending=!1}schedule(t,e=0){if(this.closed)return this;this.state=t;const n=this.id,r=this.scheduler;return null!=n&&(this.id=this.recycleAsyncId(r,n,e)),this.pending=!0,this.delay=e,this.id=this.id||this.requestAsyncId(r,this.id,e),this}requestAsyncId(t,e,n=0){return setInterval(t.flush.bind(t,this),n)}recycleAsyncId(t,e,n=0){if(null!==n&&this.delay===n&&!1===this.pending)return e;clearInterval(e)}execute(t,e){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const n=this._execute(t,e);if(n)return n;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(t,e){let n=!1,r=void 0;try{this.work(t)}catch(i){n=!0,r=!!i&&i||new Error(i)}if(n)return this.unsubscribe(),r}_unsubscribe(){const t=this.id,e=this.scheduler,n=e.actions,r=n.indexOf(this);this.work=null,this.state=null,this.pending=!1,this.scheduler=null,-1!==r&&n.splice(r,1),null!=t&&(this.id=this.recycleAsyncId(e,t,null)),this.delay=null}}},"3UD+":function(t,e){t.exports=function(t){if(!t.webpackPolyfill){var e=Object.create(t);e.children||(e.children=[]),Object.defineProperty(e,"loaded",{enumerable:!0,get:function(){return e.l}}),Object.defineProperty(e,"id",{enumerable:!0,get:function(){return e.i}}),Object.defineProperty(e,"exports",{enumerable:!0}),e.webpackPolyfill=1}return e}},"5+tZ":function(t,e,n){"use strict";n.d(e,"a",function(){return s});var r=n("lJxs"),i=n("Cfvw"),o=n("zx2A");function s(t,e,n=Number.POSITIVE_INFINITY){return"function"==typeof e?o=>o.pipe(s((n,o)=>Object(i.a)(t(n,o)).pipe(Object(r.a)((t,r)=>e(n,t,o,r))),n)):("number"==typeof e&&(n=e),e=>e.lift(new a(t,n)))}class a{constructor(t,e=Number.POSITIVE_INFINITY){this.project=t,this.concurrent=e}call(t,e){return e.subscribe(new u(t,this.project,this.concurrent))}}class u extends o.b{constructor(t,e,n=Number.POSITIVE_INFINITY){super(t),this.project=e,this.concurrent=n,this.hasCompleted=!1,this.buffer=[],this.active=0,this.index=0}_next(t){this.active<this.concurrent?this._tryNext(t):this.buffer.push(t)}_tryNext(t){let e;const n=this.index++;try{e=this.project(t,n)}catch(r){return void this.destination.error(r)}this.active++,this._innerSub(e)}_innerSub(t){const e=new o.a(this),n=this.destination;n.add(e);const r=Object(o.c)(t,e);r!==e&&n.add(r)}_complete(){this.hasCompleted=!0,0===this.active&&0===this.buffer.length&&this.destination.complete(),this.unsubscribe()}notifyNext(t){this.destination.next(t)}notifyComplete(){const t=this.buffer;this.active--,t.length>0?this._next(t.shift()):0===this.active&&this.hasCompleted&&this.destination.complete()}}},"7o/Q":function(t,e,n){"use strict";n.d(e,"a",function(){return c});var r=n("n6bG"),i=n("gRHU"),o=n("quSY"),s=n("2QA8"),a=n("2fFW"),u=n("NJ4a");class c extends o.a{constructor(t,e,n){switch(super(),this.syncErrorValue=null,this.syncErrorThrown=!1,this.syncErrorThrowable=!1,this.isStopped=!1,arguments.length){case 0:this.destination=i.a;break;case 1:if(!t){this.destination=i.a;break}if("object"==typeof t){t instanceof c?(this.syncErrorThrowable=t.syncErrorThrowable,this.destination=t,t.add(this)):(this.syncErrorThrowable=!0,this.destination=new l(this,t));break}default:this.syncErrorThrowable=!0,this.destination=new l(this,t,e,n)}}[s.a](){return this}static create(t,e,n){const r=new c(t,e,n);return r.syncErrorThrowable=!1,r}next(t){this.isStopped||this._next(t)}error(t){this.isStopped||(this.isStopped=!0,this._error(t))}complete(){this.isStopped||(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe())}_next(t){this.destination.next(t)}_error(t){this.destination.error(t),this.unsubscribe()}_complete(){this.destination.complete(),this.unsubscribe()}_unsubscribeAndRecycle(){const{_parentOrParents:t}=this;return this._parentOrParents=null,this.unsubscribe(),this.closed=!1,this.isStopped=!1,this._parentOrParents=t,this}}class l extends c{constructor(t,e,n,o){let s;super(),this._parentSubscriber=t;let a=this;Object(r.a)(e)?s=e:e&&(s=e.next,n=e.error,o=e.complete,e!==i.a&&(a=Object.create(e),Object(r.a)(a.unsubscribe)&&this.add(a.unsubscribe.bind(a)),a.unsubscribe=this.unsubscribe.bind(this))),this._context=a,this._next=s,this._error=n,this._complete=o}next(t){if(!this.isStopped&&this._next){const{_parentSubscriber:e}=this;a.a.useDeprecatedSynchronousErrorHandling&&e.syncErrorThrowable?this.__tryOrSetError(e,this._next,t)&&this.unsubscribe():this.__tryOrUnsub(this._next,t)}}error(t){if(!this.isStopped){const{_parentSubscriber:e}=this,{useDeprecatedSynchronousErrorHandling:n}=a.a;if(this._error)n&&e.syncErrorThrowable?(this.__tryOrSetError(e,this._error,t),this.unsubscribe()):(this.__tryOrUnsub(this._error,t),this.unsubscribe());else if(e.syncErrorThrowable)n?(e.syncErrorValue=t,e.syncErrorThrown=!0):Object(u.a)(t),this.unsubscribe();else{if(this.unsubscribe(),n)throw t;Object(u.a)(t)}}}complete(){if(!this.isStopped){const{_parentSubscriber:t}=this;if(this._complete){const e=()=>this._complete.call(this._context);a.a.useDeprecatedSynchronousErrorHandling&&t.syncErrorThrowable?(this.__tryOrSetError(t,e),this.unsubscribe()):(this.__tryOrUnsub(e),this.unsubscribe())}else this.unsubscribe()}}__tryOrUnsub(t,e){try{t.call(this._context,e)}catch(n){if(this.unsubscribe(),a.a.useDeprecatedSynchronousErrorHandling)throw n;Object(u.a)(n)}}__tryOrSetError(t,e,n){if(!a.a.useDeprecatedSynchronousErrorHandling)throw new Error("bad call");try{e.call(this._context,n)}catch(r){return a.a.useDeprecatedSynchronousErrorHandling?(t.syncErrorValue=r,t.syncErrorThrown=!0,!0):(Object(u.a)(r),!0)}return!1}_unsubscribe(){const{_parentSubscriber:t}=this;this._context=null,this._parentSubscriber=null,t.unsubscribe()}}},"9ppp":function(t,e,n){"use strict";n.d(e,"a",function(){return r});const r=(()=>{function t(){return Error.call(this),this.message="object unsubscribed",this.name="ObjectUnsubscribedError",this}return t.prototype=Object.create(Error.prototype),t})()},Cfvw:function(t,e,n){"use strict";n.d(e,"a",function(){return h});var r=n("HDdC"),i=n("SeVD"),o=n("quSY"),s=n("kJWO"),a=n("jZKg"),u=n("Lhse"),c=n("c2HN"),l=n("I55L");function h(t,e){return e?function(t,e){if(null!=t){if(function(t){return t&&"function"==typeof t[s.a]}(t))return function(t,e){return new r.a(n=>{const r=new o.a;return r.add(e.schedule(()=>{const i=t[s.a]();r.add(i.subscribe({next(t){r.add(e.schedule(()=>n.next(t)))},error(t){r.add(e.schedule(()=>n.error(t)))},complete(){r.add(e.schedule(()=>n.complete()))}}))})),r})}(t,e);if(Object(c.a)(t))return function(t,e){return new r.a(n=>{const r=new o.a;return r.add(e.schedule(()=>t.then(t=>{r.add(e.schedule(()=>{n.next(t),r.add(e.schedule(()=>n.complete()))}))},t=>{r.add(e.schedule(()=>n.error(t)))}))),r})}(t,e);if(Object(l.a)(t))return Object(a.a)(t,e);if(function(t){return t&&"function"==typeof t[u.a]}(t)||"string"==typeof t)return function(t,e){if(!t)throw new Error("Iterable cannot be null");return new r.a(n=>{const r=new o.a;let i;return r.add(()=>{i&&"function"==typeof i.return&&i.return()}),r.add(e.schedule(()=>{i=t[u.a](),r.add(e.schedule(function(){if(n.closed)return;let t,e;try{const n=i.next();t=n.value,e=n.done}catch(r){return void n.error(r)}e?n.complete():(n.next(t),this.schedule())}))})),r})}(t,e)}throw new TypeError((null!==t&&typeof t||t)+" is not observable")}(t,e):t instanceof r.a?t:new r.a(Object(i.a)(t))}},D0XW:function(t,e,n){"use strict";n.d(e,"a",function(){return i});var r=n("3N8a");const i=new(n("IjjT").a)(r.a)},DH7j:function(t,e,n){"use strict";n.d(e,"a",function(){return r});const r=(()=>Array.isArray||(t=>t&&"number"==typeof t.length))()},EY2u:function(t,e,n){"use strict";n.d(e,"a",function(){return i}),n.d(e,"b",function(){return o});var r=n("HDdC");const i=new r.a(t=>t.complete());function o(t){return t?function(t){return new r.a(e=>t.schedule(()=>e.complete()))}(t):i}},HDdC:function(t,e,n){"use strict";n.d(e,"a",function(){return c});var r=n("7o/Q"),i=n("2QA8"),o=n("gRHU"),s=n("kJWO"),a=n("SpAZ"),u=n("2fFW");let c=(()=>{class t{constructor(t){this._isScalar=!1,t&&(this._subscribe=t)}lift(e){const n=new t;return n.source=this,n.operator=e,n}subscribe(t,e,n){const{operator:s}=this,a=function(t,e,n){if(t){if(t instanceof r.a)return t;if(t[i.a])return t[i.a]()}return t||e||n?new r.a(t,e,n):new r.a(o.a)}(t,e,n);if(a.add(s?s.call(a,this.source):this.source||u.a.useDeprecatedSynchronousErrorHandling&&!a.syncErrorThrowable?this._subscribe(a):this._trySubscribe(a)),u.a.useDeprecatedSynchronousErrorHandling&&a.syncErrorThrowable&&(a.syncErrorThrowable=!1,a.syncErrorThrown))throw a.syncErrorValue;return a}_trySubscribe(t){try{return this._subscribe(t)}catch(e){u.a.useDeprecatedSynchronousErrorHandling&&(t.syncErrorThrown=!0,t.syncErrorValue=e),function(t){for(;t;){const{closed:e,destination:n,isStopped:i}=t;if(e||i)return!1;t=n&&n instanceof r.a?n:null}return!0}(t)?t.error(e):console.warn(e)}}forEach(t,e){return new(e=l(e))((e,n)=>{let r;r=this.subscribe(e=>{try{t(e)}catch(i){n(i),r&&r.unsubscribe()}},n,e)})}_subscribe(t){const{source:e}=this;return e&&e.subscribe(t)}[s.a](){return this}pipe(...t){return 0===t.length?this:(0===(e=t).length?a.a:1===e.length?e[0]:function(t){return e.reduce((t,e)=>e(t),t)})(this);var e}toPromise(t){return new(t=l(t))((t,e)=>{let n;this.subscribe(t=>n=t,t=>e(t),()=>t(n))})}}return t.create=e=>new t(e),t})();function l(t){if(t||(t=u.a.Promise||Promise),!t)throw new Error("no Promise impl found");return t}},I55L:function(t,e,n){"use strict";n.d(e,"a",function(){return r});const r=t=>t&&"number"==typeof t.length&&"function"!=typeof t},IjjT:function(t,e,n){"use strict";n.d(e,"a",function(){return i});let r=(()=>{class t{constructor(e,n=t.now){this.SchedulerAction=e,this.now=n}schedule(t,e=0,n){return new this.SchedulerAction(this,t).schedule(n,e)}}return t.now=()=>Date.now(),t})();class i extends r{constructor(t,e=r.now){super(t,()=>i.delegate&&i.delegate!==this?i.delegate.now():e()),this.actions=[],this.active=!1,this.scheduled=void 0}schedule(t,e=0,n){return i.delegate&&i.delegate!==this?i.delegate.schedule(t,e,n):super.schedule(t,e,n)}flush(t){const{actions:e}=this;if(this.active)return void e.push(t);let n;this.active=!0;do{if(n=t.execute(t.state,t.delay))break}while(t=e.shift());if(this.active=!1,n){for(;t=e.shift();)t.unsubscribe();throw n}}}},Jgta:function(t,e,n){"use strict";var r=n("zIRd");n.d(e,"a",function(){return r.a}),r.a.registerVersion("firebase","8.2.1","app")},LRne:function(t,e,n){"use strict";n.d(e,"a",function(){return s});var r=n("z+Ro"),i=n("yCtX"),o=n("jZKg");function s(...t){let e=t[t.length-1];return Object(r.a)(e)?(t.pop(),Object(o.a)(t,e)):Object(i.a)(t)}},Lhse:function(t,e,n){"use strict";function r(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}n.d(e,"a",function(){return i});const i=r()},NJ4a:function(t,e,n){"use strict";function r(t){setTimeout(()=>{throw t},0)}n.d(e,"a",function(){return r})},SeVD:function(t,e,n){"use strict";n.d(e,"a",function(){return l});var r=n("ngJS"),i=n("NJ4a"),o=n("Lhse"),s=n("kJWO"),a=n("I55L"),u=n("c2HN"),c=n("XoHu");const l=t=>{if(t&&"function"==typeof t[s.a])return l=t,t=>{const e=l[s.a]();if("function"!=typeof e.subscribe)throw new TypeError("Provided object does not correctly implement Symbol.observable");return e.subscribe(t)};if(Object(a.a)(t))return Object(r.a)(t);if(Object(u.a)(t))return n=t,t=>(n.then(e=>{t.closed||(t.next(e),t.complete())},e=>t.error(e)).then(null,i.a),t);if(t&&"function"==typeof t[o.a])return e=t,t=>{const n=e[o.a]();for(;;){let e;try{e=n.next()}catch(r){return t.error(r),t}if(e.done){t.complete();break}if(t.next(e.value),t.closed)break}return"function"==typeof n.return&&t.add(()=>{n.return&&n.return()}),t};{const e=Object(c.a)(t)?"an invalid object":`'${t}'`;throw new TypeError(`You provided ${e} where a stream was expected. You can provide an Observable, Promise, Array, or Iterable.`)}var e,n,l}},SpAZ:function(t,e,n){"use strict";function r(t){return t}n.d(e,"a",function(){return r})},VRyK:function(t,e,n){"use strict";n.d(e,"a",function(){return a});var r=n("HDdC"),i=n("z+Ro"),o=n("bHdf"),s=n("yCtX");function a(...t){let e=Number.POSITIVE_INFINITY,n=null,a=t[t.length-1];return Object(i.a)(a)?(n=t.pop(),t.length>1&&"number"==typeof t[t.length-1]&&(e=t.pop())):"number"==typeof a&&(e=t.pop()),null===n&&1===t.length&&t[0]instanceof r.a?t[0]:Object(o.a)(e)(Object(s.a)(t,n))}},XNiG:function(t,e,n){"use strict";n.d(e,"b",function(){return c}),n.d(e,"a",function(){return l});var r=n("HDdC"),i=n("7o/Q"),o=n("quSY"),s=n("9ppp"),a=n("Ylt2"),u=n("2QA8");class c extends i.a{constructor(t){super(t),this.destination=t}}let l=(()=>{class t extends r.a{constructor(){super(),this.observers=[],this.closed=!1,this.isStopped=!1,this.hasError=!1,this.thrownError=null}[u.a](){return new c(this)}lift(t){const e=new h(this,this);return e.operator=t,e}next(t){if(this.closed)throw new s.a;if(!this.isStopped){const{observers:e}=this,n=e.length,r=e.slice();for(let i=0;i<n;i++)r[i].next(t)}}error(t){if(this.closed)throw new s.a;this.hasError=!0,this.thrownError=t,this.isStopped=!0;const{observers:e}=this,n=e.length,r=e.slice();for(let i=0;i<n;i++)r[i].error(t);this.observers.length=0}complete(){if(this.closed)throw new s.a;this.isStopped=!0;const{observers:t}=this,e=t.length,n=t.slice();for(let r=0;r<e;r++)n[r].complete();this.observers.length=0}unsubscribe(){this.isStopped=!0,this.closed=!0,this.observers=null}_trySubscribe(t){if(this.closed)throw new s.a;return super._trySubscribe(t)}_subscribe(t){if(this.closed)throw new s.a;return this.hasError?(t.error(this.thrownError),o.a.EMPTY):this.isStopped?(t.complete(),o.a.EMPTY):(this.observers.push(t),new a.a(this,t))}asObservable(){const t=new r.a;return t.source=this,t}}return t.create=(t,e)=>new h(t,e),t})();class h extends l{constructor(t,e){super(),this.destination=t,this.source=e}next(t){const{destination:e}=this;e&&e.next&&e.next(t)}error(t){const{destination:e}=this;e&&e.error&&this.destination.error(t)}complete(){const{destination:t}=this;t&&t.complete&&this.destination.complete()}_subscribe(t){const{source:e}=this;return e?this.source.subscribe(t):o.a.EMPTY}}},XoHu:function(t,e,n){"use strict";function r(t){return null!==t&&"object"==typeof t}n.d(e,"a",function(){return r})},Ylt2:function(t,e,n){"use strict";n.d(e,"a",function(){return i});var r=n("quSY");class i extends r.a{constructor(t,e){super(),this.subject=t,this.subscriber=e,this.closed=!1}unsubscribe(){if(this.closed)return;this.closed=!0;const t=this.subject,e=t.observers;if(this.subject=null,!e||0===e.length||t.isStopped||t.closed)return;const n=e.indexOf(this.subscriber);-1!==n&&e.splice(n,1)}}},bHdf:function(t,e,n){"use strict";n.d(e,"a",function(){return o});var r=n("5+tZ"),i=n("SpAZ");function o(t=Number.POSITIVE_INFINITY){return Object(r.a)(i.a,t)}},c2HN:function(t,e,n){"use strict";function r(t){return!!t&&"function"!=typeof t.subscribe&&"function"==typeof t.then}n.d(e,"a",function(){return r})},fXoL:function(t,e,n){"use strict";n.d(e,"a",function(){return hn}),n.d(e,"b",function(){return Ru}),n.d(e,"c",function(){return ju}),n.d(e,"d",function(){return Au}),n.d(e,"e",function(){return ku}),n.d(e,"f",function(){return Ec}),n.d(e,"g",function(){return gc}),n.d(e,"h",function(){return Na}),n.d(e,"i",function(){return Wu}),n.d(e,"j",function(){return oa}),n.d(e,"k",function(){return Fu}),n.d(e,"l",function(){return ca}),n.d(e,"m",function(){return kr}),n.d(e,"n",function(){return hu}),n.d(e,"o",function(){return go}),n.d(e,"p",function(){return _n}),n.d(e,"q",function(){return ln}),n.d(e,"r",function(){return jo}),n.d(e,"s",function(){return Ta}),n.d(e,"t",function(){return Ia}),n.d(e,"u",function(){return Lu}),n.d(e,"v",function(){return za}),n.d(e,"w",function(){return mc}),n.d(e,"x",function(){return Ha}),n.d(e,"y",function(){return lc}),n.d(e,"z",function(){return Qu}),n.d(e,"A",function(){return On}),n.d(e,"B",function(){return Mu}),n.d(e,"C",function(){return Du}),n.d(e,"D",function(){return ha}),n.d(e,"E",function(){return la}),n.d(e,"F",function(){return Dr}),n.d(e,"G",function(){return da}),n.d(e,"H",function(){return Sr}),n.d(e,"I",function(){return Cn}),n.d(e,"J",function(){return wc}),n.d(e,"K",function(){return La}),n.d(e,"L",function(){return rc}),n.d(e,"M",function(){return fn}),n.d(e,"N",function(){return ga}),n.d(e,"O",function(){return pa}),n.d(e,"P",function(){return Ga}),n.d(e,"Q",function(){return L}),n.d(e,"R",function(){return hc}),n.d(e,"S",function(){return Xn}),n.d(e,"T",function(){return w}),n.d(e,"U",function(){return Zn}),n.d(e,"V",function(){return Sc}),n.d(e,"W",function(){return sc}),n.d(e,"X",function(){return Vu}),n.d(e,"Y",function(){return mo}),n.d(e,"Z",function(){return Gs}),n.d(e,"ab",function(){return _r}),n.d(e,"bb",function(){return ir}),n.d(e,"cb",function(){return zn}),n.d(e,"db",function(){return Gn}),n.d(e,"eb",function(){return Kn}),n.d(e,"fb",function(){return Wn}),n.d(e,"gb",function(){return $n}),n.d(e,"hb",function(){return Jn}),n.d(e,"ib",function(){return qs}),n.d(e,"jb",function(){return Oc}),n.d(e,"kb",function(){return Hs}),n.d(e,"lb",function(){return zs}),n.d(e,"mb",function(){return Bn}),n.d(e,"nb",function(){return z}),n.d(e,"ob",function(){return qo}),n.d(e,"pb",function(){return os}),n.d(e,"qb",function(){return is}),n.d(e,"rb",function(){return Us}),n.d(e,"sb",function(){return jt}),n.d(e,"tb",function(){return m}),n.d(e,"ub",function(){return Hn}),n.d(e,"vb",function(){return Po}),n.d(e,"wb",function(){return Et}),n.d(e,"xb",function(){return na}),n.d(e,"yb",function(){return wi}),n.d(e,"zb",function(){return Go}),n.d(e,"Ab",function(){return Ms}),n.d(e,"Bb",function(){return Os}),n.d(e,"Cb",function(){return Cu}),n.d(e,"Db",function(){return tt}),n.d(e,"Eb",function(){return at}),n.d(e,"Fb",function(){return S}),n.d(e,"Gb",function(){return C}),n.d(e,"Hb",function(){return it}),n.d(e,"Ib",function(){return ut}),n.d(e,"Jb",function(){return Ko}),n.d(e,"Kb",function(){return ts}),n.d(e,"Lb",function(){return ns}),n.d(e,"Mb",function(){return es}),n.d(e,"Nb",function(){return Xo}),n.d(e,"Ob",function(){return Zo}),n.d(e,"Pb",function(){return rs}),n.d(e,"Qb",function(){return sn}),n.d(e,"Rb",function(){return Rs}),n.d(e,"Sb",function(){return Pn}),n.d(e,"Tb",function(){return an}),n.d(e,"Ub",function(){return xu}),n.d(e,"Vb",function(){return ss}),n.d(e,"Wb",function(){return Eu}),n.d(e,"Xb",function(){return cs}),n.d(e,"Yb",function(){return cu}),n.d(e,"Zb",function(){return lu}),n.d(e,"ac",function(){return fs}),n.d(e,"bc",function(){return hs}),n.d(e,"cc",function(){return Qo}),n.d(e,"dc",function(){return ds}),n.d(e,"ec",function(){return ps}),n.d(e,"fc",function(){return su}),n.d(e,"gc",function(){return au}),n.d(e,"hc",function(){return Su}),n.d(e,"ic",function(){return Jo}),n.d(e,"jc",function(){return Yt}),n.d(e,"kc",function(){return Cr}),n.d(e,"lc",function(){return Er}),n.d(e,"mc",function(){return ot}),n.d(e,"nc",function(){return Wo}),n.d(e,"oc",function(){return Iu}),n.d(e,"pc",function(){return Ns}),n.d(e,"qc",function(){return Ps}),n.d(e,"rc",function(){return Ds});var r=n("XNiG"),i=n("quSY"),o=n("HDdC"),s=n("VRyK"),a=n("7o/Q");function u(){return function(t){return t.lift(new c(t))}}class c{constructor(t){this.connectable=t}call(t,e){const{connectable:n}=this;n._refCount++;const r=new l(t,n),i=e.subscribe(r);return r.closed||(r.connection=n.connect()),i}}class l extends a.a{constructor(t,e){super(t),this.connectable=e}_unsubscribe(){const{connectable:t}=this;if(!t)return void(this.connection=null);this.connectable=null;const e=t._refCount;if(e<=0)return void(this.connection=null);if(t._refCount=e-1,e>1)return void(this.connection=null);const{connection:n}=this,r=t._connection;this.connection=null,!r||n&&r!==n||r.unsubscribe()}}class h extends o.a{constructor(t,e){super(),this.source=t,this.subjectFactory=e,this._refCount=0,this._isComplete=!1}_subscribe(t){return this.getSubject().subscribe(t)}getSubject(){const t=this._subject;return t&&!t.isStopped||(this._subject=this.subjectFactory()),this._subject}connect(){let t=this._connection;return t||(this._isComplete=!1,t=this._connection=new i.a,t.add(this.source.subscribe(new d(this.getSubject(),this))),t.closed&&(this._connection=null,t=i.a.EMPTY)),t}refCount(){return u()(this)}}const f=(()=>{const t=h.prototype;return{operator:{value:null},_refCount:{value:0,writable:!0},_subject:{value:null,writable:!0},_connection:{value:null,writable:!0},_subscribe:{value:t._subscribe},_isComplete:{value:t._isComplete,writable:!0},getSubject:{value:t.getSubject},connect:{value:t.connect},refCount:{value:t.refCount}}})();class d extends r.b{constructor(t,e){super(t),this.connectable=e}_error(t){this._unsubscribe(),super._error(t)}_complete(){this.connectable._isComplete=!0,this._unsubscribe(),super._complete()}_unsubscribe(){const t=this.connectable;if(t){this.connectable=null;const e=t._connection;t._refCount=0,t._subject=null,t._connection=null,e&&e.unsubscribe()}}}function p(){return new r.a}function g(t){for(let e in t)if(t[e]===g)return e;throw Error("Could not find renamed property on target object.")}function b(t,e){for(const n in e)e.hasOwnProperty(n)&&!t.hasOwnProperty(n)&&(t[n]=e[n])}function m(t){if("string"==typeof t)return t;if(Array.isArray(t))return"["+t.map(m).join(", ")+"]";if(null==t)return""+t;if(t.overriddenName)return""+t.overriddenName;if(t.name)return""+t.name;const e=t.toString();if(null==e)return""+e;const n=e.indexOf("\n");return-1===n?e:e.substring(0,n)}function v(t,e){return null==t||""===t?null===e?"":e:null==e||""===e?t:t+" "+e}const y=g({__forward_ref__:g});function w(t){return t.__forward_ref__=w,t.toString=function(){return m(this())},t}function _(t){return O(t)?t():t}function O(t){return"function"==typeof t&&t.hasOwnProperty(y)&&t.__forward_ref__===w}function S(t){return{token:t.token,providedIn:t.providedIn||null,factory:t.factory,value:void 0}}function C(t){return{factory:t.factory,providers:t.providers||[],imports:t.imports||[]}}function E(t){return T(t,x)||T(t,k)}function T(t,e){return t.hasOwnProperty(e)?t[e]:null}function I(t){return t&&(t.hasOwnProperty(A)||t.hasOwnProperty(j))?t[A]:null}const x=g({"\u0275prov":g}),A=g({"\u0275inj":g}),k=g({ngInjectableDef:g}),j=g({ngInjectorDef:g});var N=function(t){return t[t.Default=0]="Default",t[t.Host=1]="Host",t[t.Self=2]="Self",t[t.SkipSelf=4]="SkipSelf",t[t.Optional=8]="Optional",t}({});let P;function D(t){const e=P;return P=t,e}function M(t,e,n){const r=E(t);if(r&&"root"==r.providedIn)return void 0===r.value?r.value=r.factory():r.value;if(n&N.Optional)return null;if(void 0!==e)return e;throw new Error(`Injector: NOT_FOUND [${m(t)}]`)}function R(t){return{toString:t}.toString()}var V=function(t){return t[t.OnPush=0]="OnPush",t[t.Default=1]="Default",t}({}),L=function(t){return t[t.Emulated=0]="Emulated",t[t.None=2]="None",t[t.ShadowDom=3]="ShadowDom",t}({});const F="undefined"!=typeof globalThis&&globalThis,U="undefined"!=typeof window&&window,q="undefined"!=typeof self&&"undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&self,H="undefined"!=typeof global&&global,z=F||H||U||q,B={},G=[],$=g({"\u0275cmp":g}),W=g({"\u0275dir":g}),J=g({"\u0275pipe":g}),K=g({"\u0275mod":g}),Q=g({"\u0275loc":g}),Y=g({"\u0275fac":g}),Z=g({__NG_ELEMENT_ID__:g});let X=0;function tt(t){return R(()=>{const e={},n={type:t.type,providersResolver:null,decls:t.decls,vars:t.vars,factory:null,template:t.template||null,consts:t.consts||null,ngContentSelectors:t.ngContentSelectors,hostBindings:t.hostBindings||null,hostVars:t.hostVars||0,hostAttrs:t.hostAttrs||null,contentQueries:t.contentQueries||null,declaredInputs:e,inputs:null,outputs:null,exportAs:t.exportAs||null,onPush:t.changeDetection===V.OnPush,directiveDefs:null,pipeDefs:null,selectors:t.selectors||G,viewQuery:t.viewQuery||null,features:t.features||null,data:t.data||{},encapsulation:t.encapsulation||L.Emulated,id:"c",styles:t.styles||G,_:null,setInput:null,schemas:t.schemas||null,tView:null},r=t.directives,i=t.features,o=t.pipes;return n.id+=X++,n.inputs=st(t.inputs,e),n.outputs=st(t.outputs),i&&i.forEach(t=>t(n)),n.directiveDefs=r?()=>("function"==typeof r?r():r).map(et):null,n.pipeDefs=o?()=>("function"==typeof o?o():o).map(nt):null,n})}function et(t){return ct(t)||function(t){return t[W]||null}(t)}function nt(t){return function(t){return t[J]||null}(t)}const rt={};function it(t){const e={type:t.type,bootstrap:t.bootstrap||G,declarations:t.declarations||G,imports:t.imports||G,exports:t.exports||G,transitiveCompileScopes:null,schemas:t.schemas||null,id:t.id||null};return null!=t.id&&R(()=>{rt[t.id]=t.type}),e}function ot(t,e){return R(()=>{const n=lt(t,!0);n.declarations=e.declarations||G,n.imports=e.imports||G,n.exports=e.exports||G})}function st(t,e){if(null==t)return B;const n={};for(const r in t)if(t.hasOwnProperty(r)){let i=t[r],o=i;Array.isArray(i)&&(o=i[1],i=i[0]),n[i]=r,e&&(e[i]=o)}return n}const at=tt;function ut(t){return{type:t.type,name:t.name,factory:null,pure:!1!==t.pure,onDestroy:t.type.prototype.ngOnDestroy||null}}function ct(t){return t[$]||null}function lt(t,e){const n=t[K]||null;if(!n&&!0===e)throw new Error(`Type ${m(t)} does not have '\u0275mod' property.`);return n}const ht=20,ft=10;function dt(t){return Array.isArray(t)&&"object"==typeof t[1]}function pt(t){return Array.isArray(t)&&!0===t[1]}function gt(t){return 0!=(8&t.flags)}function bt(t){return 2==(2&t.flags)}function mt(t){return 1==(1&t.flags)}function vt(t){return null!==t.template}function yt(t,e){return t.hasOwnProperty(Y)?t[Y]:null}class wt extends Error{constructor(t,e){super(function(t,e){return`${t?`NG0${t}: `:""}${e}`}(t,e)),this.code=t}}function _t(t){return"string"==typeof t?t:null==t?"":String(t)}function Ot(t){return"function"==typeof t?t.name||t.toString():"object"==typeof t&&null!=t&&"function"==typeof t.type?t.type.name||t.type.toString():_t(t)}function St(t,e){const n=e?" in "+e:"";throw new wt("201",`No provider for ${Ot(t)} found${n}`)}class Ct{constructor(t,e,n){this.previousValue=t,this.currentValue=e,this.firstChange=n}isFirstChange(){return this.firstChange}}function Et(){return Tt}function Tt(t){return t.type.prototype.ngOnChanges&&(t.setInput=xt),It}function It(){const t=At(this),e=null==t?void 0:t.current;if(e){const n=t.previous;if(n===B)t.previous=e;else for(let t in e)n[t]=e[t];t.current=null,this.ngOnChanges(e)}}function xt(t,e,n,r){const i=At(t)||function(t,e){return t.__ngSimpleChanges__=e}(t,{previous:B,current:null}),o=i.current||(i.current={}),s=i.previous,a=this.declaredInputs[n],u=s[a];o[a]=new Ct(u&&u.currentValue,e,s===B),t[r]=e}function At(t){return t.__ngSimpleChanges__||null}Et.ngInherit=!0;let kt=void 0;function jt(t){kt=t}function Nt(){return void 0!==kt?kt:"undefined"!=typeof document?document:void 0}function Pt(t){return!!t.listen}const Dt={createRenderer:(t,e)=>Nt()};function Mt(t){for(;Array.isArray(t);)t=t[0];return t}function Rt(t,e){return Mt(e[t])}function Vt(t,e){return Mt(e[t.index])}function Lt(t,e){return t.data[e]}function Ft(t,e){return t[e]}function Ut(t,e){const n=e[t];return dt(n)?n:n[0]}function qt(t){const e=function(t){return t.__ngContext__||null}(t);return e?Array.isArray(e)?e:e.lView:null}function Ht(t){return 4==(4&t[2])}function zt(t){return 128==(128&t[2])}function Bt(t,e){return null==e?null:t[e]}function Gt(t){t[18]=0}function $t(t,e){t[5]+=e;let n=t,r=t[3];for(;null!==r&&(1===e&&1===n[5]||-1===e&&0===n[5]);)r[5]+=e,n=r,r=r[3]}const Wt={lFrame:be(null),bindingsEnabled:!0,isInCheckNoChangesMode:!1};function Jt(){return Wt.bindingsEnabled}function Kt(){return Wt.lFrame.lView}function Qt(){return Wt.lFrame.tView}function Yt(t){Wt.lFrame.contextLView=t}function Zt(){let t=Xt();for(;null!==t&&64===t.type;)t=t.parent;return t}function Xt(){return Wt.lFrame.currentTNode}function te(t,e){const n=Wt.lFrame;n.currentTNode=t,n.isParent=e}function ee(){return Wt.lFrame.isParent}function ne(){Wt.lFrame.isParent=!1}function re(){return Wt.isInCheckNoChangesMode}function ie(t){Wt.isInCheckNoChangesMode=t}function oe(){const t=Wt.lFrame;let e=t.bindingRootIndex;return-1===e&&(e=t.bindingRootIndex=t.tView.bindingStartIndex),e}function se(){return Wt.lFrame.bindingIndex++}function ae(t){const e=Wt.lFrame,n=e.bindingIndex;return e.bindingIndex=e.bindingIndex+t,n}function ue(t,e){const n=Wt.lFrame;n.bindingIndex=n.bindingRootIndex=t,ce(e)}function ce(t){Wt.lFrame.currentDirectiveIndex=t}function le(){return Wt.lFrame.currentQueryIndex}function he(t){Wt.lFrame.currentQueryIndex=t}function fe(t){const e=t[1];return 2===e.type?e.declTNode:1===e.type?t[6]:null}function de(t,e,n){if(n&N.SkipSelf){let r=e,i=t;for(;r=r.parent,!(null!==r||n&N.Host||(r=fe(i),null===r)||(i=i[15],10&r.type)););if(null===r)return!1;e=r,t=i}const r=Wt.lFrame=ge();return r.currentTNode=e,r.lView=t,!0}function pe(t){const e=ge(),n=t[1];Wt.lFrame=e,e.currentTNode=n.firstChild,e.lView=t,e.tView=n,e.contextLView=t,e.bindingIndex=n.bindingStartIndex,e.inI18n=!1}function ge(){const t=Wt.lFrame,e=null===t?null:t.child;return null===e?be(t):e}function be(t){const e={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:t,child:null,inI18n:!1};return null!==t&&(t.child=e),e}function me(){const t=Wt.lFrame;return Wt.lFrame=t.parent,t.currentTNode=null,t.lView=null,t}const ve=me;function ye(){const t=me();t.isParent=!0,t.tView=null,t.selectedIndex=-1,t.contextLView=null,t.elementDepthCount=0,t.currentDirectiveIndex=-1,t.currentNamespace=null,t.bindingRootIndex=-1,t.bindingIndex=-1,t.currentQueryIndex=0}function we(){return Wt.lFrame.selectedIndex}function _e(t){Wt.lFrame.selectedIndex=t}function Oe(){const t=Wt.lFrame;return Lt(t.tView,t.selectedIndex)}function Se(t,e){for(let n=e.directiveStart,r=e.directiveEnd;n<r;n++){const e=t.data[n].type.prototype,{ngAfterContentInit:r,ngAfterContentChecked:i,ngAfterViewInit:o,ngAfterViewChecked:s,ngOnDestroy:a}=e;r&&(t.contentHooks||(t.contentHooks=[])).push(-n,r),i&&((t.contentHooks||(t.contentHooks=[])).push(n,i),(t.contentCheckHooks||(t.contentCheckHooks=[])).push(n,i)),o&&(t.viewHooks||(t.viewHooks=[])).push(-n,o),s&&((t.viewHooks||(t.viewHooks=[])).push(n,s),(t.viewCheckHooks||(t.viewCheckHooks=[])).push(n,s)),null!=a&&(t.destroyHooks||(t.destroyHooks=[])).push(n,a)}}function Ce(t,e,n){Ie(t,e,3,n)}function Ee(t,e,n,r){(3&t[2])===n&&Ie(t,e,n,r)}function Te(t,e){let n=t[2];(3&n)===e&&(n&=2047,n+=1,t[2]=n)}function Ie(t,e,n,r){const i=null!=r?r:-1;let o=0;for(let s=void 0!==r?65535&t[18]:0;s<e.length;s++)if("number"==typeof e[s+1]){if(o=e[s],null!=r&&o>=r)break}else e[s]<0&&(t[18]+=65536),(o<i||-1==i)&&(xe(t,n,e,s),t[18]=(4294901760&t[18])+s+2),s++}function xe(t,e,n,r){const i=n[r]<0,o=n[r+1],s=t[i?-n[r]:n[r]];i?t[2]>>11<t[18]>>16&&(3&t[2])===e&&(t[2]+=2048,o.call(s)):o.call(s)}const Ae=-1;class ke{constructor(t,e,n){this.factory=t,this.resolving=!1,this.canSeeViewProviders=e,this.injectImpl=n}}function je(t,e,n){const r=Pt(t);let i=0;for(;i<n.length;){const o=n[i];if("number"==typeof o){if(0!==o)break;i++;const s=n[i++],a=n[i++],u=n[i++];r?t.setAttribute(e,a,u,s):e.setAttributeNS(s,a,u)}else{const s=o,a=n[++i];Pe(s)?r&&t.setProperty(e,s,a):r?t.setAttribute(e,s,a):e.setAttribute(s,a),i++}}return i}function Ne(t){return 3===t||4===t||6===t}function Pe(t){return 64===t.charCodeAt(0)}function De(t,e){if(null===e||0===e.length);else if(null===t||0===t.length)t=e.slice();else{let n=-1;for(let r=0;r<e.length;r++){const i=e[r];"number"==typeof i?n=i:0===n||Me(t,n,i,null,-1===n||2===n?e[++r]:null)}}return t}function Me(t,e,n,r,i){let o=0,s=t.length;if(-1===e)s=-1;else for(;o<t.length;){const n=t[o++];if("number"==typeof n){if(n===e){s=-1;break}if(n>e){s=o-1;break}}}for(;o<t.length;){const e=t[o];if("number"==typeof e)break;if(e===n){if(null===r)return void(null!==i&&(t[o+1]=i));if(r===t[o+1])return void(t[o+2]=i)}o++,null!==r&&o++,null!==i&&o++}-1!==s&&(t.splice(s,0,e),o=s+1),t.splice(o++,0,n),null!==r&&t.splice(o++,0,r),null!==i&&t.splice(o++,0,i)}function Re(t){return t!==Ae}function Ve(t){return 32767&t}function Le(t,e){let n=t>>16,r=e;for(;n>0;)r=r[15],n--;return r}let Fe=!0;function Ue(t){const e=Fe;return Fe=t,e}let qe=0;function He(t,e){const n=Be(t,e);if(-1!==n)return n;const r=e[1];r.firstCreatePass&&(t.injectorIndex=e.length,ze(r.data,t),ze(e,null),ze(r.blueprint,null));const i=Ge(t,e),o=t.injectorIndex;if(Re(i)){const t=Ve(i),n=Le(i,e),r=n[1].data;for(let i=0;i<8;i++)e[o+i]=n[t+i]|r[t+i]}return e[o+8]=i,o}function ze(t,e){t.push(0,0,0,0,0,0,0,0,e)}function Be(t,e){return-1===t.injectorIndex||t.parent&&t.parent.injectorIndex===t.injectorIndex||null===e[t.injectorIndex+8]?-1:t.injectorIndex}function Ge(t,e){if(t.parent&&-1!==t.parent.injectorIndex)return t.parent.injectorIndex;let n=0,r=null,i=e;for(;null!==i;){const t=i[1],e=t.type;if(r=2===e?t.declTNode:1===e?i[6]:null,null===r)return Ae;if(n++,i=i[15],-1!==r.injectorIndex)return r.injectorIndex|n<<16}return Ae}function $e(t,e,n){!function(t,e,n){let r;"string"==typeof n?r=n.charCodeAt(0)||0:n.hasOwnProperty(Z)&&(r=n[Z]),null==r&&(r=n[Z]=qe++);const i=255&r,o=1<<i,s=64&i,a=32&i,u=e.data;128&i?s?a?u[t+7]|=o:u[t+6]|=o:a?u[t+5]|=o:u[t+4]|=o:s?a?u[t+3]|=o:u[t+2]|=o:a?u[t+1]|=o:u[t]|=o}(t,e,n)}function We(t,e,n){if(n&N.Optional)return t;St(e,"NodeInjector")}function Je(t,e,n,r){if(n&N.Optional&&void 0===r&&(r=null),0==(n&(N.Self|N.Host))){const i=t[9],o=D(void 0);try{return i?i.get(e,r,n&N.Optional):M(e,r,n&N.Optional)}finally{D(o)}}return We(r,e,n)}function Ke(t,e,n,r=N.Default,i){if(null!==t){const o=function(t){if("string"==typeof t)return t.charCodeAt(0)||0;const e=t.hasOwnProperty(Z)?t[Z]:void 0;return"number"==typeof e?e>=0?255&e:Ye:e}(n);if("function"==typeof o){if(!de(e,t,r))return r&N.Host?We(i,n,r):Je(e,n,r,i);try{const t=o();if(null!=t||r&N.Optional)return t;St(n)}finally{ve()}}else if("number"==typeof o){let i=null,s=Be(t,e),a=Ae,u=r&N.Host?e[16][6]:null;for((-1===s||r&N.SkipSelf)&&(a=-1===s?Ge(t,e):e[s+8],a!==Ae&&nn(r,!1)?(i=e[1],s=Ve(a),e=Le(a,e)):s=-1);-1!==s;){const t=e[1];if(en(o,s,t.data)){const t=Ze(s,e,n,i,r,u);if(t!==Qe)return t}a=e[s+8],a!==Ae&&nn(r,e[1].data[s+8]===u)&&en(o,s,e)?(i=t,s=Ve(a),e=Le(a,e)):s=-1}}}return Je(e,n,r,i)}const Qe={};function Ye(){return new rn(Zt(),Kt())}function Ze(t,e,n,r,i,o){const s=e[1],a=s.data[t+8],u=Xe(a,s,n,null==r?bt(a)&&Fe:r!=s&&0!=(3&a.type),i&N.Host&&o===a);return null!==u?tn(e,s,u,a):Qe}function Xe(t,e,n,r,i){const o=t.providerIndexes,s=e.data,a=1048575&o,u=t.directiveStart,c=o>>20,l=i?a+c:t.directiveEnd;for(let h=r?a:a+c;h<l;h++){const t=s[h];if(h<u&&n===t||h>=u&&t.type===n)return h}if(i){const t=s[u];if(t&&vt(t)&&t.type===n)return u}return null}function tn(t,e,n,r){let i=t[n];const o=e.data;if(i instanceof ke){const s=i;s.resolving&&function(t,e){throw new wt("200","Circular dependency in DI detected for "+t)}(Ot(o[n]));const a=Ue(s.canSeeViewProviders);s.resolving=!0;const u=s.injectImpl?D(s.injectImpl):null;de(t,r,N.Default);try{i=t[n]=s.factory(void 0,o,t,r),e.firstCreatePass&&n>=r.directiveStart&&function(t,e,n){const{ngOnChanges:r,ngOnInit:i,ngDoCheck:o}=e.type.prototype;if(r){const r=Tt(e);(n.preOrderHooks||(n.preOrderHooks=[])).push(t,r),(n.preOrderCheckHooks||(n.preOrderCheckHooks=[])).push(t,r)}i&&(n.preOrderHooks||(n.preOrderHooks=[])).push(0-t,i),o&&((n.preOrderHooks||(n.preOrderHooks=[])).push(t,o),(n.preOrderCheckHooks||(n.preOrderCheckHooks=[])).push(t,o))}(n,o[n],e)}finally{null!==u&&D(u),Ue(a),s.resolving=!1,ve()}}return i}function en(t,e,n){const r=64&t,i=32&t;let o;return o=128&t?r?i?n[e+7]:n[e+6]:i?n[e+5]:n[e+4]:r?i?n[e+3]:n[e+2]:i?n[e+1]:n[e],!!(o&1<<t)}function nn(t,e){return!(t&N.Self||t&N.Host&&e)}class rn{constructor(t,e){this._tNode=t,this._lView=e}get(t,e){return Ke(this._tNode,this._lView,t,void 0,e)}}function on(t){const e=t;if(O(t))return()=>{const t=on(_(e));return t?t():null};let n=yt(e);if(null===n){const t=I(e);n=t&&t.factory}return n||null}function sn(t){return R(()=>{const e=t.prototype.constructor,n=e[Y]||on(e),r=Object.prototype;let i=Object.getPrototypeOf(t.prototype).constructor;for(;i&&i!==r;){const t=i[Y]||on(i);if(t&&t!==n)return t;i=Object.getPrototypeOf(i)}return t=>new t})}function an(t){return function(t,e){if("class"===e)return t.classes;if("style"===e)return t.styles;const n=t.attrs;if(n){const t=n.length;let r=0;for(;r<t;){const i=n[r];if(Ne(i))break;if(0===i)r+=2;else if("number"==typeof i)for(r++;r<t&&"string"==typeof n[r];)r++;else{if(i===e)return n[r+1];r+=2}}}return null}(Zt(),t)}const un="__parameters__";function cn(t,e,n){return R(()=>{const r=function(t){return function(...e){if(t){const n=t(...e);for(const t in n)this[t]=n[t]}}}(e);function i(...t){if(this instanceof i)return r.apply(this,t),this;const e=new i(...t);return n.annotation=e,n;function n(t,n,r){const i=t.hasOwnProperty(un)?t[un]:Object.defineProperty(t,un,{value:[]})[un];for(;i.length<=r;)i.push(null);return(i[r]=i[r]||[]).push(e),t}}return n&&(i.prototype=Object.create(n.prototype)),i.prototype.ngMetadataName=t,i.annotationCls=i,i})}class ln{constructor(t,e){this._desc=t,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof e?this.__NG_ELEMENT_ID__=e:void 0!==e&&(this.\u0275prov=S({token:this,providedIn:e.providedIn||"root",factory:e.factory}))}toString(){return"InjectionToken "+this._desc}}const hn=new ln("AnalyzeForEntryComponents"),fn=Function;function dn(t,e){void 0===e&&(e=t);for(let n=0;n<t.length;n++){let r=t[n];Array.isArray(r)?(e===t&&(e=t.slice(0,n)),dn(r,e)):e!==t&&e.push(r)}return e}function pn(t,e){t.forEach(t=>Array.isArray(t)?pn(t,e):e(t))}function gn(t,e,n){e>=t.length?t.push(n):t.splice(e,0,n)}function bn(t,e){return e>=t.length-1?t.pop():t.splice(e,1)[0]}function mn(t,e){const n=[];for(let r=0;r<t;r++)n.push(e);return n}function vn(t,e,n){let r=wn(t,e);return r>=0?t[1|r]=n:(r=~r,function(t,e,n,r){let i=t.length;if(i==e)t.push(n,r);else if(1===i)t.push(r,t[0]),t[0]=n;else{for(i--,t.push(t[i-1],t[i]);i>e;)t[i]=t[i-2],i--;t[e]=n,t[e+1]=r}}(t,r,e,n)),r}function yn(t,e){const n=wn(t,e);if(n>=0)return t[1|n]}function wn(t,e){return function(t,e,n){let r=0,i=t.length>>1;for(;i!==r;){const n=r+(i-r>>1),o=t[n<<1];if(e===o)return n<<1;o>e?i=n:r=n+1}return~(i<<1)}(t,e)}const _n=cn("Inject",t=>({token:t})),On=cn("Optional"),Sn=cn("Self"),Cn=cn("SkipSelf"),En={},Tn=/\n/gm,In="__source",xn=g({provide:String,useValue:g});let An,kn=void 0;function jn(t){const e=kn;return kn=t,e}function Nn(t,e=N.Default){if(void 0===kn)throw new Error("inject() must be called from an injection context");return null===kn?M(t,void 0,e):kn.get(t,e&N.Optional?null:void 0,e)}function Pn(t,e=N.Default){return(P||Nn)(_(t),e)}function Dn(t){const e=[];for(let n=0;n<t.length;n++){const r=_(t[n]);if(Array.isArray(r)){if(0===r.length)throw new Error("Arguments array must have arguments.");let t=void 0,n=N.Default;for(let e=0;e<r.length;e++){const i=r[e];i instanceof On||"Optional"===i.ngMetadataName||i===On?n|=N.Optional:i instanceof Cn||"SkipSelf"===i.ngMetadataName||i===Cn?n|=N.SkipSelf:i instanceof Sn||"Self"===i.ngMetadataName||i===Sn?n|=N.Self:t=i instanceof _n||i===_n?i.token:i}e.push(Pn(t,n))}else e.push(Pn(r))}return e}function Mn(t){var e;return(null===(e=function(){if(void 0===An&&(An=null,z.trustedTypes))try{An=z.trustedTypes.createPolicy("angular",{createHTML:t=>t,createScript:t=>t,createScriptURL:t=>t})}catch(e){}return An}())||void 0===e?void 0:e.createHTML(t))||t}class Rn{constructor(t){this.changingThisBreaksApplicationSecurity=t}toString(){return"SafeValue must use [property]=binding: "+this.changingThisBreaksApplicationSecurity+" (see https://g.co/ng/security#xss)"}}class Vn extends Rn{getTypeName(){return"HTML"}}class Ln extends Rn{getTypeName(){return"Style"}}class Fn extends Rn{getTypeName(){return"Script"}}class Un extends Rn{getTypeName(){return"URL"}}class qn extends Rn{getTypeName(){return"ResourceURL"}}function Hn(t){return t instanceof Rn?t.changingThisBreaksApplicationSecurity:t}function zn(t,e){const n=Bn(t);if(null!=n&&n!==e){if("ResourceURL"===n&&"URL"===e)return!0;throw new Error(`Required a safe ${e}, got a ${n} (see https://g.co/ng/security#xss)`)}return n===e}function Bn(t){return t instanceof Rn&&t.getTypeName()||null}function Gn(t){return new Vn(t)}function $n(t){return new Ln(t)}function Wn(t){return new Fn(t)}function Jn(t){return new Un(t)}function Kn(t){return new qn(t)}let Qn=!0,Yn=!1;function Zn(){return Yn=!0,Qn}function Xn(){if(Yn)throw new Error("Cannot enable prod mode after platform setup.");Qn=!1}class tr{getInertBodyElement(t){t="<body><remove></remove>"+t;try{const e=(new window.DOMParser).parseFromString(Mn(t),"text/html").body;return e.removeChild(e.firstChild),e}catch(e){return null}}}class er{constructor(t){if(this.defaultDoc=t,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert"),null==this.inertDocument.body){const t=this.inertDocument.createElement("html");this.inertDocument.appendChild(t);const e=this.inertDocument.createElement("body");t.appendChild(e)}}getInertBodyElement(t){const e=this.inertDocument.createElement("template");if("content"in e)return e.innerHTML=Mn(t),e;const n=this.inertDocument.createElement("body");return n.innerHTML=Mn(t),this.defaultDoc.documentMode&&this.stripCustomNsAttrs(n),n}stripCustomNsAttrs(t){const e=t.attributes;for(let r=e.length-1;0<r;r--){const n=e.item(r).name;"xmlns:ns1"!==n&&0!==n.indexOf("ns1:")||t.removeAttribute(n)}let n=t.firstChild;for(;n;)n.nodeType===Node.ELEMENT_NODE&&this.stripCustomNsAttrs(n),n=n.nextSibling}}const nr=/^(?:(?:https?|mailto|ftp|tel|file|sms):|[^&:/?#]*(?:[/?#]|$))/gi,rr=/^data:(?:image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp)|video\/(?:mpeg|mp4|ogg|webm)|audio\/(?:mp3|oga|ogg|opus));base64,[a-z0-9+\/]+=*$/i;function ir(t){return(t=String(t)).match(nr)||t.match(rr)?t:(Zn()&&console.warn(`WARNING: sanitizing unsafe URL value ${t} (see https://g.co/ng/security#xss)`),"unsafe:"+t)}function or(t){const e={};for(const n of t.split(","))e[n]=!0;return e}function sr(...t){const e={};for(const n of t)for(const t in n)n.hasOwnProperty(t)&&(e[t]=!0);return e}const ar=or("area,br,col,hr,img,wbr"),ur=or("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),cr=or("rp,rt"),lr=sr(cr,ur),hr=sr(ar,sr(ur,or("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),sr(cr,or("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),lr),fr=or("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),dr=or("srcset"),pr=sr(fr,dr,or("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),or("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),gr=or("script,style,template");class br{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(t){let e=t.firstChild,n=!0;for(;e;)if(e.nodeType===Node.ELEMENT_NODE?n=this.startElement(e):e.nodeType===Node.TEXT_NODE?this.chars(e.nodeValue):this.sanitizedSomething=!0,n&&e.firstChild)e=e.firstChild;else for(;e;){e.nodeType===Node.ELEMENT_NODE&&this.endElement(e);let t=this.checkClobberedElement(e,e.nextSibling);if(t){e=t;break}e=this.checkClobberedElement(e,e.parentNode)}return this.buf.join("")}startElement(t){const e=t.nodeName.toLowerCase();if(!hr.hasOwnProperty(e))return this.sanitizedSomething=!0,!gr.hasOwnProperty(e);this.buf.push("<"),this.buf.push(e);const n=t.attributes;for(let i=0;i<n.length;i++){const t=n.item(i),e=t.name,o=e.toLowerCase();if(!pr.hasOwnProperty(o)){this.sanitizedSomething=!0;continue}let s=t.value;fr[o]&&(s=ir(s)),dr[o]&&(r=s,s=(r=String(r)).split(",").map(t=>ir(t.trim())).join(", ")),this.buf.push(" ",e,'="',yr(s),'"')}var r;return this.buf.push(">"),!0}endElement(t){const e=t.nodeName.toLowerCase();hr.hasOwnProperty(e)&&!ar.hasOwnProperty(e)&&(this.buf.push("</"),this.buf.push(e),this.buf.push(">"))}chars(t){this.buf.push(yr(t))}checkClobberedElement(t,e){if(e&&(t.compareDocumentPosition(e)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error("Failed to sanitize html because the element is clobbered: "+t.outerHTML);return e}}const mr=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,vr=/([^\#-~ |!])/g;function yr(t){return t.replace(/&/g,"&amp;").replace(mr,function(t){return"&#"+(1024*(t.charCodeAt(0)-55296)+(t.charCodeAt(1)-56320)+65536)+";"}).replace(vr,function(t){return"&#"+t.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let wr;function _r(t,e){let n=null;try{wr=wr||function(t){return function(){try{return!!(new window.DOMParser).parseFromString(Mn(""),"text/html")}catch(t){return!1}}()?new tr:new er(t)}(t);let r=e?String(e):"";n=wr.getInertBodyElement(r);let i=5,o=r;do{if(0===i)throw new Error("Failed to sanitize html because the input is unstable");i--,r=o,o=n.innerHTML,n=wr.getInertBodyElement(r)}while(r!==o);const s=new br,a=s.sanitizeChildren(Or(n)||n);return Zn()&&s.sanitizedSomething&&console.warn("WARNING: sanitizing HTML stripped some content, see https://g.co/ng/security#xss"),a}finally{if(n){const t=Or(n)||n;for(;t.firstChild;)t.removeChild(t.firstChild)}}}function Or(t){return"content"in t&&function(t){return t.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===t.nodeName}(t)?t.content:null}var Sr=function(t){return t[t.NONE=0]="NONE",t[t.HTML=1]="HTML",t[t.STYLE=2]="STYLE",t[t.SCRIPT=3]="SCRIPT",t[t.URL=4]="URL",t[t.RESOURCE_URL=5]="RESOURCE_URL",t}({});function Cr(t){const e=Tr();return e?e.sanitize(Sr.HTML,t)||"":zn(t,"HTML")?Hn(t):_r(Nt(),_t(t))}function Er(t){const e=Tr();return e?e.sanitize(Sr.URL,t)||"":zn(t,"URL")?Hn(t):ir(_t(t))}function Tr(){const t=Kt();return t&&t[12]}function Ir(t){return t.ngDebugContext}function xr(t){return t.ngOriginalError}function Ar(t,...e){t.error(...e)}class kr{constructor(){this._console=console}handleError(t){const e=this._findOriginalError(t),n=this._findContext(t),r=function(t){return t.ngErrorLogger||Ar}(t);r(this._console,"ERROR",t),e&&r(this._console,"ORIGINAL ERROR",e),n&&r(this._console,"ERROR CONTEXT",n)}_findContext(t){return t?Ir(t)?Ir(t):this._findContext(xr(t)):null}_findOriginalError(t){let e=xr(t);for(;e&&xr(e);)e=xr(e);return e}}function jr(t,e){t.__ngContext__=e}const Nr=(()=>("undefined"!=typeof requestAnimationFrame&&requestAnimationFrame||setTimeout).bind(z))();function Pr(t){return t instanceof Function?t():t}var Dr=function(t){return t[t.Important=1]="Important",t[t.DashCase=2]="DashCase",t}({});function Mr(t,e){return(void 0)(t,e)}function Rr(t){const e=t[3];return pt(e)?e[3]:e}function Vr(t){return Fr(t[13])}function Lr(t){return Fr(t[4])}function Fr(t){for(;null!==t&&!pt(t);)t=t[4];return t}function Ur(t,e,n,r,i){if(null!=r){let o,s=!1;pt(r)?o=r:dt(r)&&(s=!0,r=r[0]);const a=Mt(r);0===t&&null!==n?null==i?Jr(e,n,a):Wr(e,n,a,i||null,!0):1===t&&null!==n?Wr(e,n,a,i||null,!0):2===t?function(t,e,n){const r=Qr(t,e);r&&function(t,e,n,r){Pt(t)?t.removeChild(e,n,r):e.removeChild(n)}(t,r,e,n)}(e,a,s):3===t&&e.destroyNode(a),null!=o&&function(t,e,n,r,i){const o=n[7];o!==Mt(n)&&Ur(e,t,r,o,i);for(let s=ft;s<n.length;s++){const i=n[s];ri(i[1],i,t,e,r,o)}}(e,t,o,n,i)}}function qr(t,e,n){return Pt(t)?t.createElement(e,n):null===n?t.createElement(e):t.createElementNS(n,e)}function Hr(t,e){const n=t[9],r=n.indexOf(e),i=e[3];1024&e[2]&&(e[2]&=-1025,$t(i,-1)),n.splice(r,1)}function zr(t,e){if(t.length<=ft)return;const n=ft+e,r=t[n];if(r){const o=r[17];null!==o&&o!==t&&Hr(o,r),e>0&&(t[n-1][4]=r[4]);const s=bn(t,ft+e);ri(r[1],i=r,i[11],2,null,null),i[0]=null,i[6]=null;const a=s[19];null!==a&&a.detachView(s[1]),r[3]=null,r[4]=null,r[2]&=-129}var i;return r}function Br(t,e){if(!(256&e[2])){const n=e[11];Pt(n)&&n.destroyNode&&ri(t,e,n,3,null,null),function(t){let e=t[13];if(!e)return Gr(t[1],t);for(;e;){let n=null;if(dt(e))n=e[13];else{const t=e[10];t&&(n=t)}if(!n){for(;e&&!e[4]&&e!==t;)dt(e)&&Gr(e[1],e),e=e[3];null===e&&(e=t),dt(e)&&Gr(e[1],e),n=e&&e[4]}e=n}}(e)}}function Gr(t,e){if(!(256&e[2])){e[2]&=-129,e[2]|=256,function(t,e){let n;if(null!=t&&null!=(n=t.destroyHooks))for(let r=0;r<n.length;r+=2){const t=e[n[r]];if(!(t instanceof ke)){const e=n[r+1];if(Array.isArray(e))for(let n=0;n<e.length;n+=2)e[n+1].call(t[e[n]]);else e.call(t)}}}(t,e),function(t,e){const n=t.cleanup;if(null!==n){const t=e[7];for(let r=0;r<n.length-1;r+=2)if("string"==typeof n[r]){const i=n[r+1],o="function"==typeof i?i(e):Mt(e[i]),s=t[n[r+2]],a=n[r+3];"boolean"==typeof a?o.removeEventListener(n[r],s,a):a>=0?t[a]():t[-a].unsubscribe(),r+=2}else n[r].call(t[n[r+1]]);e[7]=null}}(t,e),1===e[1].type&&Pt(e[11])&&e[11].destroy();const n=e[17];if(null!==n&&pt(e[3])){n!==e[3]&&Hr(n,e);const r=e[19];null!==r&&r.detachView(t)}}}function $r(t,e,n){return function(t,e,n){let r=e;for(;null!==r&&40&r.type;)r=(e=r).parent;if(null===r)return n[0];if(2&r.flags){const e=t.data[r.directiveStart].encapsulation;if(e===L.None||e===L.Emulated)return null}return Vt(r,n)}(t,e.parent,n)}function Wr(t,e,n,r,i){Pt(t)?t.insertBefore(e,n,r,i):e.insertBefore(n,r,i)}function Jr(t,e,n){Pt(t)?t.appendChild(e,n):e.appendChild(n)}function Kr(t,e,n,r,i){null!==r?Wr(t,e,n,r,i):Jr(t,e,n)}function Qr(t,e){return Pt(t)?t.parentNode(e):e.parentNode}function Yr(t,e,n){return Zr(t,e,n)}let Zr=function(t,e,n){return 40&t.type?Vt(t,n):null};function Xr(t,e,n,r){const i=$r(t,r,e),o=e[11],s=Yr(r.parent||e[6],r,e);if(null!=i)if(Array.isArray(n))for(let a=0;a<n.length;a++)Kr(o,i,n[a],s,!1);else Kr(o,i,n,s,!1)}function ti(t,e){if(null!==e){const n=e.type;if(3&n)return Vt(e,t);if(4&n)return ei(-1,t[e.index]);if(8&n){const n=e.child;if(null!==n)return ti(t,n);{const n=t[e.index];return pt(n)?ei(-1,n):Mt(n)}}if(32&n)return Mr(e,t)()||Mt(t[e.index]);{const n=t[16],r=n[6],i=Rr(n),o=r.projection[e.projection];return null!=o?ti(i,o):ti(t,e.next)}}return null}function ei(t,e){const n=ft+t+1;if(n<e.length){const t=e[n],r=t[1].firstChild;if(null!==r)return ti(t,r)}return e[7]}function ni(t,e,n,r,i,o,s){for(;null!=n;){const a=r[n.index],u=n.type;if(s&&0===e&&(a&&jr(Mt(a),r),n.flags|=4),64!=(64&n.flags))if(8&u)ni(t,e,n.child,r,i,o,!1),Ur(e,t,i,a,o);else if(32&u){const s=Mr(n,r);let u;for(;u=s();)Ur(e,t,i,u,o);Ur(e,t,i,a,o)}else 16&u?ii(t,e,r,n,i,o):Ur(e,t,i,a,o);n=s?n.projectionNext:n.next}}function ri(t,e,n,r,i,o){ni(n,r,t.firstChild,e,i,o,!1)}function ii(t,e,n,r,i,o){const s=n[16],a=s[6].projection[r.projection];if(Array.isArray(a))for(let u=0;u<a.length;u++)Ur(e,t,i,a[u],o);else ni(t,e,a,s[3],i,o,!0)}function oi(t,e,n){Pt(t)?t.setAttribute(e,"style",n):e.style.cssText=n}function si(t,e,n){Pt(t)?""===n?t.removeAttribute(e,"class"):t.setAttribute(e,"class",n):e.className=n}function ai(t,e,n){let r=t.length;for(;;){const i=t.indexOf(e,n);if(-1===i)return i;if(0===i||t.charCodeAt(i-1)<=32){const n=e.length;if(i+n===r||t.charCodeAt(i+n)<=32)return i}n=i+1}}const ui="ng-template";function ci(t,e,n){let r=0;for(;r<t.length;){let i=t[r++];if(n&&"class"===i){if(i=t[r],-1!==ai(i.toLowerCase(),e,0))return!0}else if(1===i){for(;r<t.length&&"string"==typeof(i=t[r++]);)if(i.toLowerCase()===e)return!0;return!1}}return!1}function li(t){return 4===t.type&&t.value!==ui}function hi(t,e,n){return e===(4!==t.type||n?t.value:ui)}function fi(t,e,n){let r=4;const i=t.attrs||[],o=function(t){for(let e=0;e<t.length;e++)if(Ne(t[e]))return e;return t.length}(i);let s=!1;for(let a=0;a<e.length;a++){const u=e[a];if("number"!=typeof u){if(!s)if(4&r){if(r=2|1&r,""!==u&&!hi(t,u,n)||""===u&&1===e.length){if(di(r))return!1;s=!0}}else{const c=8&r?u:e[++a];if(8&r&&null!==t.attrs){if(!ci(t.attrs,c,n)){if(di(r))return!1;s=!0}continue}const l=pi(8&r?"class":u,i,li(t),n);if(-1===l){if(di(r))return!1;s=!0;continue}if(""!==c){let t;t=l>o?"":i[l+1].toLowerCase();const e=8&r?t:null;if(e&&-1!==ai(e,c,0)||2&r&&c!==t){if(di(r))return!1;s=!0}}}}else{if(!s&&!di(r)&&!di(u))return!1;if(s&&di(u))continue;s=!1,r=u|1&r}}return di(r)||s}function di(t){return 0==(1&t)}function pi(t,e,n,r){if(null===e)return-1;let i=0;if(r||!n){let n=!1;for(;i<e.length;){const r=e[i];if(r===t)return i;if(3===r||6===r)n=!0;else{if(1===r||2===r){let t=e[++i];for(;"string"==typeof t;)t=e[++i];continue}if(4===r)break;if(0===r){i+=4;continue}}i+=n?1:2}return-1}return function(t,e){let n=t.indexOf(4);if(n>-1)for(n++;n<t.length;){const r=t[n];if("number"==typeof r)return-1;if(r===e)return n;n++}return-1}(e,t)}function gi(t,e,n=!1){for(let r=0;r<e.length;r++)if(fi(t,e[r],n))return!0;return!1}function bi(t,e){t:for(let n=0;n<e.length;n++){const r=e[n];if(t.length===r.length){for(let e=0;e<t.length;e++)if(t[e]!==r[e])continue t;return!0}}return!1}function mi(t,e){return t?":not("+e.trim()+")":e}function vi(t){let e=t[0],n=1,r=2,i="",o=!1;for(;n<t.length;){let s=t[n];if("string"==typeof s)if(2&r){const e=t[++n];i+="["+s+(e.length>0?'="'+e+'"':"")+"]"}else 8&r?i+="."+s:4&r&&(i+=" "+s);else""===i||di(s)||(e+=mi(o,i),i=""),r=s,o=o||!di(r);n++}return""!==i&&(e+=mi(o,i)),e}const yi={};function wi(t){_i(Qt(),Kt(),we()+t,re())}function _i(t,e,n,r){if(!r)if(3==(3&e[2])){const r=t.preOrderCheckHooks;null!==r&&Ce(e,r,n)}else{const r=t.preOrderHooks;null!==r&&Ee(e,r,0,n)}_e(n)}function Oi(t,e){return t<<17|e<<2}function Si(t){return t>>17&32767}function Ci(t){return 2|t}function Ei(t){return(131068&t)>>2}function Ti(t,e){return-131069&t|e<<2}function Ii(t){return 1|t}function xi(t,e){const n=t.contentQueries;if(null!==n)for(let r=0;r<n.length;r+=2){const i=n[r],o=n[r+1];if(-1!==o){const n=t.data[o];he(i),n.contentQueries(2,e[o],o)}}}function Ai(t,e,n,r,i,o,s,a,u,c){const l=e.blueprint.slice();return l[0]=i,l[2]=140|r,Gt(l),l[3]=l[15]=t,l[8]=n,l[10]=s||t&&t[10],l[11]=a||t&&t[11],l[12]=u||t&&t[12]||null,l[9]=c||t&&t[9]||null,l[6]=o,l[16]=2==e.type?t[16]:l,l}function ki(t,e,n,r,i){let o=t.data[e];if(null===o)o=function(t,e,n,r,i){const o=Xt(),s=ee(),a=t.data[e]=function(t,e,n,r,i,o){return{type:n,index:r,insertBeforeIndex:null,injectorIndex:e?e.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,propertyBindings:null,flags:0,providerIndexes:0,value:i,attrs:o,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tViews:null,next:null,projectionNext:null,child:null,parent:e,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,s?o:o&&o.parent,n,e,r,i);return null===t.firstChild&&(t.firstChild=a),null!==o&&(s?null==o.child&&null!==a.parent&&(o.child=a):null===o.next&&(o.next=a)),a}(t,e,n,r,i),Wt.lFrame.inI18n&&(o.flags|=64);else if(64&o.type){o.type=n,o.value=r,o.attrs=i;const t=function(){const t=Wt.lFrame,e=t.currentTNode;return t.isParent?e:e.parent}();o.injectorIndex=null===t?-1:t.injectorIndex}return te(o,!0),o}function ji(t,e,n,r){if(0===n)return-1;const i=e.length;for(let o=0;o<n;o++)e.push(r),t.blueprint.push(r),t.data.push(null);return i}function Ni(t,e,n){pe(e);try{const r=t.viewQuery;null!==r&&uo(1,r,n);const i=t.template;null!==i&&Mi(t,e,i,1,n),t.firstCreatePass&&(t.firstCreatePass=!1),t.staticContentQueries&&xi(t,e),t.staticViewQueries&&uo(2,t.viewQuery,n);const o=t.components;null!==o&&function(t,e){for(let n=0;n<e.length;n++)ro(t,e[n])}(e,o)}catch(r){throw t.firstCreatePass&&(t.incompleteFirstPass=!0),r}finally{e[2]&=-5,ye()}}function Pi(t,e,n,r){const i=e[2];if(256==(256&i))return;pe(e);const o=re();try{Gt(e),Wt.lFrame.bindingIndex=t.bindingStartIndex,null!==n&&Mi(t,e,n,2,r);const s=3==(3&i);if(!o)if(s){const n=t.preOrderCheckHooks;null!==n&&Ce(e,n,null)}else{const n=t.preOrderHooks;null!==n&&Ee(e,n,0,null),Te(e,0)}if(function(t){for(let e=Vr(t);null!==e;e=Lr(e)){if(!e[2])continue;const t=e[9];for(let e=0;e<t.length;e++){const n=t[e],r=n[3];0==(1024&n[2])&&$t(r,1),n[2]|=1024}}}(e),function(t){for(let e=Vr(t);null!==e;e=Lr(e))for(let t=ft;t<e.length;t++){const n=e[t],r=n[1];zt(n)&&Pi(r,n,r.template,n[8])}}(e),null!==t.contentQueries&&xi(t,e),!o)if(s){const n=t.contentCheckHooks;null!==n&&Ce(e,n)}else{const n=t.contentHooks;null!==n&&Ee(e,n,1),Te(e,1)}!function(t,e){const n=t.hostBindingOpCodes;if(null!==n)try{for(let t=0;t<n.length;t++){const r=n[t];if(r<0)_e(~r);else{const i=r,o=n[++t],s=n[++t];ue(o,i),s(2,e[i])}}}finally{_e(-1)}}(t,e);const a=t.components;null!==a&&function(t,e){for(let n=0;n<e.length;n++)eo(t,e[n])}(e,a);const u=t.viewQuery;if(null!==u&&uo(2,u,r),!o)if(s){const n=t.viewCheckHooks;null!==n&&Ce(e,n)}else{const n=t.viewHooks;null!==n&&Ee(e,n,2),Te(e,2)}!0===t.firstUpdatePass&&(t.firstUpdatePass=!1),o||(e[2]&=-73),1024&e[2]&&(e[2]&=-1025,$t(e[3],-1))}finally{ye()}}function Di(t,e,n,r){const i=e[10],o=!re(),s=Ht(e);try{o&&!s&&i.begin&&i.begin(),s&&Ni(t,e,r),Pi(t,e,n,r)}finally{o&&!s&&i.end&&i.end()}}function Mi(t,e,n,r,i){const o=we();try{_e(-1),2&r&&e.length>ht&&_i(t,e,ht,re()),n(r,i)}finally{_e(o)}}function Ri(t,e,n){if(gt(e)){const r=e.directiveEnd;for(let i=e.directiveStart;i<r;i++){const e=t.data[i];e.contentQueries&&e.contentQueries(1,n[i],i)}}}function Vi(t,e,n){Jt()&&(function(t,e,n,r){const i=n.directiveStart,o=n.directiveEnd;t.firstCreatePass||He(n,e),jr(r,e);const s=n.initialInputs;for(let a=i;a<o;a++){const r=t.data[a],o=vt(r);o&&Yi(e,n,r);const u=tn(e,t,a,n);jr(u,e),null!==s&&Zi(0,a-i,u,r,0,s),o&&(Ut(n.index,e)[8]=u)}}(t,e,n,Vt(n,e)),128==(128&n.flags)&&function(t,e,n){const r=n.directiveStart,i=n.directiveEnd,o=n.index,s=Wt.lFrame.currentDirectiveIndex;try{_e(o);for(let n=r;n<i;n++){const r=t.data[n],i=e[n];ce(n),null===r.hostBindings&&0===r.hostVars&&null===r.hostAttrs||$i(r,i)}}finally{_e(-1),ce(s)}}(t,e,n))}function Li(t,e,n=Vt){const r=e.localNames;if(null!==r){let i=e.index+1;for(let o=0;o<r.length;o+=2){const s=r[o+1],a=-1===s?n(e,t):t[s];t[i++]=a}}}function Fi(t){const e=t.tView;return null===e||e.incompleteFirstPass?t.tView=Ui(1,null,t.template,t.decls,t.vars,t.directiveDefs,t.pipeDefs,t.viewQuery,t.schemas,t.consts):e}function Ui(t,e,n,r,i,o,s,a,u,c){const l=ht+r,h=l+i,f=function(t,e){const n=[];for(let r=0;r<e;r++)n.push(r<t?null:yi);return n}(l,h),d="function"==typeof c?c():c;return f[1]={type:t,blueprint:f,template:n,queries:null,viewQuery:a,declTNode:e,data:f.slice().fill(null,l),bindingStartIndex:l,expandoStartIndex:h,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof o?o():o,pipeRegistry:"function"==typeof s?s():s,firstChild:null,schemas:u,consts:d,incompleteFirstPass:!1}}function qi(t,e,n,r){const i=lo(e);i.push(n),t.firstCreatePass&&function(t){return t.cleanup||(t.cleanup=[])}(t).push(r,i.length-1)}function Hi(t,e,n){for(let r in t)if(t.hasOwnProperty(r)){const i=t[r];(n=null===n?{}:n).hasOwnProperty(r)?n[r].push(e,i):n[r]=[e,i]}return n}function zi(t,e,n,r,i,o,s,a){const u=Vt(e,n);let c,l=e.inputs;!a&&null!=l&&(c=l[r])?(fo(t,n,c,r,i),bt(e)&&function(t,e){const n=Ut(e,t);16&n[2]||(n[2]|=64)}(n,e.index)):3&e.type&&(r=function(t){return"class"===t?"className":"for"===t?"htmlFor":"formaction"===t?"formAction":"innerHtml"===t?"innerHTML":"readonly"===t?"readOnly":"tabindex"===t?"tabIndex":t}(r),i=null!=s?s(i,e.value||"",r):i,Pt(o)?o.setProperty(u,r,i):Pe(r)||(u.setProperty?u.setProperty(r,i):u[r]=i))}function Bi(t,e,n,r){let i=!1;if(Jt()){const o=function(t,e,n){const r=t.directiveRegistry;let i=null;if(r)for(let o=0;o<r.length;o++){const s=r[o];gi(n,s.selectors,!1)&&(i||(i=[]),$e(He(n,e),t,s.type),vt(s)?(Wi(t,n),i.unshift(s)):i.push(s))}return i}(t,e,n),s=null===r?null:{"":-1};if(null!==o){i=!0,Ki(n,t.data.length,o.length);for(let t=0;t<o.length;t++){const e=o[t];e.providersResolver&&e.providersResolver(e)}let r=!1,a=!1,u=ji(t,e,o.length,null);for(let i=0;i<o.length;i++){const c=o[i];n.mergedAttrs=De(n.mergedAttrs,c.hostAttrs),Qi(t,n,e,u,c),Ji(u,c,s),null!==c.contentQueries&&(n.flags|=8),null===c.hostBindings&&null===c.hostAttrs&&0===c.hostVars||(n.flags|=128);const l=c.type.prototype;!r&&(l.ngOnChanges||l.ngOnInit||l.ngDoCheck)&&((t.preOrderHooks||(t.preOrderHooks=[])).push(n.index),r=!0),a||!l.ngOnChanges&&!l.ngDoCheck||((t.preOrderCheckHooks||(t.preOrderCheckHooks=[])).push(n.index),a=!0),u++}!function(t,e){const n=e.directiveEnd,r=t.data,i=e.attrs,o=[];let s=null,a=null;for(let u=e.directiveStart;u<n;u++){const t=r[u],n=t.inputs,c=null===i||li(e)?null:Xi(n,i);o.push(c),s=Hi(n,u,s),a=Hi(t.outputs,u,a)}null!==s&&(s.hasOwnProperty("class")&&(e.flags|=16),s.hasOwnProperty("style")&&(e.flags|=32)),e.initialInputs=o,e.inputs=s,e.outputs=a}(t,n)}s&&function(t,e,n){if(e){const r=t.localNames=[];for(let t=0;t<e.length;t+=2){const i=n[e[t+1]];if(null==i)throw new wt("301",`Export of name '${e[t+1]}' not found!`);r.push(e[t],i)}}}(n,r,s)}return n.mergedAttrs=De(n.mergedAttrs,n.attrs),i}function Gi(t,e,n,r,i,o){const s=o.hostBindings;if(s){let n=t.hostBindingOpCodes;null===n&&(n=t.hostBindingOpCodes=[]);const o=~e.index;(function(t){let e=t.length;for(;e>0;){const n=t[--e];if("number"==typeof n&&n<0)return n}return 0})(n)!=o&&n.push(o),n.push(r,i,s)}}function $i(t,e){null!==t.hostBindings&&t.hostBindings(1,e)}function Wi(t,e){e.flags|=2,(t.components||(t.components=[])).push(e.index)}function Ji(t,e,n){if(n){if(e.exportAs)for(let r=0;r<e.exportAs.length;r++)n[e.exportAs[r]]=t;vt(e)&&(n[""]=t)}}function Ki(t,e,n){t.flags|=1,t.directiveStart=e,t.directiveEnd=e+n,t.providerIndexes=e}function Qi(t,e,n,r,i){t.data[r]=i;const o=i.factory||(i.factory=yt(i.type)),s=new ke(o,vt(i),null);t.blueprint[r]=s,n[r]=s,Gi(t,e,0,r,ji(t,n,i.hostVars,yi),i)}function Yi(t,e,n){const r=Vt(e,t),i=Fi(n),o=t[10],s=io(t,Ai(t,i,null,n.onPush?64:16,r,e,o,o.createRenderer(r,n),null,null));t[e.index]=s}function Zi(t,e,n,r,i,o){const s=o[e];if(null!==s){const t=r.setInput;for(let e=0;e<s.length;){const i=s[e++],o=s[e++],a=s[e++];null!==t?r.setInput(n,a,i,o):n[o]=a}}}function Xi(t,e){let n=null,r=0;for(;r<e.length;){const i=e[r];if(0!==i)if(5!==i){if("number"==typeof i)break;t.hasOwnProperty(i)&&(null===n&&(n=[]),n.push(i,t[i],e[r+1])),r+=2}else r+=2;else r+=4}return n}function to(t,e,n,r){return new Array(t,!0,!1,e,null,0,r,n,null,null)}function eo(t,e){const n=Ut(e,t);if(zt(n)){const t=n[1];80&n[2]?Pi(t,n,t.template,n[8]):n[5]>0&&no(n)}}function no(t){for(let n=Vr(t);null!==n;n=Lr(n))for(let t=ft;t<n.length;t++){const e=n[t];if(1024&e[2]){const t=e[1];Pi(t,e,t.template,e[8])}else e[5]>0&&no(e)}const e=t[1].components;if(null!==e)for(let n=0;n<e.length;n++){const r=Ut(e[n],t);zt(r)&&r[5]>0&&no(r)}}function ro(t,e){const n=Ut(e,t),r=n[1];!function(t,e){for(let n=e.length;n<t.blueprint.length;n++)e.push(t.blueprint[n])}(r,n),Ni(r,n,n[8])}function io(t,e){return t[13]?t[14][4]=e:t[13]=e,t[14]=e,e}function oo(t){for(;t;){t[2]|=64;const e=Rr(t);if(0!=(512&t[2])&&!e)return t;t=e}return null}function so(t,e,n){const r=e[10];r.begin&&r.begin();try{Pi(t,e,t.template,n)}catch(i){throw ho(e,i),i}finally{r.end&&r.end()}}function ao(t){!function(t){for(let e=0;e<t.components.length;e++){const n=t.components[e],r=qt(n),i=r[1];Di(i,r,i.template,n)}}(t[8])}function uo(t,e,n){he(0),e(t,n)}const co=(()=>Promise.resolve(null))();function lo(t){return t[7]||(t[7]=[])}function ho(t,e){const n=t[9],r=n?n.get(kr,null):null;r&&r.handleError(e)}function fo(t,e,n,r,i){for(let o=0;o<n.length;){const s=n[o++],a=n[o++],u=e[s],c=t.data[s];null!==c.setInput?c.setInput(u,i,r,a):u[a]=i}}function po(t,e,n){let r=n?t.styles:null,i=n?t.classes:null,o=0;if(null!==e)for(let s=0;s<e.length;s++){const t=e[s];"number"==typeof t?o=t:1==o?i=v(i,t):2==o&&(r=v(r,t+": "+e[++s]+";"))}n?t.styles=r:t.stylesWithoutHost=r,n?t.classes=i:t.classesWithoutHost=i}const go=new ln("INJECTOR",-1);class bo{get(t,e=En){if(e===En){const e=new Error(`NullInjectorError: No provider for ${m(t)}!`);throw e.name="NullInjectorError",e}return e}}const mo=new ln("Set Injector scope."),vo={},yo={},wo=[];let _o=void 0;function Oo(){return void 0===_o&&(_o=new bo),_o}function So(t,e=null,n=null,r){return new Co(t,n,e||Oo(),r)}class Co{constructor(t,e,n,r=null){this.parent=n,this.records=new Map,this.injectorDefTypes=new Set,this.onDestroy=new Set,this._destroyed=!1;const i=[];e&&pn(e,n=>this.processProvider(n,t,e)),pn([t],t=>this.processInjectorType(t,[],i)),this.records.set(go,Io(void 0,this));const o=this.records.get(mo);this.scope=null!=o?o.value:null,this.source=r||("object"==typeof t?null:m(t))}get destroyed(){return this._destroyed}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{this.onDestroy.forEach(t=>t.ngOnDestroy())}finally{this.records.clear(),this.onDestroy.clear(),this.injectorDefTypes.clear()}}get(t,e=En,n=N.Default){this.assertNotDestroyed();const r=jn(this);try{if(!(n&N.SkipSelf)){let e=this.records.get(t);if(void 0===e){const n=("function"==typeof(i=t)||"object"==typeof i&&i instanceof ln)&&E(t);e=n&&this.injectableDefInScope(n)?Io(Eo(t),vo):null,this.records.set(t,e)}if(null!=e)return this.hydrate(t,e)}return(n&N.Self?Oo():this.parent).get(t,e=n&N.Optional&&e===En?null:e)}catch(o){if("NullInjectorError"===o.name){if((o.ngTempTokenPath=o.ngTempTokenPath||[]).unshift(m(t)),r)throw o;return function(t,e,n,r){const i=t.ngTempTokenPath;throw e[In]&&i.unshift(e[In]),t.message=function(t,e,n,r=null){t=t&&"\n"===t.charAt(0)&&"\u0275"==t.charAt(1)?t.substr(2):t;let i=m(e);if(Array.isArray(e))i=e.map(m).join(" -> ");else if("object"==typeof e){let t=[];for(let n in e)if(e.hasOwnProperty(n)){let r=e[n];t.push(n+":"+("string"==typeof r?JSON.stringify(r):m(r)))}i=`{${t.join(", ")}}`}return`${n}${r?"("+r+")":""}[${i}]: ${t.replace(Tn,"\n  ")}`}("\n"+t.message,i,n,r),t.ngTokenPath=i,t.ngTempTokenPath=null,t}(o,t,"R3InjectorError",this.source)}throw o}finally{jn(r)}var i}_resolveInjectorDefTypes(){this.injectorDefTypes.forEach(t=>this.get(t))}toString(){const t=[];return this.records.forEach((e,n)=>t.push(m(n))),`R3Injector[${t.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new Error("Injector has already been destroyed.")}processInjectorType(t,e,n){if(!(t=_(t)))return!1;let r=I(t);const i=null==r&&t.ngModule||void 0,o=void 0===i?t:i,s=-1!==n.indexOf(o);if(void 0!==i&&(r=I(i)),null==r)return!1;if(null!=r.imports&&!s){let t;n.push(o);try{pn(r.imports,r=>{this.processInjectorType(r,e,n)&&(void 0===t&&(t=[]),t.push(r))})}finally{}if(void 0!==t)for(let e=0;e<t.length;e++){const{ngModule:n,providers:r}=t[e];pn(r,t=>this.processProvider(t,n,r||wo))}}this.injectorDefTypes.add(o),this.records.set(o,Io(r.factory,vo));const a=r.providers;if(null!=a&&!s){const e=t;pn(a,t=>this.processProvider(t,e,a))}return void 0!==i&&void 0!==t.providers}processProvider(t,e,n){let r=Ao(t=_(t))?t:_(t&&t.provide);const i=function(t,e,n){return xo(t)?Io(void 0,t.useValue):Io(To(t),vo)}(t);if(Ao(t)||!0!==t.multi)this.records.get(r);else{let e=this.records.get(r);e||(e=Io(void 0,vo,!0),e.factory=()=>Dn(e.multi),this.records.set(r,e)),r=t,e.multi.push(t)}this.records.set(r,i)}hydrate(t,e){var n;return e.value===vo&&(e.value=yo,e.value=e.factory()),"object"==typeof e.value&&e.value&&null!==(n=e.value)&&"object"==typeof n&&"function"==typeof n.ngOnDestroy&&this.onDestroy.add(e.value),e.value}injectableDefInScope(t){return!!t.providedIn&&("string"==typeof t.providedIn?"any"===t.providedIn||t.providedIn===this.scope:this.injectorDefTypes.has(t.providedIn))}}function Eo(t){const e=E(t),n=null!==e?e.factory:yt(t);if(null!==n)return n;const r=I(t);if(null!==r)return r.factory;if(t instanceof ln)throw new Error(`Token ${m(t)} is missing a \u0275prov definition.`);if(t instanceof Function)return function(t){const e=t.length;if(e>0){const n=mn(e,"?");throw new Error(`Can't resolve all parameters for ${m(t)}: (${n.join(", ")}).`)}const n=function(t){const e=t&&(t[x]||t[k]);if(e){const n=function(t){if(t.hasOwnProperty("name"))return t.name;const e=(""+t).match(/^function\s*([^\s(]+)/);return null===e?"":e[1]}(t);return console.warn(`DEPRECATED: DI is instantiating a token "${n}" that inherits its @Injectable decorator but does not provide one itself.\nThis will become an error in a future version of Angular. Please add @Injectable() to the "${n}" class.`),e}return null}(t);return null!==n?()=>n.factory(t):()=>new t}(t);throw new Error("unreachable")}function To(t,e,n){let r=void 0;if(Ao(t)){const e=_(t);return yt(e)||Eo(e)}if(xo(t))r=()=>_(t.useValue);else if((i=t)&&i.useFactory)r=()=>t.useFactory(...Dn(t.deps||[]));else if(function(t){return!(!t||!t.useExisting)}(t))r=()=>Pn(_(t.useExisting));else{const e=_(t&&(t.useClass||t.provide));if(!function(t){return!!t.deps}(t))return yt(e)||Eo(e);r=()=>new e(...Dn(t.deps))}var i;return r}function Io(t,e,n=!1){return{factory:t,value:e,multi:n?[]:void 0}}function xo(t){return null!==t&&"object"==typeof t&&xn in t}function Ao(t){return"function"==typeof t}const ko=function(t,e,n){return function(t,e=null,n=null,r){const i=So(t,e,n,r);return i._resolveInjectorDefTypes(),i}({name:n},e,t,n)};let jo=(()=>{class t{static create(t,e){return Array.isArray(t)?ko(t,e,""):ko(t.providers,t.parent,t.name||"")}}return t.THROW_IF_NOT_FOUND=En,t.NULL=new bo,t.\u0275prov=S({token:t,providedIn:"any",factory:()=>Pn(go)}),t.__NG_ELEMENT_ID__=-1,t})();function No(t,e){Se(qt(t)[1],Zt())}function Po(t){let e=Object.getPrototypeOf(t.type.prototype).constructor,n=!0;const r=[t];for(;e;){let i=void 0;if(vt(t))i=e.\u0275cmp||e.\u0275dir;else{if(e.\u0275cmp)throw new Error("Directives cannot inherit Components");i=e.\u0275dir}if(i){if(n){r.push(i);const e=t;e.inputs=Do(t.inputs),e.declaredInputs=Do(t.declaredInputs),e.outputs=Do(t.outputs);const n=i.hostBindings;n&&Vo(t,n);const o=i.viewQuery,s=i.contentQueries;if(o&&Mo(t,o),s&&Ro(t,s),b(t.inputs,i.inputs),b(t.declaredInputs,i.declaredInputs),b(t.outputs,i.outputs),vt(i)&&i.data.animation){const e=t.data;e.animation=(e.animation||[]).concat(i.data.animation)}}const e=i.features;if(e)for(let r=0;r<e.length;r++){const i=e[r];i&&i.ngInherit&&i(t),i===Po&&(n=!1)}}e=Object.getPrototypeOf(e)}!function(t){let e=0,n=null;for(let r=t.length-1;r>=0;r--){const i=t[r];i.hostVars=e+=i.hostVars,i.hostAttrs=De(i.hostAttrs,n=De(n,i.hostAttrs))}}(r)}function Do(t){return t===B?{}:t===G?[]:t}function Mo(t,e){const n=t.viewQuery;t.viewQuery=n?(t,r)=>{e(t,r),n(t,r)}:e}function Ro(t,e){const n=t.contentQueries;t.contentQueries=n?(t,r,i)=>{e(t,r,i),n(t,r,i)}:e}function Vo(t,e){const n=t.hostBindings;t.hostBindings=n?(t,r)=>{e(t,r),n(t,r)}:e}let Lo=null;function Fo(){if(!Lo){const t=z.Symbol;if(t&&t.iterator)Lo=t.iterator;else{const t=Object.getOwnPropertyNames(Map.prototype);for(let e=0;e<t.length;++e){const n=t[e];"entries"!==n&&"size"!==n&&Map.prototype[n]===Map.prototype.entries&&(Lo=n)}}}return Lo}class Uo{constructor(t){this.wrapped=t}static wrap(t){return new Uo(t)}static unwrap(t){return Uo.isWrapped(t)?t.wrapped:t}static isWrapped(t){return t instanceof Uo}}function qo(t){return!!Ho(t)&&(Array.isArray(t)||!(t instanceof Map)&&Fo()in t)}function Ho(t){return null!==t&&("function"==typeof t||"object"==typeof t)}function zo(t,e,n){return t[e]=n}function Bo(t,e,n){return!Object.is(t[e],n)&&(t[e]=n,!0)}function Go(t,e,n,r){const i=Kt();return Bo(i,se(),e)&&(Qt(),function(t,e,n,r,i,o){const s=Vt(t,e);!function(t,e,n,r,i,o,s){if(null==o)Pt(t)?t.removeAttribute(e,i,n):e.removeAttribute(i);else{const a=null==s?_t(o):s(o,r||"",i);Pt(t)?t.setAttribute(e,i,a,n):n?e.setAttributeNS(n,i,a):e.setAttribute(i,a)}}(e[11],s,o,t.value,n,r,i)}(Oe(),i,t,e,n,r)),Go}function $o(t,e,n,r){return Bo(t,se(),n)?e+_t(n)+r:yi}function Wo(t,e,n,r,i,o,s,a){const u=Kt(),c=Qt(),l=t+ht,h=c.firstCreatePass?function(t,e,n,r,i,o,s,a,u){const c=e.consts,l=ki(e,t,4,s||null,Bt(c,a));Bi(e,n,l,Bt(c,u)),Se(e,l);const h=l.tViews=Ui(2,l,r,i,o,e.directiveRegistry,e.pipeRegistry,null,e.schemas,c);return null!==e.queries&&(e.queries.template(e,l),h.queries=e.queries.embeddedTView(l)),l}(l,c,u,e,n,r,i,o,s):c.data[l];te(h,!1);const f=u[11].createComment("");Xr(c,u,f,h),jr(f,u),io(u,u[l]=to(f,u,f,h)),mt(h)&&Vi(c,u,h),null!=s&&Li(u,h,a)}function Jo(t){return Ft(Wt.lFrame.contextLView,ht+t)}function Ko(t,e=N.Default){const n=Kt();return null===n?Pn(t,e):Ke(Zt(),n,_(t),e)}function Qo(t,e,n){const r=Kt();return Bo(r,se(),e)&&zi(Qt(),Oe(),r,t,e,r[11],n,!1),Qo}function Yo(t,e,n,r,i){const o=i?"class":"style";fo(t,n,e.inputs[o],o,r)}function Zo(t,e,n,r){const i=Kt(),o=Qt(),s=ht+t,a=i[11],u=i[s]=qr(a,e,Wt.lFrame.currentNamespace),c=o.firstCreatePass?function(t,e,n,r,i,o,s){const a=e.consts,u=ki(e,t,2,i,Bt(a,o));return Bi(e,n,u,Bt(a,s)),null!==u.attrs&&po(u,u.attrs,!1),null!==u.mergedAttrs&&po(u,u.mergedAttrs,!0),null!==e.queries&&e.queries.elementStart(e,u),u}(s,o,i,0,e,n,r):o.data[s];te(c,!0);const l=c.mergedAttrs;null!==l&&je(a,u,l);const h=c.classes;null!==h&&si(a,u,h);const f=c.styles;null!==f&&oi(a,u,f),64!=(64&c.flags)&&Xr(o,i,u,c),0===Wt.lFrame.elementDepthCount&&jr(u,i),Wt.lFrame.elementDepthCount++,mt(c)&&(Vi(o,i,c),Ri(o,c,i)),null!==r&&Li(i,c)}function Xo(){let t=Zt();ee()?ne():(t=t.parent,te(t,!1));const e=t;Wt.lFrame.elementDepthCount--;const n=Qt();n.firstCreatePass&&(Se(n,t),gt(t)&&n.queries.elementEnd(t)),null!=e.classesWithoutHost&&function(t){return 0!=(16&t.flags)}(e)&&Yo(n,e,Kt(),e.classesWithoutHost,!0),null!=e.stylesWithoutHost&&function(t){return 0!=(32&t.flags)}(e)&&Yo(n,e,Kt(),e.stylesWithoutHost,!1)}function ts(t,e,n,r){Zo(t,e,n,r),Xo()}function es(t,e,n){const r=Kt(),i=Qt(),o=t+ht,s=i.firstCreatePass?function(t,e,n,r,i){const o=e.consts,s=Bt(o,r),a=ki(e,t,8,"ng-container",s);return null!==s&&po(a,s,!0),Bi(e,n,a,Bt(o,i)),null!==e.queries&&e.queries.elementStart(e,a),a}(o,i,r,e,n):i.data[o];te(s,!0);const a=r[o]=r[11].createComment("");Xr(i,r,a,s),jr(a,r),mt(s)&&(Vi(i,r,s),Ri(i,s,r)),null!=n&&Li(r,s)}function ns(){let t=Zt();const e=Qt();ee()?ne():(t=t.parent,te(t,!1)),e.firstCreatePass&&(Se(e,t),gt(t)&&e.queries.elementEnd(t))}function rs(){return Kt()}function is(t){return!!t&&"function"==typeof t.then}function os(t){return!!t&&"function"==typeof t.subscribe}function ss(t,e,n=!1,r){const i=Kt(),o=Qt(),s=Zt();return function(t,e,n,r,i,o,s=!1,a){const u=mt(r),c=t.firstCreatePass&&(t.cleanup||(t.cleanup=[])),l=lo(e);let h=!0;if(3&r.type){const f=Vt(r,e),d=a?a(f):B,p=d.target||f,g=l.length,b=a?t=>a(Mt(t[r.index])).target:r.index;if(Pt(n)){let s=null;if(!a&&u&&(s=function(t,e,n,r){const i=t.cleanup;if(null!=i)for(let o=0;o<i.length-1;o+=2){const t=i[o];if(t===n&&i[o+1]===r){const t=e[7],n=i[o+2];return t.length>n?t[n]:null}"string"==typeof t&&(o+=2)}return null}(t,e,i,r.index)),null!==s)(s.__ngLastListenerFn__||s).__ngNextListenerFn__=o,s.__ngLastListenerFn__=o,h=!1;else{o=us(r,e,o,!1);const t=n.listen(d.name||p,i,o);l.push(o,t),c&&c.push(i,b,g,g+1)}}else o=us(r,e,o,!0),p.addEventListener(i,o,s),l.push(o),c&&c.push(i,b,g,s)}else o=us(r,e,o,!1);const f=r.outputs;let d;if(h&&null!==f&&(d=f[i])){const t=d.length;if(t)for(let n=0;n<t;n+=2){const t=e[d[n]][d[n+1]].subscribe(o),s=l.length;l.push(o,t),c&&c.push(i,r.index,s,-(s+1))}}}(o,i,i[11],s,t,e,n,r),ss}function as(t,e,n){try{return!1!==e(n)}catch(r){return ho(t,r),!1}}function us(t,e,n,r){return function i(o){if(o===Function)return n;const s=2&t.flags?Ut(t.index,e):e;0==(32&e[2])&&oo(s);let a=as(e,n,o),u=i.__ngNextListenerFn__;for(;u;)a=as(e,u,o)&&a,u=u.__ngNextListenerFn__;return r&&!1===a&&(o.preventDefault(),o.returnValue=!1),a}}function cs(t=1){return function(t){return(Wt.lFrame.contextLView=function(t,e){for(;t>0;)e=e[15],t--;return e}(t,Wt.lFrame.contextLView))[8]}(t)}function ls(t,e){let n=null;const r=function(t){const e=t.attrs;if(null!=e){const t=e.indexOf(5);if(0==(1&t))return e[t+1]}return null}(t);for(let i=0;i<e.length;i++){const o=e[i];if("*"!==o){if(null===r?gi(t,o,!0):bi(r,o))return i}else n=i}return n}function hs(t){const e=Kt()[16][6];if(!e.projection){const n=e.projection=mn(t?t.length:1,null),r=n.slice();let i=e.child;for(;null!==i;){const e=t?ls(i,t):0;null!==e&&(r[e]?r[e].projectionNext=i:n[e]=i,r[e]=i),i=i.next}}}function fs(t,e=0,n){const r=Kt(),i=Qt(),o=ki(i,ht+t,16,null,n||null);null===o.projection&&(o.projection=e),ne(),64!=(64&o.flags)&&function(t,e,n){ii(e[11],0,e,n,$r(t,n,e),Yr(n.parent||e[6],n,e))}(i,r,o)}function ds(t,e,n){return ps(t,"",e,"",n),ds}function ps(t,e,n,r,i){const o=Kt(),s=$o(o,e,n,r);return s!==yi&&zi(Qt(),Oe(),o,t,s,o[11],i,!1),ps}const gs=[];function bs(t,e,n,r,i){const o=t[n+1],s=null===e;let a=r?Si(o):Ei(o),u=!1;for(;0!==a&&(!1===u||s);){const n=t[a+1];ms(t[a],e)&&(u=!0,t[a+1]=r?Ii(n):Ci(n)),a=r?Si(n):Ei(n)}u&&(t[n+1]=r?Ci(o):Ii(o))}function ms(t,e){return null===t||null==e||(Array.isArray(t)?t[1]:t)===e||!(!Array.isArray(t)||"string"!=typeof e)&&wn(t,e)>=0}const vs={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function ys(t){return t.substring(vs.key,vs.keyEnd)}function ws(t,e){const n=vs.textEnd;return n===e?-1:(e=vs.keyEnd=function(t,e,n){for(;e<n&&t.charCodeAt(e)>32;)e++;return e}(t,vs.key=e,n),_s(t,e,n))}function _s(t,e,n){for(;e<n&&t.charCodeAt(e)<=32;)e++;return e}function Os(t,e){return function(t,e,n,r){const i=Kt(),o=Qt(),s=ae(2);o.firstUpdatePass&&Es(o,t,s,true),e!==yi&&Bo(i,s,e)&&xs(o,o.data[we()],i,i[11],t,i[s+1]=function(t,e){return null==t||"object"==typeof t&&(t=m(Hn(t))),t}(e),true,s)}(t,e),Os}function Ss(t,e){for(let n=function(t){return function(t){vs.key=0,vs.keyEnd=0,vs.value=0,vs.valueEnd=0,vs.textEnd=t.length}(t),ws(t,_s(t,0,vs.textEnd))}(e);n>=0;n=ws(e,n))vn(t,ys(e),!0)}function Cs(t,e){return e>=t.expandoStartIndex}function Es(t,e,n,r){const i=t.data;if(null===i[n+1]){const o=i[we()],s=Cs(t,n);js(o,r)&&null===e&&!s&&(e=!1),e=function(t,e,n,r){const i=function(t){const e=Wt.lFrame.currentDirectiveIndex;return-1===e?null:t[e]}(t);let o=r?e.residualClasses:e.residualStyles;if(null===i)0===(r?e.classBindings:e.styleBindings)&&(n=Is(n=Ts(null,t,e,n,r),e.attrs,r),o=null);else{const s=e.directiveStylingLast;if(-1===s||t[s]!==i)if(n=Ts(i,t,e,n,r),null===o){let n=function(t,e,n){const r=n?e.classBindings:e.styleBindings;if(0!==Ei(r))return t[Si(r)]}(t,e,r);void 0!==n&&Array.isArray(n)&&(n=Ts(null,t,e,n[1],r),n=Is(n,e.attrs,r),function(t,e,n,r){t[Si(n?e.classBindings:e.styleBindings)]=r}(t,e,r,n))}else o=function(t,e,n){let r=void 0;const i=e.directiveEnd;for(let o=1+e.directiveStylingLast;o<i;o++)r=Is(r,t[o].hostAttrs,n);return Is(r,e.attrs,n)}(t,e,r)}return void 0!==o&&(r?e.residualClasses=o:e.residualStyles=o),n}(i,o,e,r),function(t,e,n,r,i,o){let s=o?e.classBindings:e.styleBindings,a=Si(s),u=Ei(s);t[r]=n;let c,l=!1;if(Array.isArray(n)){const t=n;c=t[1],(null===c||wn(t,c)>0)&&(l=!0)}else c=n;if(i)if(0!==u){const e=Si(t[a+1]);t[r+1]=Oi(e,a),0!==e&&(t[e+1]=Ti(t[e+1],r)),t[a+1]=131071&t[a+1]|r<<17}else t[r+1]=Oi(a,0),0!==a&&(t[a+1]=Ti(t[a+1],r)),a=r;else t[r+1]=Oi(u,0),0===a?a=r:t[u+1]=Ti(t[u+1],r),u=r;l&&(t[r+1]=Ci(t[r+1])),bs(t,c,r,!0),bs(t,c,r,!1),function(t,e,n,r,i){const o=i?t.residualClasses:t.residualStyles;null!=o&&"string"==typeof e&&wn(o,e)>=0&&(n[r+1]=Ii(n[r+1]))}(e,c,t,r,o),s=Oi(a,u),o?e.classBindings=s:e.styleBindings=s}(i,o,e,n,s,r)}}function Ts(t,e,n,r,i){let o=null;const s=n.directiveEnd;let a=n.directiveStylingLast;for(-1===a?a=n.directiveStart:a++;a<s&&(o=e[a],r=Is(r,o.hostAttrs,i),o!==t);)a++;return null!==t&&(n.directiveStylingLast=a),r}function Is(t,e,n){const r=n?1:2;let i=-1;if(null!==e)for(let o=0;o<e.length;o++){const s=e[o];"number"==typeof s?i=s:i===r&&(Array.isArray(t)||(t=void 0===t?[]:["",t]),vn(t,s,!!n||e[++o]))}return void 0===t?null:t}function xs(t,e,n,r,i,o,s,a){if(!(3&e.type))return;const u=t.data,c=u[a+1];ks(1==(1&c)?As(u,e,n,i,Ei(c),s):void 0)||(ks(o)||2==(2&c)&&(o=As(u,null,n,i,a,s)),function(t,e,n,r,i){const o=Pt(t);if(e)i?o?t.addClass(n,r):n.classList.add(r):o?t.removeClass(n,r):n.classList.remove(r);else{let e=-1===r.indexOf("-")?void 0:Dr.DashCase;if(null==i)o?t.removeStyle(n,r,e):n.style.removeProperty(r);else{const s="string"==typeof i&&i.endsWith("!important");s&&(i=i.slice(0,-10),e|=Dr.Important),o?t.setStyle(n,r,i,e):n.style.setProperty(r,i,s?"important":"")}}}(r,s,Rt(we(),n),i,o))}function As(t,e,n,r,i,o){const s=null===e;let a=void 0;for(;i>0;){const e=t[i],o=Array.isArray(e),u=o?e[1]:e,c=null===u;let l=n[i+1];l===yi&&(l=c?gs:void 0);let h=c?yn(l,r):u===r?l:void 0;if(o&&!ks(h)&&(h=yn(e,r)),ks(h)&&(a=h,s))return a;const f=t[i+1];i=s?Si(f):Ei(f)}if(null!==e){let t=o?e.residualClasses:e.residualStyles;null!=t&&(a=yn(t,r))}return a}function ks(t){return void 0!==t}function js(t,e){return 0!=(t.flags&(e?16:32))}function Ns(t,e=""){const n=Kt(),r=Qt(),i=t+ht,o=r.firstCreatePass?ki(r,i,1,e,null):r.data[i],s=n[i]=function(t,e){return Pt(t)?t.createText(e):t.createTextNode(e)}(n[11],e);Xr(r,n,s,o),te(o,!1)}function Ps(t){return Ds("",t,""),Ps}function Ds(t,e,n){const r=Kt(),i=$o(r,t,e,n);return i!==yi&&function(t,e,n){const r=Rt(e,t);!function(t,e,n){Pt(t)?t.setValue(e,n):e.textContent=n}(t[11],r,n)}(r,we(),i),Ds}function Ms(t,e,n){!function(t,e,n,r){const i=Qt(),o=ae(2);i.firstUpdatePass&&Es(i,null,o,r);const s=Kt();if(n!==yi&&Bo(s,o,n)){const a=i.data[we()];if(js(a,r)&&!Cs(i,o)){let t=a.classesWithoutHost;null!==t&&(n=v(t,n||"")),Yo(i,a,s,n,r)}else!function(t,e,n,r,i,o,s,a){i===yi&&(i=gs);let u=0,c=0,l=0<i.length?i[0]:null,h=0<o.length?o[0]:null;for(;null!==l||null!==h;){const s=u<i.length?i[u+1]:void 0,f=c<o.length?o[c+1]:void 0;let d=null,p=void 0;l===h?(u+=2,c+=2,s!==f&&(d=h,p=f)):null===h||null!==l&&l<h?(u+=2,d=l):(c+=2,d=h,p=f),null!==d&&xs(t,e,n,r,d,p,true,a),l=u<i.length?i[u]:null,h=c<o.length?o[c]:null}}(i,a,s,s[11],s[o+1],s[o+1]=function(t,e,n){if(null==n||""===n)return gs;const r=[],i=Hn(n);if(Array.isArray(i))for(let o=0;o<i.length;o++)t(r,i[o],!0);else if("object"==typeof i)for(const o in i)i.hasOwnProperty(o)&&t(r,o,i[o]);else"string"==typeof i&&e(r,i);return r}(t,e,n),0,o)}}(vn,Ss,$o(Kt(),t,e,n),!0)}function Rs(t,e,n){const r=Kt();return Bo(r,se(),e)&&zi(Qt(),Oe(),r,t,e,r[11],n,!0),Rs}const Vs=void 0;var Ls=["en",[["a","p"],["AM","PM"],Vs],[["AM","PM"],Vs,Vs],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],Vs,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],Vs,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",Vs,"{1} 'at' {0}",Vs],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function(t){let e=Math.floor(Math.abs(t)),n=t.toString().replace(/^[^.]*\.?/,"").length;return 1===e&&0===n?1:5}];let Fs={};function Us(t,e,n){"string"!=typeof e&&(n=e,e=t[Gs.LocaleId]),e=e.toLowerCase().replace(/_/g,"-"),Fs[e]=t,n&&(Fs[e][Gs.ExtraData]=n)}function qs(t){const e=function(t){return t.toLowerCase().replace(/_/g,"-")}(t);let n=Bs(e);if(n)return n;const r=e.split("-")[0];if(n=Bs(r),n)return n;if("en"===r)return Ls;throw new Error(`Missing locale data for the locale "${t}".`)}function Hs(t){return qs(t)[Gs.CurrencyCode]||null}function zs(t){return qs(t)[Gs.PluralCase]}function Bs(t){return t in Fs||(Fs[t]=z.ng&&z.ng.common&&z.ng.common.locales&&z.ng.common.locales[t]),Fs[t]}var Gs=function(t){return t[t.LocaleId=0]="LocaleId",t[t.DayPeriodsFormat=1]="DayPeriodsFormat",t[t.DayPeriodsStandalone=2]="DayPeriodsStandalone",t[t.DaysFormat=3]="DaysFormat",t[t.DaysStandalone=4]="DaysStandalone",t[t.MonthsFormat=5]="MonthsFormat",t[t.MonthsStandalone=6]="MonthsStandalone",t[t.Eras=7]="Eras",t[t.FirstDayOfWeek=8]="FirstDayOfWeek",t[t.WeekendRange=9]="WeekendRange",t[t.DateFormat=10]="DateFormat",t[t.TimeFormat=11]="TimeFormat",t[t.DateTimeFormat=12]="DateTimeFormat",t[t.NumberSymbols=13]="NumberSymbols",t[t.NumberFormats=14]="NumberFormats",t[t.CurrencyCode=15]="CurrencyCode",t[t.CurrencySymbol=16]="CurrencySymbol",t[t.CurrencyName=17]="CurrencyName",t[t.Currencies=18]="Currencies",t[t.Directionality=19]="Directionality",t[t.PluralCase=20]="PluralCase",t[t.ExtraData=21]="ExtraData",t}({});const $s="en-US";let Ws=$s;function Js(t){var e,n;n="Expected localeId to be defined",null==(e=t)&&function(t,e,n,r){throw new Error("ASSERTION ERROR: "+t+` [Expected=> null != ${e} <=Actual]`)}(n,e),"string"==typeof t&&(Ws=t.toLowerCase().replace(/_/g,"-"))}function Ks(t,e,n,r,i){if(t=_(t),Array.isArray(t))for(let o=0;o<t.length;o++)Ks(t[o],e,n,r,i);else{const o=Qt(),s=Kt();let a=Ao(t)?t:_(t.provide),u=To(t);const c=Zt(),l=1048575&c.providerIndexes,h=c.directiveStart,f=c.providerIndexes>>20;if(Ao(t)||!t.multi){const r=new ke(u,i,Ko),d=Zs(a,e,i?l:l+f,h);-1===d?($e(He(c,s),o,a),Qs(o,t,e.length),e.push(a),c.directiveStart++,c.directiveEnd++,i&&(c.providerIndexes+=1048576),n.push(r),s.push(r)):(n[d]=r,s[d]=r)}else{const d=Zs(a,e,l+f,h),p=Zs(a,e,l,l+f),g=d>=0&&n[d],b=p>=0&&n[p];if(i&&!b||!i&&!g){$e(He(c,s),o,a);const l=function(t,e,n,r,i){const o=new ke(t,n,Ko);return o.multi=[],o.index=e,o.componentProviders=0,Ys(o,i,r&&!n),o}(i?ta:Xs,n.length,i,r,u);!i&&b&&(n[p].providerFactory=l),Qs(o,t,e.length,0),e.push(a),c.directiveStart++,c.directiveEnd++,i&&(c.providerIndexes+=1048576),n.push(l),s.push(l)}else Qs(o,t,d>-1?d:p,Ys(n[i?p:d],u,!i&&r));!i&&r&&b&&n[p].componentProviders++}}}function Qs(t,e,n,r){const i=Ao(e);if(i||e.useClass){const o=(e.useClass||e).prototype.ngOnDestroy;if(o){const s=t.destroyHooks||(t.destroyHooks=[]);if(!i&&e.multi){const t=s.indexOf(n);-1===t?s.push(n,[r,o]):s[t+1].push(r,o)}else s.push(n,o)}}}function Ys(t,e,n){return n&&t.componentProviders++,t.multi.push(e)-1}function Zs(t,e,n,r){for(let i=n;i<r;i++)if(e[i]===t)return i;return-1}function Xs(t,e,n,r){return ea(this.multi,[])}function ta(t,e,n,r){const i=this.multi;let o;if(this.providerFactory){const t=this.providerFactory.componentProviders,e=tn(n,n[1],this.providerFactory.index,r);o=e.slice(0,t),ea(i,o);for(let n=t;n<e.length;n++)o.push(e[n])}else o=[],ea(i,o);return o}function ea(t,e){for(let n=0;n<t.length;n++)e.push((0,t[n])());return e}function na(t,e=[]){return n=>{n.providersResolver=(n,r)=>function(t,e,n){const r=Qt();if(r.firstCreatePass){const i=vt(t);Ks(n,r.data,r.blueprint,i,!0),Ks(e,r.data,r.blueprint,i,!1)}}(n,r?r(t):t,e)}}class ra{}class ia{resolveComponentFactory(t){throw function(t){const e=Error(`No component factory found for ${m(t)}. Did you add it to @NgModule.entryComponents?`);return e.ngComponent=t,e}(t)}}let oa=(()=>{class t{}return t.NULL=new ia,t})();function sa(...t){}function aa(t,e){return new ca(Vt(t,e))}const ua=function(){return aa(Zt(),Kt())};let ca=(()=>{class t{constructor(t){this.nativeElement=t}}return t.__NG_ELEMENT_ID__=ua,t})();class la{}let ha=(()=>{class t{}return t.__NG_ELEMENT_ID__=()=>fa(),t})();const fa=function(){const t=Kt(),e=Ut(Zt().index,t);return function(t){return t[11]}(dt(e)?e:t)};let da=(()=>{class t{}return t.\u0275prov=S({token:t,providedIn:"root",factory:()=>null}),t})();class pa{constructor(t){this.full=t,this.major=t.split(".")[0],this.minor=t.split(".")[1],this.patch=t.split(".").slice(2).join(".")}}const ga=new pa("11.0.3");class ba{constructor(){}supports(t){return qo(t)}create(t){return new va(t)}}const ma=(t,e)=>e;class va{constructor(t){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=t||ma}forEachItem(t){let e;for(e=this._itHead;null!==e;e=e._next)t(e)}forEachOperation(t){let e=this._itHead,n=this._removalsHead,r=0,i=null;for(;e||n;){const o=!n||e&&e.currentIndex<Oa(n,r,i)?e:n,s=Oa(o,r,i),a=o.currentIndex;if(o===n)r--,n=n._nextRemoved;else if(e=e._next,null==o.previousIndex)r++;else{i||(i=[]);const t=s-r,e=a-r;if(t!=e){for(let n=0;n<t;n++){const r=n<i.length?i[n]:i[n]=0,o=r+n;e<=o&&o<t&&(i[n]=r+1)}i[o.previousIndex]=e-t}}s!==a&&t(o,s,a)}}forEachPreviousItem(t){let e;for(e=this._previousItHead;null!==e;e=e._nextPrevious)t(e)}forEachAddedItem(t){let e;for(e=this._additionsHead;null!==e;e=e._nextAdded)t(e)}forEachMovedItem(t){let e;for(e=this._movesHead;null!==e;e=e._nextMoved)t(e)}forEachRemovedItem(t){let e;for(e=this._removalsHead;null!==e;e=e._nextRemoved)t(e)}forEachIdentityChange(t){let e;for(e=this._identityChangesHead;null!==e;e=e._nextIdentityChange)t(e)}diff(t){if(null==t&&(t=[]),!qo(t))throw new Error(`Error trying to diff '${m(t)}'. Only arrays and iterables are allowed`);return this.check(t)?this:null}onDestroy(){}check(t){this._reset();let e,n,r,i=this._itHead,o=!1;if(Array.isArray(t)){this.length=t.length;for(let e=0;e<this.length;e++)n=t[e],r=this._trackByFn(e,n),null!==i&&Object.is(i.trackById,r)?(o&&(i=this._verifyReinsertion(i,n,r,e)),Object.is(i.item,n)||this._addIdentityChange(i,n)):(i=this._mismatch(i,n,r,e),o=!0),i=i._next}else e=0,function(t,e){if(Array.isArray(t))for(let n=0;n<t.length;n++)e(t[n]);else{const n=t[Fo()]();let r;for(;!(r=n.next()).done;)e(r.value)}}(t,t=>{r=this._trackByFn(e,t),null!==i&&Object.is(i.trackById,r)?(o&&(i=this._verifyReinsertion(i,t,r,e)),Object.is(i.item,t)||this._addIdentityChange(i,t)):(i=this._mismatch(i,t,r,e),o=!0),i=i._next,e++}),this.length=e;return this._truncate(i),this.collection=t,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let t;for(t=this._previousItHead=this._itHead;null!==t;t=t._next)t._nextPrevious=t._next;for(t=this._additionsHead;null!==t;t=t._nextAdded)t.previousIndex=t.currentIndex;for(this._additionsHead=this._additionsTail=null,t=this._movesHead;null!==t;t=t._nextMoved)t.previousIndex=t.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(t,e,n,r){let i;return null===t?i=this._itTail:(i=t._prev,this._remove(t)),null!==(t=null===this._linkedRecords?null:this._linkedRecords.get(n,r))?(Object.is(t.item,e)||this._addIdentityChange(t,e),this._moveAfter(t,i,r)):null!==(t=null===this._unlinkedRecords?null:this._unlinkedRecords.get(n,null))?(Object.is(t.item,e)||this._addIdentityChange(t,e),this._reinsertAfter(t,i,r)):t=this._addAfter(new ya(e,n),i,r),t}_verifyReinsertion(t,e,n,r){let i=null===this._unlinkedRecords?null:this._unlinkedRecords.get(n,null);return null!==i?t=this._reinsertAfter(i,t._prev,r):t.currentIndex!=r&&(t.currentIndex=r,this._addToMoves(t,r)),t}_truncate(t){for(;null!==t;){const e=t._next;this._addToRemovals(this._unlink(t)),t=e}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(t,e,n){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(t);const r=t._prevRemoved,i=t._nextRemoved;return null===r?this._removalsHead=i:r._nextRemoved=i,null===i?this._removalsTail=r:i._prevRemoved=r,this._insertAfter(t,e,n),this._addToMoves(t,n),t}_moveAfter(t,e,n){return this._unlink(t),this._insertAfter(t,e,n),this._addToMoves(t,n),t}_addAfter(t,e,n){return this._insertAfter(t,e,n),this._additionsTail=null===this._additionsTail?this._additionsHead=t:this._additionsTail._nextAdded=t,t}_insertAfter(t,e,n){const r=null===e?this._itHead:e._next;return t._next=r,t._prev=e,null===r?this._itTail=t:r._prev=t,null===e?this._itHead=t:e._next=t,null===this._linkedRecords&&(this._linkedRecords=new _a),this._linkedRecords.put(t),t.currentIndex=n,t}_remove(t){return this._addToRemovals(this._unlink(t))}_unlink(t){null!==this._linkedRecords&&this._linkedRecords.remove(t);const e=t._prev,n=t._next;return null===e?this._itHead=n:e._next=n,null===n?this._itTail=e:n._prev=e,t}_addToMoves(t,e){return t.previousIndex===e||(this._movesTail=null===this._movesTail?this._movesHead=t:this._movesTail._nextMoved=t),t}_addToRemovals(t){return null===this._unlinkedRecords&&(this._unlinkedRecords=new _a),this._unlinkedRecords.put(t),t.currentIndex=null,t._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=t,t._prevRemoved=null):(t._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=t),t}_addIdentityChange(t,e){return t.item=e,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=t:this._identityChangesTail._nextIdentityChange=t,t}}class ya{constructor(t,e){this.item=t,this.trackById=e,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class wa{constructor(){this._head=null,this._tail=null}add(t){null===this._head?(this._head=this._tail=t,t._nextDup=null,t._prevDup=null):(this._tail._nextDup=t,t._prevDup=this._tail,t._nextDup=null,this._tail=t)}get(t,e){let n;for(n=this._head;null!==n;n=n._nextDup)if((null===e||e<=n.currentIndex)&&Object.is(n.trackById,t))return n;return null}remove(t){const e=t._prevDup,n=t._nextDup;return null===e?this._head=n:e._nextDup=n,null===n?this._tail=e:n._prevDup=e,null===this._head}}class _a{constructor(){this.map=new Map}put(t){const e=t.trackById;let n=this.map.get(e);n||(n=new wa,this.map.set(e,n)),n.add(t)}get(t,e){const n=this.map.get(t);return n?n.get(t,e):null}remove(t){const e=t.trackById;return this.map.get(e).remove(t)&&this.map.delete(e),t}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function Oa(t,e,n){const r=t.previousIndex;if(null===r)return r;let i=0;return n&&r<n.length&&(i=n[r]),r+e+i}class Sa{constructor(){}supports(t){return t instanceof Map||Ho(t)}create(){return new Ca}}class Ca{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(t){let e;for(e=this._mapHead;null!==e;e=e._next)t(e)}forEachPreviousItem(t){let e;for(e=this._previousMapHead;null!==e;e=e._nextPrevious)t(e)}forEachChangedItem(t){let e;for(e=this._changesHead;null!==e;e=e._nextChanged)t(e)}forEachAddedItem(t){let e;for(e=this._additionsHead;null!==e;e=e._nextAdded)t(e)}forEachRemovedItem(t){let e;for(e=this._removalsHead;null!==e;e=e._nextRemoved)t(e)}diff(t){if(t){if(!(t instanceof Map||Ho(t)))throw new Error(`Error trying to diff '${m(t)}'. Only maps and objects are allowed`)}else t=new Map;return this.check(t)?this:null}onDestroy(){}check(t){this._reset();let e=this._mapHead;if(this._appendAfter=null,this._forEach(t,(t,n)=>{if(e&&e.key===n)this._maybeAddToChanges(e,t),this._appendAfter=e,e=e._next;else{const r=this._getOrCreateRecordForKey(n,t);e=this._insertBeforeOrAppend(e,r)}}),e){e._prev&&(e._prev._next=null),this._removalsHead=e;for(let t=e;null!==t;t=t._nextRemoved)t===this._mapHead&&(this._mapHead=null),this._records.delete(t.key),t._nextRemoved=t._next,t.previousValue=t.currentValue,t.currentValue=null,t._prev=null,t._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(t,e){if(t){const n=t._prev;return e._next=t,e._prev=n,t._prev=e,n&&(n._next=e),t===this._mapHead&&(this._mapHead=e),this._appendAfter=t,t}return this._appendAfter?(this._appendAfter._next=e,e._prev=this._appendAfter):this._mapHead=e,this._appendAfter=e,null}_getOrCreateRecordForKey(t,e){if(this._records.has(t)){const n=this._records.get(t);this._maybeAddToChanges(n,e);const r=n._prev,i=n._next;return r&&(r._next=i),i&&(i._prev=r),n._next=null,n._prev=null,n}const n=new Ea(t);return this._records.set(t,n),n.currentValue=e,this._addToAdditions(n),n}_reset(){if(this.isDirty){let t;for(this._previousMapHead=this._mapHead,t=this._previousMapHead;null!==t;t=t._next)t._nextPrevious=t._next;for(t=this._changesHead;null!==t;t=t._nextChanged)t.previousValue=t.currentValue;for(t=this._additionsHead;null!=t;t=t._nextAdded)t.previousValue=t.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(t,e){Object.is(e,t.currentValue)||(t.previousValue=t.currentValue,t.currentValue=e,this._addToChanges(t))}_addToAdditions(t){null===this._additionsHead?this._additionsHead=this._additionsTail=t:(this._additionsTail._nextAdded=t,this._additionsTail=t)}_addToChanges(t){null===this._changesHead?this._changesHead=this._changesTail=t:(this._changesTail._nextChanged=t,this._changesTail=t)}_forEach(t,e){t instanceof Map?t.forEach(e):Object.keys(t).forEach(n=>e(t[n],n))}}class Ea{constructor(t){this.key=t,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}let Ta=(()=>{class t{constructor(t){this.factories=t}static create(e,n){if(null!=n){const t=n.factories.slice();e=e.concat(t)}return new t(e)}static extend(e){return{provide:t,useFactory:n=>{if(!n)throw new Error("Cannot extend IterableDiffers without a parent injector");return t.create(e,n)},deps:[[t,new Cn,new On]]}}find(t){const e=this.factories.find(e=>e.supports(t));if(null!=e)return e;throw new Error(`Cannot find a differ supporting object '${t}' of type '${n=t,n.name||typeof n}'`);var n}}return t.\u0275prov=S({token:t,providedIn:"root",factory:()=>new t([new ba])}),t})(),Ia=(()=>{class t{constructor(t){this.factories=t}static create(e,n){if(n){const t=n.factories.slice();e=e.concat(t)}return new t(e)}static extend(e){return{provide:t,useFactory:n=>{if(!n)throw new Error("Cannot extend KeyValueDiffers without a parent injector");return t.create(e,n)},deps:[[t,new Cn,new On]]}}find(t){const e=this.factories.find(e=>e.supports(t));if(e)return e;throw new Error(`Cannot find a differ supporting object '${t}'`)}}return t.\u0275prov=S({token:t,providedIn:"root",factory:()=>new t([new Sa])}),t})();function xa(t,e,n,r,i=!1){for(;null!==n;){const o=e[n.index];if(null!==o&&r.push(Mt(o)),pt(o))for(let t=ft;t<o.length;t++){const e=o[t],n=e[1].firstChild;null!==n&&xa(e[1],e,n,r)}const s=n.type;if(8&s)xa(t,e,n.child,r);else if(32&s){const t=Mr(n,e);let i;for(;i=t();)r.push(i)}else if(16&s){const t=e[16],i=t[6].projection[n.projection];if(Array.isArray(i))r.push(...i);else{const e=Rr(t);xa(e[1],e,i,r,!0)}}n=i?n.projectionNext:n.next}return r}class Aa{constructor(t,e){this._lView=t,this._cdRefInjectingView=e,this._appRef=null,this._viewContainerRef=null}get rootNodes(){const t=this._lView,e=t[1];return xa(e,t,e.firstChild,[])}get context(){return this._lView[8]}get destroyed(){return 256==(256&this._lView[2])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._viewContainerRef){const t=this._viewContainerRef.indexOf(this);t>-1&&this._viewContainerRef.detach(t),this._viewContainerRef=null}Br(this._lView[1],this._lView)}onDestroy(t){qi(this._lView[1],this._lView,null,t)}markForCheck(){oo(this._cdRefInjectingView||this._lView)}detach(){this._lView[2]&=-129}reattach(){this._lView[2]|=128}detectChanges(){so(this._lView[1],this._lView,this.context)}checkNoChanges(){!function(t,e,n){ie(!0);try{so(t,e,n)}finally{ie(!1)}}(this._lView[1],this._lView,this.context)}attachToViewContainerRef(t){if(this._appRef)throw new Error("This view is already attached directly to the ApplicationRef!");this._viewContainerRef=t}detachFromAppRef(){var t;this._appRef=null,ri(this._lView[1],t=this._lView,t[11],2,null,null)}attachToAppRef(t){if(this._viewContainerRef)throw new Error("This view is already attached to a ViewContainer!");this._appRef=t}}class ka extends Aa{constructor(t){super(t),this._view=t}detectChanges(){ao(this._view)}checkNoChanges(){!function(t){ie(!0);try{ao(t)}finally{ie(!1)}}(this._view)}get context(){return null}}const ja=Pa;let Na=(()=>{class t{}return t.__NG_ELEMENT_ID__=ja,t.__ChangeDetectorRef__=!0,t})();function Pa(t=!1){return function(t,e,n){if(!n&&bt(t)){const n=Ut(t.index,e);return new Aa(n,n)}return 47&t.type?new Aa(e[16],e):null}(Zt(),Kt(),t)}const Da=[new Sa],Ma=new Ta([new ba]),Ra=new Ia(Da),Va=function(){return qa(Zt(),Kt())};let La=(()=>{class t{}return t.__NG_ELEMENT_ID__=Va,t})();const Fa=La,Ua=class extends Fa{constructor(t,e,n){super(),this._declarationLView=t,this._declarationTContainer=e,this.elementRef=n}createEmbeddedView(t){const e=this._declarationTContainer.tViews,n=Ai(this._declarationLView,e,t,16,null,e.declTNode,null,null,null,null);n[17]=this._declarationLView[this._declarationTContainer.index];const r=this._declarationLView[19];return null!==r&&(n[19]=r.createEmbeddedView(e)),Ni(e,n,t),new Aa(n)}};function qa(t,e){return 4&t.type?new Ua(e,t,aa(t,e)):null}class Ha{}class za{}const Ba=function(){return Qa(Zt(),Kt())};let Ga=(()=>{class t{}return t.__NG_ELEMENT_ID__=Ba,t})();const $a=Ga,Wa=class extends $a{constructor(t,e,n){super(),this._lContainer=t,this._hostTNode=e,this._hostLView=n}get element(){return aa(this._hostTNode,this._hostLView)}get injector(){return new rn(this._hostTNode,this._hostLView)}get parentInjector(){const t=Ge(this._hostTNode,this._hostLView);if(Re(t)){const e=Le(t,this._hostLView),n=Ve(t);return new rn(e[1].data[n+8],e)}return new rn(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(t){const e=Ja(this._lContainer);return null!==e&&e[t]||null}get length(){return this._lContainer.length-ft}createEmbeddedView(t,e,n){const r=t.createEmbeddedView(e||{});return this.insert(r,n),r}createComponent(t,e,n,r,i){const o=n||this.parentInjector;if(!i&&null==t.ngModule&&o){const t=o.get(Ha,null);t&&(i=t)}const s=t.create(o,r,void 0,i);return this.insert(s.hostView,e),s}insert(t,e){const n=t._lView,r=n[1];if(pt(n[3])){const e=this.indexOf(t);if(-1!==e)this.detach(e);else{const e=n[3],r=new Wa(e,e[6],e[3]);r.detach(r.indexOf(t))}}const i=this._adjustIndex(e),o=this._lContainer;!function(t,e,n,r){const i=ft+r,o=n.length;r>0&&(n[i-1][4]=e),r<o-ft?(e[4]=n[i],gn(n,ft+r,e)):(n.push(e),e[4]=null),e[3]=n;const s=e[17];null!==s&&n!==s&&function(t,e){const n=t[9];e[16]!==e[3][3][16]&&(t[2]=!0),null===n?t[9]=[e]:n.push(e)}(s,e);const a=e[19];null!==a&&a.insertView(t),e[2]|=128}(r,n,o,i);const s=ei(i,o),a=n[11],u=Qr(a,o[7]);return null!==u&&function(t,e,n,r,i,o){r[0]=i,r[6]=e,ri(t,r,n,1,i,o)}(r,o[6],a,n,u,s),t.attachToViewContainerRef(this),gn(Ka(o),i,t),t}move(t,e){return this.insert(t,e)}indexOf(t){const e=Ja(this._lContainer);return null!==e?e.indexOf(t):-1}remove(t){const e=this._adjustIndex(t,-1),n=zr(this._lContainer,e);n&&(bn(Ka(this._lContainer),e),Br(n[1],n))}detach(t){const e=this._adjustIndex(t,-1),n=zr(this._lContainer,e);return n&&null!=bn(Ka(this._lContainer),e)?new Aa(n):null}_adjustIndex(t,e=0){return null==t?this.length+e:t}};function Ja(t){return t[8]}function Ka(t){return t[8]||(t[8]=[])}function Qa(t,e){let n;const r=e[t.index];if(pt(r))n=r;else{let i;if(8&t.type)i=Mt(r);else{const n=e[11];i=n.createComment("");const r=Vt(t,e);Wr(n,Qr(n,r),i,function(t,e){return Pt(t)?t.nextSibling(e):e.nextSibling}(n,r),!1)}e[t.index]=n=to(r,e,i,t),io(e,n)}return new Wa(n,t,e)}const Ya={};class Za extends oa{constructor(t){super(),this.ngModule=t}resolveComponentFactory(t){const e=ct(t);return new eu(e,this.ngModule)}}function Xa(t){const e=[];for(let n in t)t.hasOwnProperty(n)&&e.push({propName:t[n],templateName:n});return e}const tu=new ln("SCHEDULER_TOKEN",{providedIn:"root",factory:()=>Nr});class eu extends ra{constructor(t,e){super(),this.componentDef=t,this.ngModule=e,this.componentType=t.type,this.selector=t.selectors.map(vi).join(","),this.ngContentSelectors=t.ngContentSelectors?t.ngContentSelectors:[],this.isBoundToModule=!!e}get inputs(){return Xa(this.componentDef.inputs)}get outputs(){return Xa(this.componentDef.outputs)}create(t,e,n,r){const i=(r=r||this.ngModule)?function(t,e){return{get:(n,r,i)=>{const o=t.get(n,Ya,i);return o!==Ya||r===Ya?o:e.get(n,r,i)}}}(t,r.injector):t,o=i.get(la,Dt),s=i.get(da,null),a=o.createRenderer(null,this.componentDef),u=this.componentDef.selectors[0][0]||"div",c=n?function(t,e,n){if(Pt(t))return t.selectRootElement(e,n===L.ShadowDom);let r="string"==typeof e?t.querySelector(e):e;return r.textContent="",r}(a,n,this.componentDef.encapsulation):qr(o.createRenderer(null,this.componentDef),u,function(t){const e=t.toLowerCase();return"svg"===e?"http://www.w3.org/2000/svg":"math"===e?"http://www.w3.org/1998/MathML/":null}(u)),l=this.componentDef.onPush?576:528,h={components:[],scheduler:Nr,clean:co,playerHandler:null,flags:0},f=Ui(0,null,null,1,0,null,null,null,null,null),d=Ai(null,f,h,l,null,null,o,a,s,i);let p,g;pe(d);try{const t=function(t,e,n,r,i,o){const s=n[1];n[20]=t;const a=ki(s,20,2,"#host",null),u=a.mergedAttrs=e.hostAttrs;null!==u&&(po(a,u,!0),null!==t&&(je(i,t,u),null!==a.classes&&si(i,t,a.classes),null!==a.styles&&oi(i,t,a.styles)));const c=r.createRenderer(t,e),l=Ai(n,Fi(e),null,e.onPush?64:16,n[20],a,r,c,null,null);return s.firstCreatePass&&($e(He(a,n),s,e.type),Wi(s,a),Ki(a,n.length,1)),io(n,l),n[20]=l}(c,this.componentDef,d,o,a);if(c)if(n)je(a,c,["ng-version",ga.full]);else{const{attrs:t,classes:e}=function(t){const e=[],n=[];let r=1,i=2;for(;r<t.length;){let o=t[r];if("string"==typeof o)2===i?""!==o&&e.push(o,t[++r]):8===i&&n.push(o);else{if(!di(i))break;i=o}r++}return{attrs:e,classes:n}}(this.componentDef.selectors[0]);t&&je(a,c,t),e&&e.length>0&&si(a,c,e.join(" "))}if(g=Lt(f,ht),void 0!==e){const t=g.projection=[];for(let n=0;n<this.ngContentSelectors.length;n++){const r=e[n];t.push(null!=r?Array.from(r):null)}}p=function(t,e,n,r,i){const o=n[1],s=function(t,e,n){const r=Zt();t.firstCreatePass&&(n.providersResolver&&n.providersResolver(n),Qi(t,r,e,ji(t,e,1,null),n));const i=tn(e,t,r.directiveStart,r);jr(i,e);const o=Vt(r,e);return o&&jr(o,e),i}(o,n,e);if(r.components.push(s),t[8]=s,i&&i.forEach(t=>t(s,e)),e.contentQueries){const t=Zt();e.contentQueries(1,s,t.directiveStart)}const a=Zt();return!o.firstCreatePass||null===e.hostBindings&&null===e.hostAttrs||(_e(a.index),Gi(n[1],a,0,a.directiveStart,a.directiveEnd,e),$i(e,s)),s}(t,this.componentDef,d,h,[No]),Ni(f,d,null)}finally{ye()}return new nu(this.componentType,p,aa(g,d),d,g)}}class nu extends class{}{constructor(t,e,n,r,i){super(),this.location=n,this._rootLView=r,this._tNode=i,this.destroyCbs=[],this.instance=e,this.hostView=this.changeDetectorRef=new ka(r),this.componentType=t}get injector(){return new rn(this._tNode,this._rootLView)}destroy(){this.destroyCbs&&(this.destroyCbs.forEach(t=>t()),this.destroyCbs=null,!this.hostView.destroyed&&this.hostView.destroy())}onDestroy(t){this.destroyCbs&&this.destroyCbs.push(t)}}const ru=new Map;class iu extends Ha{constructor(t,e){super(),this._parent=e,this._bootstrapComponents=[],this.injector=this,this.destroyCbs=[],this.componentFactoryResolver=new Za(this);const n=lt(t),r=t[Q]||null;r&&Js(r),this._bootstrapComponents=Pr(n.bootstrap),this._r3Injector=So(t,e,[{provide:Ha,useValue:this},{provide:oa,useValue:this.componentFactoryResolver}],m(t)),this._r3Injector._resolveInjectorDefTypes(),this.instance=this.get(t)}get(t,e=jo.THROW_IF_NOT_FOUND,n=N.Default){return t===jo||t===Ha||t===go?this:this._r3Injector.get(t,e,n)}destroy(){const t=this._r3Injector;!t.destroyed&&t.destroy(),this.destroyCbs.forEach(t=>t()),this.destroyCbs=null}onDestroy(t){this.destroyCbs.push(t)}}class ou extends za{constructor(t){super(),this.moduleType=t,null!==lt(t)&&function(t){const e=new Set;!function t(n){const r=lt(n,!0),i=r.id;null!==i&&(function(t,e,n){if(e&&e!==n)throw new Error(`Duplicate module registered for ${t} - ${m(e)} vs ${m(e.name)}`)}(i,ru.get(i),n),ru.set(i,n));const o=Pr(r.imports);for(const s of o)e.has(s)||(e.add(s),t(s))}(t)}(t)}create(t){return new iu(this.moduleType,t)}}function su(t,e,n){const r=oe()+t,i=Kt();return i[r]===yi?zo(i,r,n?e.call(n):e()):function(t,e){return t[e]}(i,r)}function au(t,e,n,r){return function(t,e,n,r,i,o){const s=e+n;return Bo(t,s,i)?zo(t,s+1,o?r.call(o,i):r(i)):uu(t,s+1)}(Kt(),oe(),t,e,n,r)}function uu(t,e){const n=t[e];return n===yi?void 0:n}function cu(t,e){const n=Qt();let r;const i=t+ht;n.firstCreatePass?(r=function(t,e){if(e)for(let n=e.length-1;n>=0;n--){const r=e[n];if(t===r.name)return r}throw new wt("302",`The pipe '${t}' could not be found!`)}(e,n.pipeRegistry),n.data[i]=r,r.onDestroy&&(n.destroyHooks||(n.destroyHooks=[])).push(i,r.onDestroy)):r=n.data[i];const o=r.factory||(r.factory=yt(r.type)),s=D(Ko);try{const t=Ue(!1),e=o();return Ue(t),function(t,e,n,r){n>=t.data.length&&(t.data[n]=null,t.blueprint[n]=null),e[n]=r}(n,Kt(),i,e),e}finally{D(s)}}function lu(t,e,n,r){const i=t+ht,o=Kt(),s=Ft(o,i);return function(t,e){return Uo.isWrapped(e)&&(e=Uo.unwrap(e),t[Wt.lFrame.bindingIndex]=yi),e}(o,function(t,e){return t[1].data[e].pure}(o,i)?function(t,e,n,r,i,o,s){const a=e+n;return function(t,e,n,r){const i=Bo(t,e,n);return Bo(t,e+1,r)||i}(t,a,i,o)?zo(t,a+2,s?r.call(s,i,o):r(i,o)):uu(t,a+2)}(o,oe(),e,s.transform,n,r,s):s.transform(n,r))}const hu=class extends r.a{constructor(t=!1){super(),this.__isAsync=t}emit(t){super.next(t)}subscribe(t,e,n){let r,o=t=>null,s=()=>null;t&&"object"==typeof t?(r=this.__isAsync?e=>{setTimeout(()=>t.next(e))}:e=>{t.next(e)},t.error&&(o=this.__isAsync?e=>{setTimeout(()=>t.error(e))}:e=>{t.error(e)}),t.complete&&(s=this.__isAsync?()=>{setTimeout(()=>t.complete())}:()=>{t.complete()})):(r=this.__isAsync?e=>{setTimeout(()=>t(e))}:e=>{t(e)},e&&(o=this.__isAsync?t=>{setTimeout(()=>e(t))}:t=>{e(t)}),n&&(s=this.__isAsync?()=>{setTimeout(()=>n())}:()=>{n()}));const a=super.subscribe(r,o,s);return t instanceof i.a&&t.add(a),a}};function fu(){return this._results[Fo()]()}class du{constructor(){this.dirty=!0,this._results=[],this.changes=new hu,this.length=0;const t=Fo(),e=du.prototype;e[t]||(e[t]=fu)}map(t){return this._results.map(t)}filter(t){return this._results.filter(t)}find(t){return this._results.find(t)}reduce(t,e){return this._results.reduce(t,e)}forEach(t){this._results.forEach(t)}some(t){return this._results.some(t)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(t){this._results=dn(t),this.dirty=!1,this.length=this._results.length,this.last=this._results[this.length-1],this.first=this._results[0]}notifyOnChanges(){this.changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}class pu{constructor(t){this.queryList=t,this.matches=null}clone(){return new pu(this.queryList)}setDirty(){this.queryList.setDirty()}}class gu{constructor(t=[]){this.queries=t}createEmbeddedView(t){const e=t.queries;if(null!==e){const n=null!==t.contentQueries?t.contentQueries[0]:e.length,r=[];for(let t=0;t<n;t++){const n=e.getByIndex(t);r.push(this.queries[n.indexInDeclarationView].clone())}return new gu(r)}return null}insertView(t){this.dirtyQueriesWithMatches(t)}detachView(t){this.dirtyQueriesWithMatches(t)}dirtyQueriesWithMatches(t){for(let e=0;e<this.queries.length;e++)null!==Tu(t,e).matches&&this.queries[e].setDirty()}}class bu{constructor(t,e,n,r=null){this.predicate=t,this.descendants=e,this.isStatic=n,this.read=r}}class mu{constructor(t=[]){this.queries=t}elementStart(t,e){for(let n=0;n<this.queries.length;n++)this.queries[n].elementStart(t,e)}elementEnd(t){for(let e=0;e<this.queries.length;e++)this.queries[e].elementEnd(t)}embeddedTView(t){let e=null;for(let n=0;n<this.length;n++){const r=null!==e?e.length:0,i=this.getByIndex(n).embeddedTView(t,r);i&&(i.indexInDeclarationView=n,null!==e?e.push(i):e=[i])}return null!==e?new mu(e):null}template(t,e){for(let n=0;n<this.queries.length;n++)this.queries[n].template(t,e)}getByIndex(t){return this.queries[t]}get length(){return this.queries.length}track(t){this.queries.push(t)}}class vu{constructor(t,e=-1){this.metadata=t,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=e}elementStart(t,e){this.isApplyingToNode(e)&&this.matchTNode(t,e)}elementEnd(t){this._declarationNodeIndex===t.index&&(this._appliesToNextNode=!1)}template(t,e){this.elementStart(t,e)}embeddedTView(t,e){return this.isApplyingToNode(t)?(this.crossesNgTemplate=!0,this.addMatch(-t.index,e),new vu(this.metadata)):null}isApplyingToNode(t){if(this._appliesToNextNode&&!1===this.metadata.descendants){const e=this._declarationNodeIndex;let n=t.parent;for(;null!==n&&8&n.type&&n.index!==e;)n=n.parent;return e===(null!==n?n.index:-1)}return this._appliesToNextNode}matchTNode(t,e){const n=this.metadata.predicate;if(Array.isArray(n))for(let r=0;r<n.length;r++){const i=n[r];this.matchTNodeWithReadOption(t,e,yu(e,i)),this.matchTNodeWithReadOption(t,e,Xe(e,t,i,!1,!1))}else n===La?4&e.type&&this.matchTNodeWithReadOption(t,e,-1):this.matchTNodeWithReadOption(t,e,Xe(e,t,n,!1,!1))}matchTNodeWithReadOption(t,e,n){if(null!==n){const r=this.metadata.read;if(null!==r)if(r===ca||r===Ga||r===La&&4&e.type)this.addMatch(e.index,-2);else{const n=Xe(e,t,r,!1,!1);null!==n&&this.addMatch(e.index,n)}else this.addMatch(e.index,n)}}addMatch(t,e){null===this.matches?this.matches=[t,e]:this.matches.push(t,e)}}function yu(t,e){const n=t.localNames;if(null!==n)for(let r=0;r<n.length;r+=2)if(n[r]===e)return n[r+1];return null}function wu(t,e,n,r){return-1===n?function(t,e){return 11&t.type?aa(t,e):4&t.type?qa(t,e):null}(e,t):-2===n?function(t,e,n){return n===ca?aa(e,t):n===La?qa(e,t):n===Ga?Qa(e,t):void 0}(t,e,r):tn(t,t[1],n,e)}function _u(t,e,n,r){const i=e[19].queries[r];if(null===i.matches){const r=t.data,o=n.matches,s=[];for(let t=0;t<o.length;t+=2){const i=o[t];s.push(i<0?null:wu(e,r[i],o[t+1],n.metadata.read))}i.matches=s}return i.matches}function Ou(t,e,n,r){const i=t.queries.getByIndex(n),o=i.matches;if(null!==o){const s=_u(t,e,i,n);for(let t=0;t<o.length;t+=2){const n=o[t];if(n>0)r.push(s[t/2]);else{const i=o[t+1],s=e[-n];for(let t=ft;t<s.length;t++){const e=s[t];e[17]===e[3]&&Ou(e[1],e,i,r)}if(null!==s[9]){const t=s[9];for(let e=0;e<t.length;e++){const n=t[e];Ou(n[1],n,i,r)}}}}}return r}function Su(t){const e=Kt(),n=Qt(),r=le();he(r+1);const i=Tu(n,r);if(t.dirty&&Ht(e)===i.metadata.isStatic){if(null===i.matches)t.reset([]);else{const o=i.crossesNgTemplate?Ou(n,e,r,[]):_u(n,e,i,r);t.reset(o),t.notifyOnChanges()}return!0}return!1}function Cu(t,e,n,r){!function(t,e,n,r,i,o,s,a){t.firstCreatePass&&(function(t,e,n){null===t.queries&&(t.queries=new mu),t.queries.track(new vu(e,n))}(t,new bu(n,r,false,i),s.index),function(t,e){const n=t.contentQueries||(t.contentQueries=[]);e!==(n.length?n[n.length-1]:-1)&&n.push(t.queries.length-1,e)}(t,a)),function(t,e){const n=new du;qi(t,e,n,n.destroy),null===e[19]&&(e[19]=new gu),e[19].queries.push(new pu(n))}(t,e)}(Qt(),Kt(),e,n,r,0,Zt(),t)}function Eu(){return t=Kt(),e=le(),t[19].queries[e].queryList;var t,e}function Tu(t,e){return t.queries.getByIndex(e)}function Iu(t,e){return qa(t,e)}function xu(t=N.Default){const e=Pa(!0);if(null!=e||t&N.Optional)return e;St("ChangeDetectorRef")}const Au=new ln("Application Initializer");let ku=(()=>{class t{constructor(t){this.appInits=t,this.resolve=sa,this.reject=sa,this.initialized=!1,this.done=!1,this.donePromise=new Promise((t,e)=>{this.resolve=t,this.reject=e})}runInitializers(){if(this.initialized)return;const t=[],e=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let n=0;n<this.appInits.length;n++){const e=this.appInits[n]();is(e)&&t.push(e)}Promise.all(t).then(()=>{e()}).catch(t=>{this.reject(t)}),0===t.length&&e(),this.initialized=!0}}return t.\u0275fac=function(e){return new(e||t)(Pn(Au,8))},t.\u0275prov=S({token:t,factory:t.\u0275fac}),t})();const ju=new ln("AppId"),Nu={provide:ju,useFactory:function(){return`${Pu()}${Pu()}${Pu()}`},deps:[]};function Pu(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const Du=new ln("Platform Initializer"),Mu=new ln("Platform ID"),Ru=new ln("appBootstrapListener");let Vu=(()=>{class t{log(t){console.log(t)}warn(t){console.warn(t)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=S({token:t,factory:t.\u0275fac}),t})();const Lu=new ln("LocaleId"),Fu=new ln("DefaultCurrencyCode");class Uu{constructor(t,e){this.ngModuleFactory=t,this.componentFactories=e}}const qu=function(t){return new ou(t)},Hu=qu,zu=function(t){return Promise.resolve(qu(t))},Bu=function(t){const e=qu(t),n=Pr(lt(t).declarations).reduce((t,e)=>{const n=ct(e);return n&&t.push(new eu(n)),t},[]);return new Uu(e,n)},Gu=Bu,$u=function(t){return Promise.resolve(Bu(t))};let Wu=(()=>{class t{constructor(){this.compileModuleSync=Hu,this.compileModuleAsync=zu,this.compileModuleAndAllComponentsSync=Gu,this.compileModuleAndAllComponentsAsync=$u}clearCache(){}clearCacheFor(t){}getModuleId(t){}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=S({token:t,factory:t.\u0275fac}),t})();const Ju=(()=>Promise.resolve(0))();function Ku(t){"undefined"==typeof Zone?Ju.then(()=>{t&&t.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",t)}class Qu{constructor({enableLongStackTrace:t=!1,shouldCoalesceEventChangeDetection:e=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new hu(!1),this.onMicrotaskEmpty=new hu(!1),this.onStable=new hu(!1),this.onError=new hu(!1),"undefined"==typeof Zone)throw new Error("In this configuration Angular requires Zone.js");Zone.assertZonePatched();const n=this;n._nesting=0,n._outer=n._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(n._inner=n._inner.fork(new Zone.TaskTrackingZoneSpec)),t&&Zone.longStackTraceZoneSpec&&(n._inner=n._inner.fork(Zone.longStackTraceZoneSpec)),n.shouldCoalesceEventChangeDetection=e,n.lastRequestAnimationFrameId=-1,n.nativeRequestAnimationFrame=function(){let t=z.requestAnimationFrame,e=z.cancelAnimationFrame;if("undefined"!=typeof Zone&&t&&e){const n=t[Zone.__symbol__("OriginalDelegate")];n&&(t=n);const r=e[Zone.__symbol__("OriginalDelegate")];r&&(e=r)}return{nativeRequestAnimationFrame:t,nativeCancelAnimationFrame:e}}().nativeRequestAnimationFrame,function(t){const e=!!t.shouldCoalesceEventChangeDetection&&t.nativeRequestAnimationFrame&&(()=>{!function(t){-1===t.lastRequestAnimationFrameId&&(t.lastRequestAnimationFrameId=t.nativeRequestAnimationFrame.call(z,()=>{t.fakeTopEventTask||(t.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{t.lastRequestAnimationFrameId=-1,Xu(t),Zu(t)},void 0,()=>{},()=>{})),t.fakeTopEventTask.invoke()}),Xu(t))}(t)});t._inner=t._inner.fork({name:"angular",properties:{isAngularZone:!0,maybeDelayChangeDetection:e},onInvokeTask:(n,r,i,o,s,a)=>{try{return tc(t),n.invokeTask(i,o,s,a)}finally{e&&"eventTask"===o.type&&e(),ec(t)}},onInvoke:(e,n,r,i,o,s,a)=>{try{return tc(t),e.invoke(r,i,o,s,a)}finally{ec(t)}},onHasTask:(e,n,r,i)=>{e.hasTask(r,i),n===r&&("microTask"==i.change?(t._hasPendingMicrotasks=i.microTask,Xu(t),Zu(t)):"macroTask"==i.change&&(t.hasPendingMacrotasks=i.macroTask))},onHandleError:(e,n,r,i)=>(e.handleError(r,i),t.runOutsideAngular(()=>t.onError.emit(i)),!1)})}(n)}static isInAngularZone(){return!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!Qu.isInAngularZone())throw new Error("Expected to be in Angular Zone, but it is not!")}static assertNotInAngularZone(){if(Qu.isInAngularZone())throw new Error("Expected to not be in Angular Zone, but it is!")}run(t,e,n){return this._inner.run(t,e,n)}runTask(t,e,n,r){const i=this._inner,o=i.scheduleEventTask("NgZoneEvent: "+r,t,Yu,sa,sa);try{return i.runTask(o,e,n)}finally{i.cancelTask(o)}}runGuarded(t,e,n){return this._inner.runGuarded(t,e,n)}runOutsideAngular(t){return this._outer.run(t)}}const Yu={};function Zu(t){if(0==t._nesting&&!t.hasPendingMicrotasks&&!t.isStable)try{t._nesting++,t.onMicrotaskEmpty.emit(null)}finally{if(t._nesting--,!t.hasPendingMicrotasks)try{t.runOutsideAngular(()=>t.onStable.emit(null))}finally{t.isStable=!0}}}function Xu(t){t.hasPendingMicrotasks=!!(t._hasPendingMicrotasks||t.shouldCoalesceEventChangeDetection&&-1!==t.lastRequestAnimationFrameId)}function tc(t){t._nesting++,t.isStable&&(t.isStable=!1,t.onUnstable.emit(null))}function ec(t){t._nesting--,Zu(t)}class nc{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new hu,this.onMicrotaskEmpty=new hu,this.onStable=new hu,this.onError=new hu}run(t,e,n){return t.apply(e,n)}runGuarded(t,e,n){return t.apply(e,n)}runOutsideAngular(t){return t()}runTask(t,e,n,r){return t.apply(e,n)}}let rc=(()=>{class t{constructor(t){this._ngZone=t,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,this._watchAngularEvents(),t.run(()=>{this.taskTrackingZone="undefined"==typeof Zone?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{Qu.assertNotInAngularZone(),Ku(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())Ku(()=>{for(;0!==this._callbacks.length;){let t=this._callbacks.pop();clearTimeout(t.timeoutId),t.doneCb(this._didWork)}this._didWork=!1});else{let t=this.getPendingTasks();this._callbacks=this._callbacks.filter(e=>!e.updateCb||!e.updateCb(t)||(clearTimeout(e.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(t=>({source:t.source,creationLocation:t.creationLocation,data:t.data})):[]}addCallback(t,e,n){let r=-1;e&&e>0&&(r=setTimeout(()=>{this._callbacks=this._callbacks.filter(t=>t.timeoutId!==r),t(this._didWork,this.getPendingTasks())},e)),this._callbacks.push({doneCb:t,timeoutId:r,updateCb:n})}whenStable(t,e,n){if(n&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/dist/task-tracking.js" loaded?');this.addCallback(t,e,n),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}findProviders(t,e,n){return[]}}return t.\u0275fac=function(e){return new(e||t)(Pn(Qu))},t.\u0275prov=S({token:t,factory:t.\u0275fac}),t})(),ic=(()=>{class t{constructor(){this._applications=new Map,uc.addToWindow(this)}registerApplication(t,e){this._applications.set(t,e)}unregisterApplication(t){this._applications.delete(t)}unregisterAllApplications(){this._applications.clear()}getTestability(t){return this._applications.get(t)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(t,e=!0){return uc.findTestabilityInTree(this,t,e)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=S({token:t,factory:t.\u0275fac}),t})();class oc{addToWindow(t){}findTestabilityInTree(t,e,n){return null}}function sc(t){uc=t}let ac,uc=new oc;const cc=new ln("AllowMultipleToken");class lc{constructor(t,e){this.name=t,this.token=e}}function hc(t,e,n=[]){const r="Platform: "+e,i=new ln(r);return(e=[])=>{let o=fc();if(!o||o.injector.get(cc,!1))if(t)t(n.concat(e).concat({provide:i,useValue:!0}));else{const t=n.concat(e).concat({provide:i,useValue:!0},{provide:mo,useValue:"platform"});!function(t){if(ac&&!ac.destroyed&&!ac.injector.get(cc,!1))throw new Error("There can be only one platform. Destroy the previous one to create a new one.");ac=t.get(dc);const e=t.get(Du,null);e&&e.forEach(t=>t())}(jo.create({providers:t,name:r}))}return function(t){const e=fc();if(!e)throw new Error("No platform exists!");if(!e.injector.get(t,null))throw new Error("A platform with a different configuration has been created. Please destroy it first.");return e}(i)}}function fc(){return ac&&!ac.destroyed?ac:null}let dc=(()=>{class t{constructor(t){this._injector=t,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(t,e){const n=function(t,e){let n;return n="noop"===t?new nc:("zone.js"===t?void 0:t)||new Qu({enableLongStackTrace:Zn(),shouldCoalesceEventChangeDetection:e}),n}(e?e.ngZone:void 0,e&&e.ngZoneEventCoalescing||!1),r=[{provide:Qu,useValue:n}];return n.run(()=>{const e=jo.create({providers:r,parent:this.injector,name:t.moduleType.name}),i=t.create(e),o=i.injector.get(kr,null);if(!o)throw new Error("No ErrorHandler. Is platform module (BrowserModule) included?");return i.onDestroy(()=>bc(this._modules,i)),n.runOutsideAngular(()=>n.onError.subscribe({next:t=>{o.handleError(t)}})),function(t,e,n){try{const r=n();return is(r)?r.catch(n=>{throw e.runOutsideAngular(()=>t.handleError(n)),n}):r}catch(r){throw e.runOutsideAngular(()=>t.handleError(r)),r}}(o,n,()=>{const t=i.injector.get(ku);return t.runInitializers(),t.donePromise.then(()=>(Js(i.injector.get(Lu,$s)||$s),this._moduleDoBootstrap(i),i))})})}bootstrapModule(t,e=[]){const n=pc({},e);return function(t,e,n){const r=new ou(n);return Promise.resolve(r)}(0,0,t).then(t=>this.bootstrapModuleFactory(t,n))}_moduleDoBootstrap(t){const e=t.injector.get(gc);if(t._bootstrapComponents.length>0)t._bootstrapComponents.forEach(t=>e.bootstrap(t));else{if(!t.instance.ngDoBootstrap)throw new Error(`The module ${m(t.instance.constructor)} was bootstrapped, but it does not declare "@NgModule.bootstrap" components nor a "ngDoBootstrap" method. Please define one of these.`);t.instance.ngDoBootstrap(e)}this._modules.push(t)}onDestroy(t){this._destroyListeners.push(t)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new Error("The platform has already been destroyed!");this._modules.slice().forEach(t=>t.destroy()),this._destroyListeners.forEach(t=>t()),this._destroyed=!0}get destroyed(){return this._destroyed}}return t.\u0275fac=function(e){return new(e||t)(Pn(jo))},t.\u0275prov=S({token:t,factory:t.\u0275fac}),t})();function pc(t,e){return Array.isArray(e)?e.reduce(pc,t):Object.assign(Object.assign({},t),e)}let gc=(()=>{class t{constructor(t,e,n,r,i,a){this._zone=t,this._console=e,this._injector=n,this._exceptionHandler=r,this._componentFactoryResolver=i,this._initStatus=a,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._enforceNoNewChanges=!1,this._stable=!0,this.componentTypes=[],this.components=[],this._enforceNoNewChanges=Zn(),this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const c=new o.a(t=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{t.next(this._stable),t.complete()})}),l=new o.a(t=>{let e;this._zone.runOutsideAngular(()=>{e=this._zone.onStable.subscribe(()=>{Qu.assertNotInAngularZone(),Ku(()=>{this._stable||this._zone.hasPendingMacrotasks||this._zone.hasPendingMicrotasks||(this._stable=!0,t.next(!0))})})});const n=this._zone.onUnstable.subscribe(()=>{Qu.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{t.next(!1)}))});return()=>{e.unsubscribe(),n.unsubscribe()}});this.isStable=Object(s.a)(c,l.pipe(t=>{return u()((e=p,function(t){let n;n="function"==typeof e?e:function(){return e};const r=Object.create(t,f);return r.source=t,r.subjectFactory=n,r})(t));var e}))}bootstrap(t,e){if(!this._initStatus.done)throw new Error("Cannot bootstrap as there are still asynchronous initializers running. Bootstrap components in the `ngDoBootstrap` method of the root module.");let n;n=t instanceof ra?t:this._componentFactoryResolver.resolveComponentFactory(t),this.componentTypes.push(n.componentType);const r=n.isBoundToModule?void 0:this._injector.get(Ha),i=n.create(jo.NULL,[],e||n.selector,r);i.onDestroy(()=>{this._unloadComponent(i)});const o=i.injector.get(rc,null);return o&&i.injector.get(ic).registerApplication(i.location.nativeElement,o),this._loadComponent(i),Zn()&&this._console.log("Angular is running in development mode. Call enableProdMode() to enable production mode."),i}tick(){if(this._runningTick)throw new Error("ApplicationRef.tick is called recursively");try{this._runningTick=!0;for(let t of this._views)t.detectChanges();if(this._enforceNoNewChanges)for(let t of this._views)t.checkNoChanges()}catch(t){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(t))}finally{this._runningTick=!1}}attachView(t){const e=t;this._views.push(e),e.attachToAppRef(this)}detachView(t){const e=t;bc(this._views,e),e.detachFromAppRef()}_loadComponent(t){this.attachView(t.hostView),this.tick(),this.components.push(t),this._injector.get(Ru,[]).concat(this._bootstrapListeners).forEach(e=>e(t))}_unloadComponent(t){this.detachView(t.hostView),bc(this.components,t)}ngOnDestroy(){this._views.slice().forEach(t=>t.destroy())}get viewCount(){return this._views.length}}return t.\u0275fac=function(e){return new(e||t)(Pn(Qu),Pn(Vu),Pn(jo),Pn(kr),Pn(oa),Pn(ku))},t.\u0275prov=S({token:t,factory:t.\u0275fac}),t})();function bc(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}class mc{}class vc{}const yc={factoryPathPrefix:"",factoryPathSuffix:".ngfactory"};let wc=(()=>{class t{constructor(t,e){this._compiler=t,this._config=e||yc}load(t){return this.loadAndCompile(t)}loadAndCompile(t){let[e,r]=t.split("#");return void 0===r&&(r="default"),n("zn8P")(e).then(t=>t[r]).then(t=>_c(t,e,r)).then(t=>this._compiler.compileModuleAsync(t))}loadFactory(t){let[e,r]=t.split("#"),i="NgFactory";return void 0===r&&(r="default",i=""),n("zn8P")(this._config.factoryPathPrefix+e+this._config.factoryPathSuffix).then(t=>t[r+i]).then(t=>_c(t,e,r))}}return t.\u0275fac=function(e){return new(e||t)(Pn(Wu),Pn(vc,8))},t.\u0275prov=S({token:t,factory:t.\u0275fac}),t})();function _c(t,e,n){if(!t)throw new Error(`Cannot find '${n}' in '${e}'`);return t}const Oc=function(t){return null},Sc=hc(null,"core",[{provide:Mu,useValue:"unknown"},{provide:dc,deps:[jo]},{provide:ic,deps:[]},{provide:Vu,deps:[]}]),Cc=[{provide:gc,useClass:gc,deps:[Qu,Vu,jo,kr,oa,ku]},{provide:tu,deps:[Qu],useFactory:function(t){let e=[];return t.onStable.subscribe(()=>{for(;e.length;)e.pop()()}),function(t){e.push(t)}}},{provide:ku,useClass:ku,deps:[[new On,Au]]},{provide:Wu,useClass:Wu,deps:[]},Nu,{provide:Ta,useFactory:function(){return Ma},deps:[]},{provide:Ia,useFactory:function(){return Ra},deps:[]},{provide:Lu,useFactory:function(t){return Js(t=t||"undefined"!=typeof $localize&&$localize.locale||$s),t},deps:[[new _n(Lu),new On,new Cn]]},{provide:Fu,useValue:"USD"}];let Ec=(()=>{class t{constructor(t){}}return t.\u0275mod=it({type:t}),t.\u0275inj=C({factory:function(e){return new(e||t)(Pn(gc))},providers:Cc}),t})()},gRHU:function(t,e,n){"use strict";n.d(e,"a",function(){return o});var r=n("2fFW"),i=n("NJ4a");const o={closed:!0,next(t){},error(t){if(r.a.useDeprecatedSynchronousErrorHandling)throw t;Object(i.a)(t)},complete(){}}},jZKg:function(t,e,n){"use strict";n.d(e,"a",function(){return o});var r=n("HDdC"),i=n("quSY");function o(t,e){return new r.a(n=>{const r=new i.a;let o=0;return r.add(e.schedule(function(){o!==t.length?(n.next(t[o++]),n.closed||r.add(this.schedule())):n.complete()})),r})}},kJWO:function(t,e,n){"use strict";n.d(e,"a",function(){return r});const r=(()=>"function"==typeof Symbol&&Symbol.observable||"@@observable")()},lJxs:function(t,e,n){"use strict";n.d(e,"a",function(){return i});var r=n("7o/Q");function i(t,e){return function(n){if("function"!=typeof t)throw new TypeError("argument is not a function. Are you looking for `mapTo()`?");return n.lift(new o(t,e))}}class o{constructor(t,e){this.project=t,this.thisArg=e}call(t,e){return e.subscribe(new s(t,this.project,this.thisArg))}}class s extends r.a{constructor(t,e,n){super(t),this.project=e,this.count=0,this.thisArg=n||this}_next(t){let e;try{e=this.project.call(this.thisArg,t,this.count++)}catch(n){return void this.destination.error(n)}this.destination.next(e)}}},n6bG:function(t,e,n){"use strict";function r(t){return"function"==typeof t}n.d(e,"a",function(){return r})},ngJS:function(t,e,n){"use strict";n.d(e,"a",function(){return r});const r=t=>e=>{for(let n=0,r=t.length;n<r&&!e.closed;n++)e.next(t[n]);e.complete()}},pxpQ:function(t,e,n){"use strict";n.d(e,"b",function(){return u}),n.d(e,"a",function(){return l});var r=n("7o/Q"),i=n("EY2u"),o=n("LRne"),s=n("HDdC");let a=(()=>{class t{constructor(t,e,n){this.kind=t,this.value=e,this.error=n,this.hasValue="N"===t}observe(t){switch(this.kind){case"N":return t.next&&t.next(this.value);case"E":return t.error&&t.error(this.error);case"C":return t.complete&&t.complete()}}do(t,e,n){switch(this.kind){case"N":return t&&t(this.value);case"E":return e&&e(this.error);case"C":return n&&n()}}accept(t,e,n){return t&&"function"==typeof t.next?this.observe(t):this.do(t,e,n)}toObservable(){switch(this.kind){case"N":return Object(o.a)(this.value);case"E":return t=this.error,new s.a(e=>e.error(t));case"C":return Object(i.b)()}var t;throw new Error("unexpected notification kind value")}static createNext(e){return void 0!==e?new t("N",e):t.undefinedValueNotification}static createError(e){return new t("E",void 0,e)}static createComplete(){return t.completeNotification}}return t.completeNotification=new t("C"),t.undefinedValueNotification=new t("N",void 0),t})();function u(t,e=0){return function(n){return n.lift(new c(t,e))}}class c{constructor(t,e=0){this.scheduler=t,this.delay=e}call(t,e){return e.subscribe(new l(t,this.scheduler,this.delay))}}class l extends r.a{constructor(t,e,n=0){super(t),this.scheduler=e,this.delay=n}static dispatch(t){const{notification:e,destination:n}=t;e.observe(n),this.unsubscribe()}scheduleMessage(t){this.destination.add(this.scheduler.schedule(l.dispatch,this.delay,new h(t,this.destination)))}_next(t){this.scheduleMessage(a.createNext(t))}_error(t){this.scheduleMessage(a.createError(t)),this.unsubscribe()}_complete(){this.scheduleMessage(a.createComplete()),this.unsubscribe()}}class h{constructor(t,e){this.notification=t,this.destination=e}}},"q/0M":function(t,e,n){"use strict";function r(){for(var t=0,e=0,n=arguments.length;e<n;e++)t+=arguments[e].length;var r=Array(t),i=0;for(e=0;e<n;e++)for(var o=arguments[e],s=0,a=o.length;s<a;s++,i++)r[i]=o[s];return r}var i;n.d(e,"a",function(){return s}),n.d(e,"b",function(){return h}),n.d(e,"c",function(){return f}),n.d(e,"d",function(){return d});var o=[],s=function(t){return t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT",t}({}),a={debug:s.DEBUG,verbose:s.VERBOSE,info:s.INFO,warn:s.WARN,error:s.ERROR,silent:s.SILENT},u=s.INFO,c=((i={})[s.DEBUG]="log",i[s.VERBOSE]="log",i[s.INFO]="info",i[s.WARN]="warn",i[s.ERROR]="error",i),l=function(t,e){for(var n=[],i=2;i<arguments.length;i++)n[i-2]=arguments[i];if(!(e<t.logLevel)){var o=(new Date).toISOString(),s=c[e];if(!s)throw new Error("Attempted to log a message with an invalid logType (value: "+e+")");console[s].apply(console,r(["["+o+"]  "+t.name+":"],n))}},h=function(){function t(t){this.name=t,this._logLevel=u,this._logHandler=l,this._userLogHandler=null,o.push(this)}return Object.defineProperty(t.prototype,"logLevel",{get:function(){return this._logLevel},set:function(t){if(!(t in s))throw new TypeError('Invalid value "'+t+'" assigned to `logLevel`');this._logLevel=t},enumerable:!1,configurable:!0}),t.prototype.setLogLevel=function(t){this._logLevel="string"==typeof t?a[t]:t},Object.defineProperty(t.prototype,"logHandler",{get:function(){return this._logHandler},set:function(t){if("function"!=typeof t)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"userLogHandler",{get:function(){return this._userLogHandler},set:function(t){this._userLogHandler=t},enumerable:!1,configurable:!0}),t.prototype.debug=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,r([this,s.DEBUG],t)),this._logHandler.apply(this,r([this,s.DEBUG],t))},t.prototype.log=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,r([this,s.VERBOSE],t)),this._logHandler.apply(this,r([this,s.VERBOSE],t))},t.prototype.info=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,r([this,s.INFO],t)),this._logHandler.apply(this,r([this,s.INFO],t))},t.prototype.warn=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,r([this,s.WARN],t)),this._logHandler.apply(this,r([this,s.WARN],t))},t.prototype.error=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,r([this,s.ERROR],t)),this._logHandler.apply(this,r([this,s.ERROR],t))},t}();function f(t){o.forEach(function(e){e.setLogLevel(t)})}function d(t,e){for(var n=function(n){var r=null;e&&e.level&&(r=a[e.level]),n.userLogHandler=null===t?null:function(e,n){for(var i=[],o=2;o<arguments.length;o++)i[o-2]=arguments[o];var a=i.map(function(t){if(null==t)return null;if("string"==typeof t)return t;if("number"==typeof t||"boolean"==typeof t)return t.toString();if(t instanceof Error)return t.message;try{return JSON.stringify(t)}catch(e){return null}}).filter(function(t){return t}).join(" ");n>=(null!=r?r:e.logLevel)&&t({level:s[n].toLowerCase(),message:a,args:i,type:e.name})}},r=0,i=o;r<i.length;r++)n(i[r])}},qOnz:function(t,e,n){"use strict";n.d(e,"a",function(){return s}),n.d(e,"b",function(){return m}),n.d(e,"c",function(){return w}),n.d(e,"d",function(){return _}),n.d(e,"e",function(){return i}),n.d(e,"f",function(){return o}),n.d(e,"g",function(){return a}),n.d(e,"h",function(){return l}),n.d(e,"i",function(){return h}),n.d(e,"j",function(){return d}),n.d(e,"k",function(){return p}),n.d(e,"l",function(){return u}),n.d(e,"m",function(){return c}),n.d(e,"n",function(){return f}),n.d(e,"o",function(){return g});var r=n("30Go");function i(t){return o(void 0,t)}function o(t,e){if(!(e instanceof Object))return e;switch(e.constructor){case Date:return new Date(e.getTime());case Object:void 0===t&&(t={});break;case Array:t=[];break;default:return e}for(var n in e)e.hasOwnProperty(n)&&"__proto__"!==n&&(t[n]=o(t[n],e[n]));return t}var s=function(){function t(){var t=this;this.reject=function(){},this.resolve=function(){},this.promise=new Promise(function(e,n){t.resolve=e,t.reject=n})}return t.prototype.wrapCallback=function(t){var e=this;return function(n,r){n?e.reject(n):e.resolve(r),"function"==typeof t&&(e.promise.catch(function(){}),1===t.length?t(n):t(n,r))}},t}();function a(){return"undefined"!=typeof navigator&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function u(){return"undefined"!=typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(a())}function c(){try{return"[object process]"===Object.prototype.toString.call(global.process)}catch(t){return!1}}function l(){return"object"==typeof self&&self.self===self}function h(){var t="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof t&&void 0!==t.id}function f(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function d(){return a().indexOf("Electron/")>=0}function p(){var t=a();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function g(){return a().indexOf("MSAppHost/")>=0}var b=function(t){function e(n,r,i){var o=t.call(this,r)||this;return o.code=n,o.customData=i,o.name="FirebaseError",Object.setPrototypeOf(o,e.prototype),Error.captureStackTrace&&Error.captureStackTrace(o,m.prototype.create),o}return Object(r.c)(e,t),e}(Error),m=function(){function t(t,e,n){this.service=t,this.serviceName=e,this.errors=n}return t.prototype.create=function(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];var r=e[0]||{},i=this.service+"/"+t,o=this.errors[t],s=o?v(o,r):"Error",a=this.serviceName+": "+s+" ("+i+").",u=new b(i,a,r);return u},t}();function v(t,e){return t.replace(y,function(t,n){var r=e[n];return null!=r?String(r):"<"+n+"?>"})}var y=/\{\$([^}]+)}/g;function w(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function _(t,e){var n=new O(t,e);return n.subscribe.bind(n)}var O=function(){function t(t,e){var n=this;this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=e,this.task.then(function(){t(n)}).catch(function(t){n.error(t)})}return t.prototype.next=function(t){this.forEachObserver(function(e){e.next(t)})},t.prototype.error=function(t){this.forEachObserver(function(e){e.error(t)}),this.close(t)},t.prototype.complete=function(){this.forEachObserver(function(t){t.complete()}),this.close()},t.prototype.subscribe=function(t,e,n){var r,i=this;if(void 0===t&&void 0===e&&void 0===n)throw new Error("Missing Observer.");void 0===(r=function(t,e){if("object"!=typeof t||null===t)return!1;for(var n=0,r=["next","error","complete"];n<r.length;n++){var i=r[n];if(i in t&&"function"==typeof t[i])return!0}return!1}(t)?t:{next:t,error:e,complete:n}).next&&(r.next=S),void 0===r.error&&(r.error=S),void 0===r.complete&&(r.complete=S);var o=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(function(){try{i.finalError?r.error(i.finalError):r.complete()}catch(t){}}),this.observers.push(r),o},t.prototype.unsubscribeOne=function(t){void 0!==this.observers&&void 0!==this.observers[t]&&(delete this.observers[t],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))},t.prototype.forEachObserver=function(t){if(!this.finalized)for(var e=0;e<this.observers.length;e++)this.sendOne(e,t)},t.prototype.sendOne=function(t,e){var n=this;this.task.then(function(){if(void 0!==n.observers&&void 0!==n.observers[t])try{e(n.observers[t])}catch(r){"undefined"!=typeof console&&console.error&&console.error(r)}})},t.prototype.close=function(t){var e=this;this.finalized||(this.finalized=!0,void 0!==t&&(this.finalError=t),this.task.then(function(){e.observers=void 0,e.onNoObservers=void 0}))},t}();function S(){}},qgXg:function(t,e,n){"use strict";n.d(e,"b",function(){return a}),n.d(e,"a",function(){return u});var r=n("3N8a");class i extends r.a{constructor(t,e){super(t,e),this.scheduler=t,this.work=e}schedule(t,e=0){return e>0?super.schedule(t,e):(this.delay=e,this.state=t,this.scheduler.flush(this),this)}execute(t,e){return e>0||this.closed?super.execute(t,e):this._execute(t,e)}requestAsyncId(t,e,n=0){return null!==n&&n>0||null===n&&this.delay>0?super.requestAsyncId(t,e,n):t.flush(this)}}var o=n("IjjT");class s extends o.a{}const a=new s(i),u=a},quSY:function(t,e,n){"use strict";n.d(e,"a",function(){return a});var r=n("DH7j"),i=n("XoHu"),o=n("n6bG");const s=(()=>{function t(t){return Error.call(this),this.message=t?`${t.length} errors occurred during unsubscription:\n${t.map((t,e)=>`${e+1}) ${t.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=t,this}return t.prototype=Object.create(Error.prototype),t})();let a=(()=>{class t{constructor(t){this.closed=!1,this._parentOrParents=null,this._subscriptions=null,t&&(this._ctorUnsubscribe=!0,this._unsubscribe=t)}unsubscribe(){let e;if(this.closed)return;let{_parentOrParents:n,_ctorUnsubscribe:a,_unsubscribe:c,_subscriptions:l}=this;if(this.closed=!0,this._parentOrParents=null,this._subscriptions=null,n instanceof t)n.remove(this);else if(null!==n)for(let t=0;t<n.length;++t)n[t].remove(this);if(Object(o.a)(c)){a&&(this._unsubscribe=void 0);try{c.call(this)}catch(h){e=h instanceof s?u(h.errors):[h]}}if(Object(r.a)(l)){let t=-1,n=l.length;for(;++t<n;){const n=l[t];if(Object(i.a)(n))try{n.unsubscribe()}catch(h){e=e||[],h instanceof s?e=e.concat(u(h.errors)):e.push(h)}}}if(e)throw new s(e)}add(e){let n=e;if(!e)return t.EMPTY;switch(typeof e){case"function":n=new t(e);case"object":if(n===this||n.closed||"function"!=typeof n.unsubscribe)return n;if(this.closed)return n.unsubscribe(),n;if(!(n instanceof t)){const e=n;n=new t,n._subscriptions=[e]}break;default:throw new Error("unrecognized teardown "+e+" added to Subscription.")}let{_parentOrParents:r}=n;if(null===r)n._parentOrParents=this;else if(r instanceof t){if(r===this)return n;n._parentOrParents=[r,this]}else{if(-1!==r.indexOf(this))return n;r.push(this)}const i=this._subscriptions;return null===i?this._subscriptions=[n]:i.push(n),n}remove(t){const e=this._subscriptions;if(e){const n=e.indexOf(t);-1!==n&&e.splice(n,1)}}}var e;return t.EMPTY=((e=new t).closed=!0,e),t})();function u(t){return t.reduce((t,e)=>t.concat(e instanceof s?e.errors:e),[])}},spgP:function(t,e,n){"use strict";(function(t){n.d(e,"a",function(){return T}),n.d(e,"b",function(){return y}),n.d(e,"c",function(){return v}),n.d(e,"d",function(){return d}),n.d(e,"e",function(){return m}),n.d(e,"f",function(){return C}),n.d(e,"g",function(){return _}),n.d(e,"h",function(){return p}),n.d(e,"i",function(){return b}),n.d(e,"j",function(){return O});var r=n("qgXg"),i=n("D0XW"),o=n("vkgz"),s=n("tf+s"),a=n("pxpQ"),u=n("fXoL"),c=n("Jgta");function l(){}class h{constructor(t,e=r.b){this.zone=t,this.delegate=e}now(){return this.delegate.now()}schedule(t,e,n){const r=this.zone;return this.delegate.schedule(function(e){r.runGuarded(()=>{t.apply(this,[e])})},e,n)}}class f{constructor(t){this.zone=t,this.task=null}call(t,e){const n=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",l,{},l,l)),e.pipe(Object(o.a)({next:n,complete:n,error:n})).subscribe(t).add(n)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}class d{constructor(t){this.ngZone=t,this.outsideAngular=t.runOutsideAngular(()=>new h(Zone.current)),this.insideAngular=t.run(()=>new h(Zone.current,i.a))}}function p(t){return function(e){return(e=e.lift(new f(t.ngZone))).pipe(Object(s.a)(t.outsideAngular),Object(a.b)(t.insideAngular))}}const g=["ngOnDestroy"],b=(t,e,n,r={})=>new Proxy(t,{get:(i,o)=>n.runOutsideAngular(()=>{var i;if(t[o])return(null===(i=null==r?void 0:r.spy)||void 0===i?void 0:i.get)&&r.spy.get(o,t[o]),t[o];if(g.indexOf(o)>-1)return()=>{};const s=e.toPromise().then(t=>{const e=t&&t[o];return"function"==typeof e?e.bind(t):e&&e.then?e.then(t=>n.run(()=>t)):n.run(()=>e)});return new Proxy(()=>{},{get:(t,e)=>s[e],apply:(t,e,n)=>s.then(t=>{var e;const i=t&&t(...n);return(null===(e=null==r?void 0:r.spy)||void 0===e?void 0:e.apply)&&r.spy.apply(o,n,i),i})})})}),m=(t,e)=>{e.forEach(e=>{Object.getOwnPropertyNames(e.prototype||e).forEach(n=>{Object.defineProperty(t.prototype,n,Object.getOwnPropertyDescriptor(e.prototype||e,n))})})},v=new u.q("angularfire2.app.options"),y=new u.q("angularfire2.app.nameOrConfig"),w=new u.O("6.1.4");function _(e,n,r){const i="object"==typeof r&&r||{};i.name=i.name||"string"==typeof r&&r||"[DEFAULT]";const o=c.a.apps.filter(t=>t&&t.name===i.name)[0]||n.runOutsideAngular(()=>c.a.initializeApp(e,i));try{JSON.stringify(e)!==JSON.stringify(o.options)&&S("error",`${o.name} Firebase App already initialized with different options${t.hot?", you may need to reload as Firebase is not HMR aware.":"."}`)}catch(s){}return o}const O=()=>{S("warn","You may need to import 'firebase/auth' manually in your component rather than rely on AngularFireAuth's dynamic import, when using the emulator suite https://github.com/angular/angularfire/issues/2656")},S=(t,...e)=>{Object(u.U)()&&"undefined"!=typeof console&&console[t](...e)};function C(e,n,r,i,o){const[s,...a]=globalThis.\u0275AngularfireInstanceCache.get(e)||[];if(s){try{o.some((t,e)=>{const n=a[e];return t&&"object"==typeof t?JSON.stringify(t)!==JSON.stringify(n):t!==n})&&S("error",`${n} was already initialized on the ${r.name} Firebase App instance with different settings.${t.hot?" You may need to reload as Firebase is not HMR aware.":""}`)}catch(u){}return s}{const t=i();return globalThis.\u0275AngularfireInstanceCache.set(e,[t,...o]),t}}globalThis.\u0275AngularfireInstanceCache||(globalThis.\u0275AngularfireInstanceCache=new Map);const E={provide:class{},useFactory:_,deps:[v,u.z,[new u.A,y]]};let T=(()=>{class t{constructor(t){c.a.registerVersion("angularfire",w.full,t.toString()),c.a.registerVersion("angular",u.N.full)}static initializeApp(e,n){return{ngModule:t,providers:[{provide:v,useValue:e},{provide:y,useValue:n}]}}}return t.\u0275mod=u.Hb({type:t}),t.\u0275inj=u.Gb({factory:function(e){return new(e||t)(u.Sb(u.B))},providers:[E]}),t})()}).call(this,n("3UD+")(t))},"tf+s":function(t,e,n){"use strict";n.d(e,"a",function(){return b});var r=n("HDdC");let i=1;const o=(()=>Promise.resolve())(),s={};function a(t){return t in s&&(delete s[t],!0)}const u={setImmediate(t){const e=i++;return s[e]=!0,o.then(()=>a(e)&&t()),e},clearImmediate(t){a(t)}};var c=n("3N8a");class l extends c.a{constructor(t,e){super(t,e),this.scheduler=t,this.work=e}requestAsyncId(t,e,n=0){return null!==n&&n>0?super.requestAsyncId(t,e,n):(t.actions.push(this),t.scheduled||(t.scheduled=u.setImmediate(t.flush.bind(t,null))))}recycleAsyncId(t,e,n=0){if(null!==n&&n>0||null===n&&this.delay>0)return super.recycleAsyncId(t,e,n);0===t.actions.length&&(u.clearImmediate(e),t.scheduled=void 0)}}var h=n("IjjT");class f extends h.a{flush(t){this.active=!0,this.scheduled=void 0;const{actions:e}=this;let n,r=-1,i=e.length;t=t||e.shift();do{if(n=t.execute(t.state,t.delay))break}while(++r<i&&(t=e.shift()));if(this.active=!1,n){for(;++r<i&&(t=e.shift());)t.unsubscribe();throw n}}}const d=new f(l);var p=n("DH7j");class g extends r.a{constructor(t,e=0,n=d){var r;super(),this.source=t,this.delayTime=e,this.scheduler=n,r=e,(Object(p.a)(r)||!(r-parseFloat(r)+1>=0)||e<0)&&(this.delayTime=0),n&&"function"==typeof n.schedule||(this.scheduler=d)}static create(t,e=0,n=d){return new g(t,e,n)}static dispatch(t){const{source:e,subscriber:n}=t;return this.add(e.subscribe(n))}_subscribe(t){return this.scheduler.schedule(g.dispatch,this.delayTime,{source:this.source,subscriber:t})}}function b(t,e=0){return function(n){return n.lift(new m(t,e))}}class m{constructor(t,e){this.scheduler=t,this.delay=e}call(t,e){return new g(e,this.delay,this.scheduler).subscribe(t)}}},vkgz:function(t,e,n){"use strict";n.d(e,"a",function(){return s});var r=n("7o/Q");function i(){}var o=n("n6bG");function s(t,e,n){return function(r){return r.lift(new a(t,e,n))}}class a{constructor(t,e,n){this.nextOrObserver=t,this.error=e,this.complete=n}call(t,e){return e.subscribe(new u(t,this.nextOrObserver,this.error,this.complete))}}class u extends r.a{constructor(t,e,n,r){super(t),this._tapNext=i,this._tapError=i,this._tapComplete=i,this._tapError=n||i,this._tapComplete=r||i,Object(o.a)(e)?(this._context=this,this._tapNext=e):e&&(this._context=e,this._tapNext=e.next||i,this._tapError=e.error||i,this._tapComplete=e.complete||i)}_next(t){try{this._tapNext.call(this._context,t)}catch(e){return void this.destination.error(e)}this.destination.next(t)}_error(t){try{this._tapError.call(this._context,t)}catch(t){return void this.destination.error(t)}this.destination.error(t)}_complete(){try{this._tapComplete.call(this._context)}catch(t){return void this.destination.error(t)}return this.destination.complete()}}},yCtX:function(t,e,n){"use strict";n.d(e,"a",function(){return s});var r=n("HDdC"),i=n("ngJS"),o=n("jZKg");function s(t,e){return e?Object(o.a)(t,e):new r.a(Object(i.a)(t))}},"z+Ro":function(t,e,n){"use strict";function r(t){return t&&"function"==typeof t.schedule}n.d(e,"a",function(){return r})},zIRd:function(t,e,n){"use strict";var r,i,o=n("30Go"),s=n("qOnz"),a=n("/6Yf"),u=n("q/0M"),c=((r={})["no-app"]="No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()",r["bad-app-name"]="Illegal App name: '{$appName}",r["duplicate-app"]="Firebase App named '{$appName}' already exists",r["app-deleted"]="Firebase App named '{$appName}' already deleted",r["invalid-app-argument"]="firebase.{$appName}() takes either no argument or a Firebase App instance.",r["invalid-log-argument"]="First argument to `onLog` must be null or a function.",r),l=new s.b("app","Firebase",c),h="@firebase/app",f="[DEFAULT]",d=((i={})[h]="fire-core",i["@firebase/analytics"]="fire-analytics",i["@firebase/auth"]="fire-auth",i["@firebase/database"]="fire-rtdb",i["@firebase/functions"]="fire-fn",i["@firebase/installations"]="fire-iid",i["@firebase/messaging"]="fire-fcm",i["@firebase/performance"]="fire-perf",i["@firebase/remote-config"]="fire-rc",i["@firebase/storage"]="fire-gcs",i["@firebase/firestore"]="fire-fst",i["fire-js"]="fire-js",i["firebase-wrapper"]="fire-js-all",i),p=new u.b("@firebase/app"),g=function(){function t(t,e,n){var r,i,u=this;this.firebase_=n,this.isDeleted_=!1,this.name_=e.name,this.automaticDataCollectionEnabled_=e.automaticDataCollectionEnabled||!1,this.options_=Object(s.e)(t),this.container=new a.b(e.name),this._addComponent(new a.a("app",function(){return u},"PUBLIC"));try{for(var c=Object(o.h)(this.firebase_.INTERNAL.components.values()),l=c.next();!l.done;l=c.next())this._addComponent(l.value)}catch(h){r={error:h}}finally{try{l&&!l.done&&(i=c.return)&&i.call(c)}finally{if(r)throw r.error}}}return Object.defineProperty(t.prototype,"automaticDataCollectionEnabled",{get:function(){return this.checkDestroyed_(),this.automaticDataCollectionEnabled_},set:function(t){this.checkDestroyed_(),this.automaticDataCollectionEnabled_=t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"name",{get:function(){return this.checkDestroyed_(),this.name_},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"options",{get:function(){return this.checkDestroyed_(),this.options_},enumerable:!1,configurable:!0}),t.prototype.delete=function(){var t=this;return new Promise(function(e){t.checkDestroyed_(),e()}).then(function(){return t.firebase_.INTERNAL.removeApp(t.name_),Promise.all(t.container.getProviders().map(function(t){return t.delete()}))}).then(function(){t.isDeleted_=!0})},t.prototype._getService=function(t,e){return void 0===e&&(e=f),this.checkDestroyed_(),this.container.getProvider(t).getImmediate({identifier:e})},t.prototype._removeServiceInstance=function(t,e){void 0===e&&(e=f),this.container.getProvider(t).clearInstance(e)},t.prototype._addComponent=function(t){try{this.container.addComponent(t)}catch(e){p.debug("Component "+t.name+" failed to register with FirebaseApp "+this.name,e)}},t.prototype._addOrOverwriteComponent=function(t){this.container.addOrOverwriteComponent(t)},t.prototype.checkDestroyed_=function(){if(this.isDeleted_)throw l.create("app-deleted",{appName:this.name_})},t}();g.prototype.name&&g.prototype.options||g.prototype.delete||console.log("dc");var b=function t(){var e=function(t){var e={},n=new Map,r={__esModule:!0,initializeApp:function(n,i){void 0===i&&(i={}),"object"==typeof i&&null!==i||(i={name:i});var o=i;void 0===o.name&&(o.name=f);var a=o.name;if("string"!=typeof a||!a)throw l.create("bad-app-name",{appName:String(a)});if(Object(s.c)(e,a))throw l.create("duplicate-app",{appName:a});var u=new t(n,o,r);return e[a]=u,u},app:i,registerVersion:function(t,e,n){var r,i=null!==(r=d[t])&&void 0!==r?r:t;n&&(i+="-"+n);var o=i.match(/\s|\//),s=e.match(/\s|\//);if(o||s){var u=['Unable to register library "'+i+'" with version "'+e+'":'];return o&&u.push('library name "'+i+'" contains illegal characters (whitespace or "/")'),o&&s&&u.push("and"),s&&u.push('version name "'+e+'" contains illegal characters (whitespace or "/")'),void p.warn(u.join(" "))}c(new a.a(i+"-version",function(){return{library:i,version:e}},"VERSION"))},setLogLevel:u.c,onLog:function(t,e){if(null!==t&&"function"!=typeof t)throw l.create("invalid-log-argument",{appName:name});Object(u.d)(t,e)},apps:null,SDK_VERSION:"8.0.1",INTERNAL:{registerComponent:c,removeApp:function(t){delete e[t]},components:n,useAsService:function(t,e){return"serverAuth"===e?null:e}}};function i(t){if(t=t||f,!Object(s.c)(e,t))throw l.create("no-app",{appName:t});return e[t]}function c(a){var u,c,h=a.name;if(n.has(h))return p.debug("There were multiple attempts to register component "+h+"."),"PUBLIC"===a.type?r[h]:null;if(n.set(h,a),"PUBLIC"===a.type){var f=function(t){if(void 0===t&&(t=i()),"function"!=typeof t[h])throw l.create("invalid-app-argument",{appName:h});return t[h]()};void 0!==a.serviceProps&&Object(s.f)(f,a.serviceProps),r[h]=f,t.prototype[h]=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return this._getService.bind(this,h).apply(this,a.multipleInstances?t:[])}}try{for(var d=Object(o.h)(Object.keys(e)),g=d.next();!g.done;g=d.next())e[g.value]._addComponent(a)}catch(b){u={error:b}}finally{try{g&&!g.done&&(c=d.return)&&c.call(d)}finally{if(u)throw u.error}}return"PUBLIC"===a.type?r[h]:null}return r.default=r,Object.defineProperty(r,"apps",{get:function(){return Object.keys(e).map(function(t){return e[t]})}}),i.App=t,r}(g);return e.INTERNAL=Object(o.a)(Object(o.a)({},e.INTERNAL),{createFirebaseNamespace:t,extendNamespace:function(t){Object(s.f)(e,t)},createSubscribe:s.d,ErrorFactory:s.b,deepExtend:s.f}),e}(),m=function(){function t(t){this.container=t}return t.prototype.getPlatformInfoString=function(){return this.container.getProviders().map(function(t){if(function(t){var e=t.getComponent();return"VERSION"===(null==e?void 0:e.type)}(t)){var e=t.getImmediate();return e.library+"/"+e.version}return null}).filter(function(t){return t}).join(" ")},t}();if(Object(s.h)()&&void 0!==self.firebase){p.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");var v=self.firebase.SDK_VERSION;v&&v.indexOf("LITE")>=0&&p.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}var y=b.initializeApp;b.initializeApp=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return Object(s.m)()&&p.warn('\n      Warning: This is a browser-targeted Firebase bundle but it appears it is being\n      run in a Node environment.  If running in a Node environment, make sure you\n      are using the bundle specified by the "main" field in package.json.\n      \n      If you are using Webpack, you can specify "main" as the first item in\n      "resolve.mainFields":\n      https://webpack.js.org/configuration/resolve/#resolvemainfields\n      \n      If using Rollup, use the @rollup/plugin-node-resolve plugin and specify "main"\n      as the first item in "mainFields", e.g. [\'main\', \'module\'].\n      https://github.com/rollup/@rollup/plugin-node-resolve\n      '),y.apply(void 0,t)};var w=b;!function(t,e){t.INTERNAL.registerComponent(new a.a("platform-logger",function(t){return new m(t)},"PRIVATE")),t.registerVersion(h,"0.6.13",void 0),t.registerVersion("fire-js","")}(w),e.a=w},zUnb:function(t,e,n){"use strict";n.r(e);var r=n("fXoL");const i={production:!0};let o=null;function s(){return o}const a=new r.q("DocumentToken");let u=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=Object(r.Fb)({factory:c,token:t,providedIn:"platform"}),t})();function c(){return Object(r.Sb)(h)}const l=new r.q("Location Initialized");let h=(()=>{class t extends u{constructor(t){super(),this._doc=t,this._init()}_init(){this.location=s().getLocation(),this._history=s().getHistory()}getBaseHrefFromDOM(){return s().getBaseHref(this._doc)}onPopState(t){s().getGlobalEventTarget(this._doc,"window").addEventListener("popstate",t,!1)}onHashChange(t){s().getGlobalEventTarget(this._doc,"window").addEventListener("hashchange",t,!1)}get href(){return this.location.href}get protocol(){return this.location.protocol}get hostname(){return this.location.hostname}get port(){return this.location.port}get pathname(){return this.location.pathname}get search(){return this.location.search}get hash(){return this.location.hash}set pathname(t){this.location.pathname=t}pushState(t,e,n){f()?this._history.pushState(t,e,n):this.location.hash=n}replaceState(t,e,n){f()?this._history.replaceState(t,e,n):this.location.hash=n}forward(){this._history.forward()}back(){this._history.back()}getState(){return this._history.state}}return t.\u0275fac=function(e){return new(e||t)(r.Sb(a))},t.\u0275prov=Object(r.Fb)({factory:d,token:t,providedIn:"platform"}),t})();function f(){return!!window.history.pushState}function d(){return new h(Object(r.Sb)(a))}function p(t,e){if(0==t.length)return e;if(0==e.length)return t;let n=0;return t.endsWith("/")&&n++,e.startsWith("/")&&n++,2==n?t+e.substring(1):1==n?t+e:t+"/"+e}function g(t){const e=t.match(/#|\?|$/),n=e&&e.index||t.length;return t.slice(0,n-("/"===t[n-1]?1:0))+t.slice(n)}function b(t){return t&&"?"!==t[0]?"?"+t:t}let m=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=Object(r.Fb)({factory:v,token:t,providedIn:"root"}),t})();function v(t){const e=Object(r.Sb)(a).location;return new w(Object(r.Sb)(u),e&&e.origin||"")}const y=new r.q("appBaseHref");let w=(()=>{class t extends m{constructor(t,e){if(super(),this._platformLocation=t,null==e&&(e=this._platformLocation.getBaseHrefFromDOM()),null==e)throw new Error("No base href set. Please provide a value for the APP_BASE_HREF token or add a base element to the document.");this._baseHref=e}onPopState(t){this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t)}getBaseHref(){return this._baseHref}prepareExternalUrl(t){return p(this._baseHref,t)}path(t=!1){const e=this._platformLocation.pathname+b(this._platformLocation.search),n=this._platformLocation.hash;return n&&t?`${e}${n}`:e}pushState(t,e,n,r){const i=this.prepareExternalUrl(n+b(r));this._platformLocation.pushState(t,e,i)}replaceState(t,e,n,r){const i=this.prepareExternalUrl(n+b(r));this._platformLocation.replaceState(t,e,i)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}}return t.\u0275fac=function(e){return new(e||t)(r.Sb(u),r.Sb(y,8))},t.\u0275prov=r.Fb({token:t,factory:t.\u0275fac}),t})(),_=(()=>{class t extends m{constructor(t,e){super(),this._platformLocation=t,this._baseHref="",null!=e&&(this._baseHref=e)}onPopState(t){this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t)}getBaseHref(){return this._baseHref}path(t=!1){let e=this._platformLocation.hash;return null==e&&(e="#"),e.length>0?e.substring(1):e}prepareExternalUrl(t){const e=p(this._baseHref,t);return e.length>0?"#"+e:e}pushState(t,e,n,r){let i=this.prepareExternalUrl(n+b(r));0==i.length&&(i=this._platformLocation.pathname),this._platformLocation.pushState(t,e,i)}replaceState(t,e,n,r){let i=this.prepareExternalUrl(n+b(r));0==i.length&&(i=this._platformLocation.pathname),this._platformLocation.replaceState(t,e,i)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}}return t.\u0275fac=function(e){return new(e||t)(r.Sb(u),r.Sb(y,8))},t.\u0275prov=r.Fb({token:t,factory:t.\u0275fac}),t})(),O=(()=>{class t{constructor(t,e){this._subject=new r.n,this._urlChangeListeners=[],this._platformStrategy=t;const n=this._platformStrategy.getBaseHref();this._platformLocation=e,this._baseHref=g(C(n)),this._platformStrategy.onPopState(t=>{this._subject.emit({url:this.path(!0),pop:!0,state:t.state,type:t.type})})}path(t=!1){return this.normalize(this._platformStrategy.path(t))}getState(){return this._platformLocation.getState()}isCurrentPathEqualTo(t,e=""){return this.path()==this.normalize(t+b(e))}normalize(e){return t.stripTrailingSlash(function(t,e){return t&&e.startsWith(t)?e.substring(t.length):e}(this._baseHref,C(e)))}prepareExternalUrl(t){return t&&"/"!==t[0]&&(t="/"+t),this._platformStrategy.prepareExternalUrl(t)}go(t,e="",n=null){this._platformStrategy.pushState(n,"",t,e),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+b(e)),n)}replaceState(t,e="",n=null){this._platformStrategy.replaceState(n,"",t,e),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+b(e)),n)}forward(){this._platformStrategy.forward()}back(){this._platformStrategy.back()}onUrlChange(t){this._urlChangeListeners.push(t),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(t=>{this._notifyUrlChangeListeners(t.url,t.state)}))}_notifyUrlChangeListeners(t="",e){this._urlChangeListeners.forEach(n=>n(t,e))}subscribe(t,e,n){return this._subject.subscribe({next:t,error:e,complete:n})}}return t.\u0275fac=function(e){return new(e||t)(r.Sb(m),r.Sb(u))},t.normalizeQueryParams=b,t.joinWithSlash=p,t.stripTrailingSlash=g,t.\u0275prov=Object(r.Fb)({factory:S,token:t,providedIn:"root"}),t})();function S(){return new O(Object(r.Sb)(m),Object(r.Sb)(u))}function C(t){return t.replace(/\/index.html$/,"")}var E=function(t){return t[t.Zero=0]="Zero",t[t.One=1]="One",t[t.Two=2]="Two",t[t.Few=3]="Few",t[t.Many=4]="Many",t[t.Other=5]="Other",t}({}),T=function(t){return t[t.Format=0]="Format",t[t.Standalone=1]="Standalone",t}({}),I=function(t){return t[t.Narrow=0]="Narrow",t[t.Abbreviated=1]="Abbreviated",t[t.Wide=2]="Wide",t[t.Short=3]="Short",t}({}),x=function(t){return t[t.Short=0]="Short",t[t.Medium=1]="Medium",t[t.Long=2]="Long",t[t.Full=3]="Full",t}({}),A=function(t){return t[t.Decimal=0]="Decimal",t[t.Group=1]="Group",t[t.List=2]="List",t[t.PercentSign=3]="PercentSign",t[t.PlusSign=4]="PlusSign",t[t.MinusSign=5]="MinusSign",t[t.Exponential=6]="Exponential",t[t.SuperscriptingExponent=7]="SuperscriptingExponent",t[t.PerMille=8]="PerMille",t[t[1/0]=9]="Infinity",t[t.NaN=10]="NaN",t[t.TimeSeparator=11]="TimeSeparator",t[t.CurrencyDecimal=12]="CurrencyDecimal",t[t.CurrencyGroup=13]="CurrencyGroup",t}({});function k(t,e){return R(Object(r.ib)(t)[r.Z.DateFormat],e)}function j(t,e){return R(Object(r.ib)(t)[r.Z.TimeFormat],e)}function N(t,e){return R(Object(r.ib)(t)[r.Z.DateTimeFormat],e)}function P(t,e){const n=Object(r.ib)(t),i=n[r.Z.NumberSymbols][e];if(void 0===i){if(e===A.CurrencyDecimal)return n[r.Z.NumberSymbols][A.Decimal];if(e===A.CurrencyGroup)return n[r.Z.NumberSymbols][A.Group]}return i}const D=r.lb;function M(t){if(!t[r.Z.ExtraData])throw new Error(`Missing extra locale data for the locale "${t[r.Z.LocaleId]}". Use "registerLocaleData" to load new data. See the "I18n guide" on angular.io to know more.`)}function R(t,e){for(let n=e;n>-1;n--)if(void 0!==t[n])return t[n];throw new Error("Locale data API: locale data undefined")}function V(t){const[e,n]=t.split(":");return{hours:+e,minutes:+n}}const L=/^(\d{4})-?(\d\d)-?(\d\d)(?:T(\d\d)(?::?(\d\d)(?::?(\d\d)(?:\.(\d+))?)?)?(Z|([+-])(\d\d):?(\d\d))?)?$/,F={},U=/((?:[^GyYMLwWdEabBhHmsSzZO']+)|(?:'(?:[^']|'')*')|(?:G{1,5}|y{1,4}|Y{1,4}|M{1,5}|L{1,5}|w{1,2}|W{1}|d{1,2}|E{1,6}|a{1,5}|b{1,5}|B{1,5}|h{1,2}|H{1,2}|m{1,2}|s{1,2}|S{1,3}|z{1,4}|Z{1,5}|O{1,4}))([\s\S]*)/;var q=function(t){return t[t.Short=0]="Short",t[t.ShortGMT=1]="ShortGMT",t[t.Long=2]="Long",t[t.Extended=3]="Extended",t}({}),H=function(t){return t[t.FullYear=0]="FullYear",t[t.Month=1]="Month",t[t.Date=2]="Date",t[t.Hours=3]="Hours",t[t.Minutes=4]="Minutes",t[t.Seconds=5]="Seconds",t[t.FractionalSeconds=6]="FractionalSeconds",t[t.Day=7]="Day",t}({}),z=function(t){return t[t.DayPeriods=0]="DayPeriods",t[t.Days=1]="Days",t[t.Months=2]="Months",t[t.Eras=3]="Eras",t}({});function B(t,e,n,r){let i=function(t){if(nt(t))return t;if("number"==typeof t&&!isNaN(t))return new Date(t);if("string"==typeof t){t=t.trim();const e=parseFloat(t);if(!isNaN(t-e))return new Date(e);if(/^(\d{4}-\d{1,2}-\d{1,2})$/.test(t)){const[e,n,r]=t.split("-").map(t=>+t);return new Date(e,n-1,r)}let n;if(n=t.match(L))return function(t){const e=new Date(0);let n=0,r=0;const i=t[8]?e.setUTCFullYear:e.setFullYear,o=t[8]?e.setUTCHours:e.setHours;t[9]&&(n=Number(t[9]+t[10]),r=Number(t[9]+t[11])),i.call(e,Number(t[1]),Number(t[2])-1,Number(t[3]));const s=Number(t[4]||0)-n,a=Number(t[5]||0)-r,u=Number(t[6]||0),c=Math.floor(1e3*parseFloat("0."+(t[7]||0)));return o.call(e,s,a,u,c),e}(n)}const e=new Date(t);if(!nt(e))throw new Error(`Unable to convert "${t}" into a date`);return e}(t);e=G(n,e)||e;let o,s=[];for(;e;){if(o=U.exec(e),!o){s.push(e);break}{s=s.concat(o.slice(1));const t=s.pop();if(!t)break;e=t}}let a=i.getTimezoneOffset();r&&(a=et(r,a),i=function(t,e,n){const r=t.getTimezoneOffset();return function(t,e){return(t=new Date(t.getTime())).setMinutes(t.getMinutes()+e),t}(t,-1*(et(e,r)-r))}(i,r));let u="";return s.forEach(t=>{const e=function(t){if(tt[t])return tt[t];let e;switch(t){case"G":case"GG":case"GGG":e=K(z.Eras,I.Abbreviated);break;case"GGGG":e=K(z.Eras,I.Wide);break;case"GGGGG":e=K(z.Eras,I.Narrow);break;case"y":e=J(H.FullYear,1,0,!1,!0);break;case"yy":e=J(H.FullYear,2,0,!0,!0);break;case"yyy":e=J(H.FullYear,3,0,!1,!0);break;case"yyyy":e=J(H.FullYear,4,0,!1,!0);break;case"Y":e=X(1);break;case"YY":e=X(2,!0);break;case"YYY":e=X(3);break;case"YYYY":e=X(4);break;case"M":case"L":e=J(H.Month,1,1);break;case"MM":case"LL":e=J(H.Month,2,1);break;case"MMM":e=K(z.Months,I.Abbreviated);break;case"MMMM":e=K(z.Months,I.Wide);break;case"MMMMM":e=K(z.Months,I.Narrow);break;case"LLL":e=K(z.Months,I.Abbreviated,T.Standalone);break;case"LLLL":e=K(z.Months,I.Wide,T.Standalone);break;case"LLLLL":e=K(z.Months,I.Narrow,T.Standalone);break;case"w":e=Z(1);break;case"ww":e=Z(2);break;case"W":e=Z(1,!0);break;case"d":e=J(H.Date,1);break;case"dd":e=J(H.Date,2);break;case"E":case"EE":case"EEE":e=K(z.Days,I.Abbreviated);break;case"EEEE":e=K(z.Days,I.Wide);break;case"EEEEE":e=K(z.Days,I.Narrow);break;case"EEEEEE":e=K(z.Days,I.Short);break;case"a":case"aa":case"aaa":e=K(z.DayPeriods,I.Abbreviated);break;case"aaaa":e=K(z.DayPeriods,I.Wide);break;case"aaaaa":e=K(z.DayPeriods,I.Narrow);break;case"b":case"bb":case"bbb":e=K(z.DayPeriods,I.Abbreviated,T.Standalone,!0);break;case"bbbb":e=K(z.DayPeriods,I.Wide,T.Standalone,!0);break;case"bbbbb":e=K(z.DayPeriods,I.Narrow,T.Standalone,!0);break;case"B":case"BB":case"BBB":e=K(z.DayPeriods,I.Abbreviated,T.Format,!0);break;case"BBBB":e=K(z.DayPeriods,I.Wide,T.Format,!0);break;case"BBBBB":e=K(z.DayPeriods,I.Narrow,T.Format,!0);break;case"h":e=J(H.Hours,1,-12);break;case"hh":e=J(H.Hours,2,-12);break;case"H":e=J(H.Hours,1);break;case"HH":e=J(H.Hours,2);break;case"m":e=J(H.Minutes,1);break;case"mm":e=J(H.Minutes,2);break;case"s":e=J(H.Seconds,1);break;case"ss":e=J(H.Seconds,2);break;case"S":e=J(H.FractionalSeconds,1);break;case"SS":e=J(H.FractionalSeconds,2);break;case"SSS":e=J(H.FractionalSeconds,3);break;case"Z":case"ZZ":case"ZZZ":e=Q(q.Short);break;case"ZZZZZ":e=Q(q.Extended);break;case"O":case"OO":case"OOO":case"z":case"zz":case"zzz":e=Q(q.ShortGMT);break;case"OOOO":case"ZZZZ":case"zzzz":e=Q(q.Long);break;default:return null}return tt[t]=e,e}(t);u+=e?e(i,n,a):"''"===t?"'":t.replace(/(^'|'$)/g,"").replace(/''/g,"'")}),u}function G(t,e){const n=function(t){return Object(r.ib)(t)[r.Z.LocaleId]}(t);if(F[n]=F[n]||{},F[n][e])return F[n][e];let i="";switch(e){case"shortDate":i=k(t,x.Short);break;case"mediumDate":i=k(t,x.Medium);break;case"longDate":i=k(t,x.Long);break;case"fullDate":i=k(t,x.Full);break;case"shortTime":i=j(t,x.Short);break;case"mediumTime":i=j(t,x.Medium);break;case"longTime":i=j(t,x.Long);break;case"fullTime":i=j(t,x.Full);break;case"short":const e=G(t,"shortTime"),n=G(t,"shortDate");i=$(N(t,x.Short),[e,n]);break;case"medium":const r=G(t,"mediumTime"),o=G(t,"mediumDate");i=$(N(t,x.Medium),[r,o]);break;case"long":const s=G(t,"longTime"),a=G(t,"longDate");i=$(N(t,x.Long),[s,a]);break;case"full":const u=G(t,"fullTime"),c=G(t,"fullDate");i=$(N(t,x.Full),[u,c])}return i&&(F[n][e]=i),i}function $(t,e){return e&&(t=t.replace(/\{([^}]+)}/g,function(t,n){return null!=e&&n in e?e[n]:t})),t}function W(t,e,n="-",r,i){let o="";(t<0||i&&t<=0)&&(i?t=1-t:(t=-t,o=n));let s=String(t);for(;s.length<e;)s="0"+s;return r&&(s=s.substr(s.length-e)),o+s}function J(t,e,n=0,r=!1,i=!1){return function(o,s){let a=function(t,e){switch(t){case H.FullYear:return e.getFullYear();case H.Month:return e.getMonth();case H.Date:return e.getDate();case H.Hours:return e.getHours();case H.Minutes:return e.getMinutes();case H.Seconds:return e.getSeconds();case H.FractionalSeconds:return e.getMilliseconds();case H.Day:return e.getDay();default:throw new Error(`Unknown DateType value "${t}".`)}}(t,o);if((n>0||a>-n)&&(a+=n),t===H.Hours)0===a&&-12===n&&(a=12);else if(t===H.FractionalSeconds)return u=e,W(a,3).substr(0,u);var u;const c=P(s,A.MinusSign);return W(a,e,c,r,i)}}function K(t,e,n=T.Format,i=!1){return function(o,s){return function(t,e,n,i,o,s){switch(n){case z.Months:return function(t,e,n){const i=Object(r.ib)(t),o=R([i[r.Z.MonthsFormat],i[r.Z.MonthsStandalone]],e);return R(o,n)}(e,o,i)[t.getMonth()];case z.Days:return function(t,e,n){const i=Object(r.ib)(t),o=R([i[r.Z.DaysFormat],i[r.Z.DaysStandalone]],e);return R(o,n)}(e,o,i)[t.getDay()];case z.DayPeriods:const a=t.getHours(),u=t.getMinutes();if(s){const t=function(t){const e=Object(r.ib)(t);return M(e),(e[r.Z.ExtraData][2]||[]).map(t=>"string"==typeof t?V(t):[V(t[0]),V(t[1])])}(e),n=function(t,e,n){const i=Object(r.ib)(t);M(i);const o=R([i[r.Z.ExtraData][0],i[r.Z.ExtraData][1]],e)||[];return R(o,n)||[]}(e,o,i),s=t.findIndex(t=>{if(Array.isArray(t)){const[e,n]=t,r=a>=e.hours&&u>=e.minutes,i=a<n.hours||a===n.hours&&u<n.minutes;if(e.hours<n.hours){if(r&&i)return!0}else if(r||i)return!0}else if(t.hours===a&&t.minutes===u)return!0;return!1});if(-1!==s)return n[s]}return function(t,e,n){const i=Object(r.ib)(t),o=R([i[r.Z.DayPeriodsFormat],i[r.Z.DayPeriodsStandalone]],e);return R(o,n)}(e,o,i)[a<12?0:1];case z.Eras:return function(t,e){return R(Object(r.ib)(t)[r.Z.Eras],e)}(e,i)[t.getFullYear()<=0?0:1];default:throw new Error("unexpected translation type "+n)}}(o,s,t,e,n,i)}}function Q(t){return function(e,n,r){const i=-1*r,o=P(n,A.MinusSign),s=i>0?Math.floor(i/60):Math.ceil(i/60);switch(t){case q.Short:return(i>=0?"+":"")+W(s,2,o)+W(Math.abs(i%60),2,o);case q.ShortGMT:return"GMT"+(i>=0?"+":"")+W(s,1,o);case q.Long:return"GMT"+(i>=0?"+":"")+W(s,2,o)+":"+W(Math.abs(i%60),2,o);case q.Extended:return 0===r?"Z":(i>=0?"+":"")+W(s,2,o)+":"+W(Math.abs(i%60),2,o);default:throw new Error(`Unknown zone width "${t}"`)}}}function Y(t){return new Date(t.getFullYear(),t.getMonth(),t.getDate()+(4-t.getDay()))}function Z(t,e=!1){return function(n,r){let i;if(e){const t=new Date(n.getFullYear(),n.getMonth(),1).getDay()-1,e=n.getDate();i=1+Math.floor((e+t)/7)}else{const t=Y(n),e=function(t){const e=new Date(t,0,1).getDay();return new Date(t,0,1+(e<=4?4:11)-e)}(t.getFullYear()),r=t.getTime()-e.getTime();i=1+Math.round(r/6048e5)}return W(i,t,P(r,A.MinusSign))}}function X(t,e=!1){return function(n,r){return W(Y(n).getFullYear(),t,P(r,A.MinusSign),e)}}const tt={};function et(t,e){t=t.replace(/:/g,"");const n=Date.parse("Jan 01, 1970 00:00:00 "+t)/6e4;return isNaN(n)?e:n}function nt(t){return t instanceof Date&&!isNaN(t.valueOf())}class rt{}let it=(()=>{class t extends rt{constructor(t){super(),this.locale=t}getPluralCategory(t,e){switch(D(e||this.locale)(t)){case E.Zero:return"zero";case E.One:return"one";case E.Two:return"two";case E.Few:return"few";case E.Many:return"many";default:return"other"}}}return t.\u0275fac=function(e){return new(e||t)(r.Sb(r.u))},t.\u0275prov=r.Fb({token:t,factory:t.\u0275fac}),t})();class ot{constructor(t,e,n,r){this.$implicit=t,this.ngForOf=e,this.index=n,this.count=r}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let st=(()=>{class t{constructor(t,e,n){this._viewContainer=t,this._template=e,this._differs=n,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForOf(t){this._ngForOf=t,this._ngForOfDirty=!0}set ngForTrackBy(t){Object(r.U)()&&null!=t&&"function"!=typeof t&&console&&console.warn&&console.warn(`trackBy must be a function, but received ${JSON.stringify(t)}. See https://angular.io/api/common/NgForOf#change-propagation for more information.`),this._trackByFn=t}get ngForTrackBy(){return this._trackByFn}set ngForTemplate(t){t&&(this._template=t)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const n=this._ngForOf;if(!this._differ&&n)try{this._differ=this._differs.find(n).create(this.ngForTrackBy)}catch(e){throw new Error(`Cannot find a differ supporting object '${n}' of type '${t=n,t.name||typeof t}'. NgFor only supports binding to Iterables such as Arrays.`)}}var t;if(this._differ){const t=this._differ.diff(this._ngForOf);t&&this._applyChanges(t)}}_applyChanges(t){const e=[];t.forEachOperation((t,n,r)=>{if(null==t.previousIndex){const n=this._viewContainer.createEmbeddedView(this._template,new ot(null,this._ngForOf,-1,-1),null===r?void 0:r),i=new at(t,n);e.push(i)}else if(null==r)this._viewContainer.remove(null===n?void 0:n);else if(null!==n){const i=this._viewContainer.get(n);this._viewContainer.move(i,r);const o=new at(t,i);e.push(o)}});for(let n=0;n<e.length;n++)this._perViewChange(e[n].view,e[n].record);for(let n=0,r=this._viewContainer.length;n<r;n++){const t=this._viewContainer.get(n);t.context.index=n,t.context.count=r,t.context.ngForOf=this._ngForOf}t.forEachIdentityChange(t=>{this._viewContainer.get(t.currentIndex).context.$implicit=t.item})}_perViewChange(t,e){t.context.$implicit=e.item}static ngTemplateContextGuard(t,e){return!0}}return t.\u0275fac=function(e){return new(e||t)(r.Jb(r.P),r.Jb(r.K),r.Jb(r.s))},t.\u0275dir=r.Eb({type:t,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"}}),t})();class at{constructor(t,e){this.record=t,this.view=e}}let ut=(()=>{class t{constructor(t,e){this._viewContainer=t,this._context=new ct,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=e}set ngIf(t){this._context.$implicit=this._context.ngIf=t,this._updateView()}set ngIfThen(t){lt("ngIfThen",t),this._thenTemplateRef=t,this._thenViewRef=null,this._updateView()}set ngIfElse(t){lt("ngIfElse",t),this._elseTemplateRef=t,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(t,e){return!0}}return t.\u0275fac=function(e){return new(e||t)(r.Jb(r.P),r.Jb(r.K))},t.\u0275dir=r.Eb({type:t,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"}}),t})();class ct{constructor(){this.$implicit=null,this.ngIf=null}}function lt(t,e){if(e&&!e.createEmbeddedView)throw new Error(`${t} must be a TemplateRef, but received '${Object(r.tb)(e)}'.`)}let ht=(()=>{class t{constructor(t){this.locale=t}transform(e,n="mediumDate",i,o){if(null==e||""===e||e!=e)return null;try{return B(e,n,o||this.locale,i)}catch(s){throw function(t,e){return Error(`InvalidPipeArgument: '${e}' for pipe '${Object(r.tb)(t)}'`)}(t,s.message)}}}return t.\u0275fac=function(e){return new(e||t)(r.Jb(r.u))},t.\u0275pipe=r.Ib({name:"date",type:t,pure:!0}),t})(),ft=(()=>{class t{}return t.\u0275mod=r.Hb({type:t}),t.\u0275inj=r.Gb({factory:function(e){return new(e||t)},providers:[{provide:rt,useClass:it}]}),t})();function dt(t){return"server"===t}let pt=(()=>{class t{}return t.\u0275prov=Object(r.Fb)({token:t,providedIn:"root",factory:()=>new gt(Object(r.Sb)(a),window,Object(r.Sb)(r.m))}),t})();class gt{constructor(t,e,n){this.document=t,this.window=e,this.errorHandler=n,this.offset=()=>[0,0]}setOffset(t){this.offset=Array.isArray(t)?()=>t:t}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(t){this.supportsScrolling()&&this.window.scrollTo(t[0],t[1])}scrollToAnchor(t){if(this.supportsScrolling()){const e=this.document.getElementById(t)||this.document.getElementsByName(t)[0];e&&this.scrollToElement(e)}}setHistoryScrollRestoration(t){if(this.supportScrollRestoration()){const e=this.window.history;e&&e.scrollRestoration&&(e.scrollRestoration=t)}}scrollToElement(t){const e=t.getBoundingClientRect(),n=e.left+this.window.pageXOffset,r=e.top+this.window.pageYOffset,i=this.offset();this.window.scrollTo(n-i[0],r-i[1])}supportScrollRestoration(){try{if(!this.supportsScrolling())return!1;const t=bt(this.window.history)||bt(Object.getPrototypeOf(this.window.history));return!(!t||!t.writable&&!t.set)}catch(t){return!1}}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch(t){return!1}}}function bt(t){return Object.getOwnPropertyDescriptor(t,"scrollRestoration")}class mt extends class extends class{}{constructor(){super()}supportsDOMEvents(){return!0}}{static makeCurrent(){var t;t=new mt,o||(o=t)}getProperty(t,e){return t[e]}log(t){window.console&&window.console.log&&window.console.log(t)}logGroup(t){window.console&&window.console.group&&window.console.group(t)}logGroupEnd(){window.console&&window.console.groupEnd&&window.console.groupEnd()}onAndCancel(t,e,n){return t.addEventListener(e,n,!1),()=>{t.removeEventListener(e,n,!1)}}dispatchEvent(t,e){t.dispatchEvent(e)}remove(t){return t.parentNode&&t.parentNode.removeChild(t),t}getValue(t){return t.value}createElement(t,e){return(e=e||this.getDefaultDocument()).createElement(t)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(t){return t.nodeType===Node.ELEMENT_NODE}isShadowRoot(t){return t instanceof DocumentFragment}getGlobalEventTarget(t,e){return"window"===e?window:"document"===e?t:"body"===e?t.body:null}getHistory(){return window.history}getLocation(){return window.location}getBaseHref(t){const e=yt||(yt=document.querySelector("base"),yt)?yt.getAttribute("href"):null;return null==e?null:(n=e,vt||(vt=document.createElement("a")),vt.setAttribute("href",n),"/"===vt.pathname.charAt(0)?vt.pathname:"/"+vt.pathname);var n}resetBaseElement(){yt=null}getUserAgent(){return window.navigator.userAgent}performanceNow(){return window.performance&&window.performance.now?window.performance.now():(new Date).getTime()}supportsCookies(){return!0}getCookie(t){return function(t,e){e=encodeURIComponent(e);for(const n of t.split(";")){const t=n.indexOf("="),[r,i]=-1==t?[n,""]:[n.slice(0,t),n.slice(t+1)];if(r.trim()===e)return decodeURIComponent(i)}return null}(document.cookie,t)}}let vt,yt=null;const wt=new r.q("TRANSITION_ID"),_t=[{provide:r.d,useFactory:function(t,e,n){return()=>{n.get(r.e).donePromise.then(()=>{const n=s();Array.prototype.slice.apply(e.querySelectorAll("style[ng-transition]")).filter(e=>e.getAttribute("ng-transition")===t).forEach(t=>n.remove(t))})}},deps:[wt,a,r.r],multi:!0}];class Ot{static init(){Object(r.W)(new Ot)}addToWindow(t){r.nb.getAngularTestability=(e,n=!0)=>{const r=t.findTestabilityInTree(e,n);if(null==r)throw new Error("Could not find testability for element.");return r},r.nb.getAllAngularTestabilities=()=>t.getAllTestabilities(),r.nb.getAllAngularRootElements=()=>t.getAllRootElements(),r.nb.frameworkStabilizers||(r.nb.frameworkStabilizers=[]),r.nb.frameworkStabilizers.push(t=>{const e=r.nb.getAllAngularTestabilities();let n=e.length,i=!1;const o=function(e){i=i||e,n--,0==n&&t(i)};e.forEach(function(t){t.whenStable(o)})})}findTestabilityInTree(t,e,n){if(null==e)return null;const r=t.getTestability(e);return null!=r?r:n?s().isShadowRoot(e)?this.findTestabilityInTree(t,e.host,!0):this.findTestabilityInTree(t,e.parentElement,!0):null}}const St=new r.q("EventManagerPlugins");let Ct=(()=>{class t{constructor(t,e){this._zone=e,this._eventNameToPlugin=new Map,t.forEach(t=>t.manager=this),this._plugins=t.slice().reverse()}addEventListener(t,e,n){return this._findPluginFor(e).addEventListener(t,e,n)}addGlobalEventListener(t,e,n){return this._findPluginFor(e).addGlobalEventListener(t,e,n)}getZone(){return this._zone}_findPluginFor(t){const e=this._eventNameToPlugin.get(t);if(e)return e;const n=this._plugins;for(let r=0;r<n.length;r++){const e=n[r];if(e.supports(t))return this._eventNameToPlugin.set(t,e),e}throw new Error("No event manager plugin found for event "+t)}}return t.\u0275fac=function(e){return new(e||t)(r.Sb(St),r.Sb(r.z))},t.\u0275prov=r.Fb({token:t,factory:t.\u0275fac}),t})();class Et{constructor(t){this._doc=t}addGlobalEventListener(t,e,n){const r=s().getGlobalEventTarget(this._doc,t);if(!r)throw new Error(`Unsupported event target ${r} for event ${e}`);return this.addEventListener(r,e,n)}}let Tt=(()=>{class t{constructor(){this._stylesSet=new Set}addStyles(t){const e=new Set;t.forEach(t=>{this._stylesSet.has(t)||(this._stylesSet.add(t),e.add(t))}),this.onStylesAdded(e)}onStylesAdded(t){}getAllStyles(){return Array.from(this._stylesSet)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=r.Fb({token:t,factory:t.\u0275fac}),t})(),It=(()=>{class t extends Tt{constructor(t){super(),this._doc=t,this._hostNodes=new Set,this._styleNodes=new Set,this._hostNodes.add(t.head)}_addStylesToHost(t,e){t.forEach(t=>{const n=this._doc.createElement("style");n.textContent=t,this._styleNodes.add(e.appendChild(n))})}addHost(t){this._addStylesToHost(this._stylesSet,t),this._hostNodes.add(t)}removeHost(t){this._hostNodes.delete(t)}onStylesAdded(t){this._hostNodes.forEach(e=>this._addStylesToHost(t,e))}ngOnDestroy(){this._styleNodes.forEach(t=>s().remove(t))}}return t.\u0275fac=function(e){return new(e||t)(r.Sb(a))},t.\u0275prov=r.Fb({token:t,factory:t.\u0275fac}),t})();const xt={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"},At=/%COMP%/g;function kt(t,e,n){for(let r=0;r<e.length;r++){let i=e[r];Array.isArray(i)?kt(t,i,n):(i=i.replace(At,t),n.push(i))}return n}function jt(t){return e=>{if("__ngUnwrap__"===e)return t;!1===t(e)&&(e.preventDefault(),e.returnValue=!1)}}let Nt=(()=>{class t{constructor(t,e,n){this.eventManager=t,this.sharedStylesHost=e,this.appId=n,this.rendererByCompId=new Map,this.defaultRenderer=new Pt(t)}createRenderer(t,e){if(!t||!e)return this.defaultRenderer;switch(e.encapsulation){case r.Q.Emulated:{let n=this.rendererByCompId.get(e.id);return n||(n=new Dt(this.eventManager,this.sharedStylesHost,e,this.appId),this.rendererByCompId.set(e.id,n)),n.applyToHost(t),n}case 1:case r.Q.ShadowDom:return new Mt(this.eventManager,this.sharedStylesHost,t,e);default:if(!this.rendererByCompId.has(e.id)){const t=kt(e.id,e.styles,[]);this.sharedStylesHost.addStyles(t),this.rendererByCompId.set(e.id,this.defaultRenderer)}return this.defaultRenderer}}begin(){}end(){}}return t.\u0275fac=function(e){return new(e||t)(r.Sb(Ct),r.Sb(It),r.Sb(r.c))},t.\u0275prov=r.Fb({token:t,factory:t.\u0275fac}),t})();class Pt{constructor(t){this.eventManager=t,this.data=Object.create(null)}destroy(){}createElement(t,e){return e?document.createElementNS(xt[e]||e,t):document.createElement(t)}createComment(t){return document.createComment(t)}createText(t){return document.createTextNode(t)}appendChild(t,e){t.appendChild(e)}insertBefore(t,e,n){t&&t.insertBefore(e,n)}removeChild(t,e){t&&t.removeChild(e)}selectRootElement(t,e){let n="string"==typeof t?document.querySelector(t):t;if(!n)throw new Error(`The selector "${t}" did not match any elements`);return e||(n.textContent=""),n}parentNode(t){return t.parentNode}nextSibling(t){return t.nextSibling}setAttribute(t,e,n,r){if(r){e=r+":"+e;const i=xt[r];i?t.setAttributeNS(i,e,n):t.setAttribute(e,n)}else t.setAttribute(e,n)}removeAttribute(t,e,n){if(n){const r=xt[n];r?t.removeAttributeNS(r,e):t.removeAttribute(`${n}:${e}`)}else t.removeAttribute(e)}addClass(t,e){t.classList.add(e)}removeClass(t,e){t.classList.remove(e)}setStyle(t,e,n,i){i&(r.F.DashCase|r.F.Important)?t.style.setProperty(e,n,i&r.F.Important?"important":""):t.style[e]=n}removeStyle(t,e,n){n&r.F.DashCase?t.style.removeProperty(e):t.style[e]=""}setProperty(t,e,n){t[e]=n}setValue(t,e){t.nodeValue=e}listen(t,e,n){return"string"==typeof t?this.eventManager.addGlobalEventListener(t,e,jt(n)):this.eventManager.addEventListener(t,e,jt(n))}}class Dt extends Pt{constructor(t,e,n,r){super(t),this.component=n;const i=kt(r+"-"+n.id,n.styles,[]);e.addStyles(i),this.contentAttr="_ngcontent-%COMP%".replace(At,r+"-"+n.id),this.hostAttr="_nghost-%COMP%".replace(At,r+"-"+n.id)}applyToHost(t){super.setAttribute(t,this.hostAttr,"")}createElement(t,e){const n=super.createElement(t,e);return super.setAttribute(n,this.contentAttr,""),n}}class Mt extends Pt{constructor(t,e,n,r){super(t),this.sharedStylesHost=e,this.hostEl=n,this.shadowRoot=n.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const i=kt(r.id,r.styles,[]);for(let o=0;o<i.length;o++){const t=document.createElement("style");t.textContent=i[o],this.shadowRoot.appendChild(t)}}nodeOrShadowRoot(t){return t===this.hostEl?this.shadowRoot:t}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}appendChild(t,e){return super.appendChild(this.nodeOrShadowRoot(t),e)}insertBefore(t,e,n){return super.insertBefore(this.nodeOrShadowRoot(t),e,n)}removeChild(t,e){return super.removeChild(this.nodeOrShadowRoot(t),e)}parentNode(t){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(t)))}}let Rt=(()=>{class t extends Et{constructor(t){super(t)}supports(t){return!0}addEventListener(t,e,n){return t.addEventListener(e,n,!1),()=>this.removeEventListener(t,e,n)}removeEventListener(t,e,n){return t.removeEventListener(e,n)}}return t.\u0275fac=function(e){return new(e||t)(r.Sb(a))},t.\u0275prov=r.Fb({token:t,factory:t.\u0275fac}),t})();const Vt=["alt","control","meta","shift"],Lt={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},Ft={A:"1",B:"2",C:"3",D:"4",E:"5",F:"6",G:"7",H:"8",I:"9",J:"*",K:"+",M:"-",N:".",O:"/","`":"0","\x90":"NumLock"},Ut={alt:t=>t.altKey,control:t=>t.ctrlKey,meta:t=>t.metaKey,shift:t=>t.shiftKey};let qt=(()=>{class t extends Et{constructor(t){super(t)}supports(e){return null!=t.parseEventName(e)}addEventListener(e,n,r){const i=t.parseEventName(n),o=t.eventCallback(i.fullKey,r,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>s().onAndCancel(e,i.domEventName,o))}static parseEventName(e){const n=e.toLowerCase().split("."),r=n.shift();if(0===n.length||"keydown"!==r&&"keyup"!==r)return null;const i=t._normalizeKey(n.pop());let o="";if(Vt.forEach(t=>{const e=n.indexOf(t);e>-1&&(n.splice(e,1),o+=t+".")}),o+=i,0!=n.length||0===i.length)return null;const s={};return s.domEventName=r,s.fullKey=o,s}static getEventFullKey(t){let e="",n=function(t){let e=t.key;if(null==e){if(e=t.keyIdentifier,null==e)return"Unidentified";e.startsWith("U+")&&(e=String.fromCharCode(parseInt(e.substring(2),16)),3===t.location&&Ft.hasOwnProperty(e)&&(e=Ft[e]))}return Lt[e]||e}(t);return n=n.toLowerCase()," "===n?n="space":"."===n&&(n="dot"),Vt.forEach(r=>{r!=n&&(0,Ut[r])(t)&&(e+=r+".")}),e+=n,e}static eventCallback(e,n,r){return i=>{t.getEventFullKey(i)===e&&r.runGuarded(()=>n(i))}}static _normalizeKey(t){switch(t){case"esc":return"escape";default:return t}}}return t.\u0275fac=function(e){return new(e||t)(r.Sb(a))},t.\u0275prov=r.Fb({token:t,factory:t.\u0275fac}),t})();const Ht=[{provide:r.B,useValue:"browser"},{provide:r.C,useValue:function(){mt.makeCurrent(),Ot.init()},multi:!0},{provide:a,useFactory:function(){return Object(r.sb)(document),document},deps:[]}],zt=Object(r.R)(r.V,"browser",Ht),Bt=[[],{provide:r.Y,useValue:"root"},{provide:r.m,useFactory:function(){return new r.m},deps:[]},{provide:St,useClass:Rt,multi:!0,deps:[a,r.z,r.B]},{provide:St,useClass:qt,multi:!0,deps:[a]},[],{provide:Nt,useClass:Nt,deps:[Ct,It,r.c]},{provide:r.E,useExisting:Nt},{provide:Tt,useExisting:It},{provide:It,useClass:It,deps:[a]},{provide:r.L,useClass:r.L,deps:[r.z]},{provide:Ct,useClass:Ct,deps:[St,r.z]},[]];let Gt=(()=>{class t{constructor(t){if(t)throw new Error("BrowserModule has already been loaded. If you need access to common directives such as NgIf and NgFor from a lazy loaded module, import CommonModule instead.")}static withServerTransition(e){return{ngModule:t,providers:[{provide:r.c,useValue:e.appId},{provide:wt,useExisting:r.c},_t]}}}return t.\u0275mod=r.Hb({type:t}),t.\u0275inj=r.Gb({factory:function(e){return new(e||t)(r.Sb(t,12))},providers:Bt,imports:[ft,r.f]}),t})();"undefined"!=typeof window&&window;var $t=n("spgP"),Wt=n("D0XW"),Jt=n("HDdC"),Kt=n("Cfvw"),Qt=n("LRne"),Yt=n("bHdf");function Zt(){return Object(Yt.a)(1)}function Xt(...t){return Zt()(Object(Qt.a)(...t))}var te=n("z+Ro");function ee(...t){const e=t[t.length-1];return Object(te.a)(e)?(t.pop(),n=>Xt(t,n,e)):e=>Xt(t,e)}var ne=n("7o/Q");function re(){return t=>t.lift(new ie)}class ie{call(t,e){return e.subscribe(new oe(t))}}class oe extends ne.a{constructor(t){super(t),this.hasPrev=!1}_next(t){let e;this.hasPrev?e=[this.prev,t]:this.hasPrev=!0,this.prev=t,e&&this.destination.next(e)}}var se=n("lJxs");function ae(t,e){let n=!1;return arguments.length>=2&&(n=!0),function(r){return r.lift(new ue(t,e,n))}}class ue{constructor(t,e,n=!1){this.accumulator=t,this.seed=e,this.hasSeed=n}call(t,e){return e.subscribe(new ce(t,this.accumulator,this.seed,this.hasSeed))}}class ce extends ne.a{constructor(t,e,n,r){super(t),this.accumulator=e,this._seed=n,this.hasSeed=r,this.index=0}get seed(){return this._seed}set seed(t){this.hasSeed=!0,this._seed=t}_next(t){if(this.hasSeed)return this._tryNext(t);this.seed=t,this.destination.next(t)}_tryNext(t){const e=this.index++;let n;try{n=this.accumulator(this.seed,t,e)}catch(r){this.destination.error(r)}this.seed=n,this.destination.next(n)}}class le{constructor(t,e){this.compare=t,this.keySelector=e}call(t,e){return e.subscribe(new he(t,this.compare,this.keySelector))}}class he extends ne.a{constructor(t,e,n){super(t),this.keySelector=n,this.hasKey=!1,"function"==typeof e&&(this.compare=e)}compare(t,e){return t===e}_next(t){let e;try{const{keySelector:n}=this;e=n?n(t):t}catch(r){return this.destination.error(r)}let n=!1;if(this.hasKey)try{const{compare:t}=this;n=t(this.key,e)}catch(r){return this.destination.error(r)}else this.hasKey=!0;n||(this.key=e,this.destination.next(t))}}function fe(t,e){return function(n){return n.lift(new de(t,e))}}class de{constructor(t,e){this.predicate=t,this.thisArg=e}call(t,e){return e.subscribe(new pe(t,this.predicate,this.thisArg))}}class pe extends ne.a{constructor(t,e,n){super(t),this.predicate=e,this.thisArg=n,this.count=0}_next(t){let e;try{e=this.predicate.call(this.thisArg,t,this.count++)}catch(n){return void this.destination.error(n)}e&&this.destination.next(t)}}var ge=n("pxpQ"),be=n("Jgta"),me=n("zIRd"),ve=n("q/0M"),ye=n("qOnz"),we=function(t,e){return(we=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)};function _e(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}var Oe,Se="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},Ce=Ce||{},Ee=Se||self;function Te(){}function Ie(t){var e=typeof t;return"array"==(e="object"!=e?e:t?Array.isArray(t)?"array":e:"null")||"object"==e&&"number"==typeof t.length}function xe(t){var e=typeof t;return"object"==e&&null!=t||"function"==e}var Ae="closure_uid_"+(1e9*Math.random()>>>0),ke=0;function je(t,e,n){return t.call.apply(t.bind,arguments)}function Ne(t,e,n){if(!t)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var n=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(n,r),t.apply(e,n)}}return function(){return t.apply(e,arguments)}}function Pe(t,e,n){return(Pe=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?je:Ne).apply(null,arguments)}function De(t,e){var n=Array.prototype.slice.call(arguments,1);return function(){var e=n.slice();return e.push.apply(e,arguments),t.apply(this,e)}}function Me(){return Date.now()}function Re(t,e){function n(){}n.prototype=e.prototype,t.X=e.prototype,t.prototype=new n,t.prototype.constructor=t,t.Kb=function(t,n,r){for(var i=Array(arguments.length-2),o=2;o<arguments.length;o++)i[o-2]=arguments[o];return e.prototype[n].apply(t,i)}}function Ve(){this.j=this.j,this.i=this.i}Ve.prototype.j=!1,Ve.prototype.ja=function(){!this.j&&(this.j=!0,this.G(),0)&&function(t){Object.prototype.hasOwnProperty.call(t,Ae)&&t[Ae]||(t[Ae]=++ke)}(this)},Ve.prototype.G=function(){if(this.i)for(;this.i.length;)this.i.shift()()};var Le=Array.prototype.indexOf?function(t,e){return Array.prototype.indexOf.call(t,e,void 0)}:function(t,e){if("string"==typeof t)return"string"!=typeof e||1!=e.length?-1:t.indexOf(e,0);for(var n=0;n<t.length;n++)if(n in t&&t[n]===e)return n;return-1},Fe=Array.prototype.forEach?function(t,e,n){Array.prototype.forEach.call(t,e,n)}:function(t,e,n){for(var r=t.length,i="string"==typeof t?t.split(""):t,o=0;o<r;o++)o in i&&e.call(n,i[o],o,t)};function Ue(t){return Array.prototype.concat.apply([],arguments)}function qe(t){var e=t.length;if(0<e){for(var n=Array(e),r=0;r<e;r++)n[r]=t[r];return n}return[]}function He(t){return/^[\s\xa0]*$/.test(t)}var ze,Be=String.prototype.trim?function(t){return t.trim()}:function(t){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(t)[1]};function Ge(t,e){return-1!=t.indexOf(e)}function $e(t,e){return t<e?-1:t>e?1:0}t:{var We=Ee.navigator;if(We){var Je=We.userAgent;if(Je){ze=Je;break t}}ze=""}function Ke(t,e,n){for(var r in t)e.call(n,t[r],r,t)}function Qe(t){var e={};for(var n in t)e[n]=t[n];return e}var Ye="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function Ze(t,e){for(var n,r,i=1;i<arguments.length;i++){for(n in r=arguments[i])t[n]=r[n];for(var o=0;o<Ye.length;o++)n=Ye[o],Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}}function Xe(t){return Xe[" "](t),t}Xe[" "]=Te;var tn,en,nn=Ge(ze,"Opera"),rn=Ge(ze,"Trident")||Ge(ze,"MSIE"),on=Ge(ze,"Edge"),sn=on||rn,an=Ge(ze,"Gecko")&&!(Ge(ze.toLowerCase(),"webkit")&&!Ge(ze,"Edge"))&&!(Ge(ze,"Trident")||Ge(ze,"MSIE"))&&!Ge(ze,"Edge"),un=Ge(ze.toLowerCase(),"webkit")&&!Ge(ze,"Edge");function cn(){var t=Ee.document;return t?t.documentMode:void 0}t:{var ln="",hn=(en=ze,an?/rv:([^\);]+)(\)|;)/.exec(en):on?/Edge\/([\d\.]+)/.exec(en):rn?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(en):un?/WebKit\/(\S+)/.exec(en):nn?/(?:Version)[ \/]?(\S+)/.exec(en):void 0);if(hn&&(ln=hn?hn[1]:""),rn){var fn=cn();if(null!=fn&&fn>parseFloat(ln)){tn=String(fn);break t}}tn=ln}var dn={};function pn(t){return function(t,e){var n=dn;return Object.prototype.hasOwnProperty.call(n,t)?n[t]:n[t]=e()}(t,function(){for(var e=0,n=Be(String(tn)).split("."),r=Be(String(t)).split("."),i=Math.max(n.length,r.length),o=0;0==e&&o<i;o++){var s=n[o]||"",a=r[o]||"";do{if(s=/(\d*)(\D*)(.*)/.exec(s)||["","","",""],a=/(\d*)(\D*)(.*)/.exec(a)||["","","",""],0==s[0].length&&0==a[0].length)break;e=$e(0==s[1].length?0:parseInt(s[1],10),0==a[1].length?0:parseInt(a[1],10))||$e(0==s[2].length,0==a[2].length)||$e(s[2],a[2]),s=s[3],a=a[3]}while(0==e)}return 0<=e})}var gn=Ee.document&&rn&&(cn()||parseInt(tn,10))||void 0,bn=!rn||9<=Number(gn),mn=rn&&!pn("9"),vn=function(){if(!Ee.addEventListener||!Object.defineProperty)return!1;var t=!1,e=Object.defineProperty({},"passive",{get:function(){t=!0}});try{Ee.addEventListener("test",Te,e),Ee.removeEventListener("test",Te,e)}catch(n){}return t}();function yn(t,e){this.type=t,this.a=this.target=e,this.defaultPrevented=!1}function wn(t,e){if(yn.call(this,t?t.type:""),this.relatedTarget=this.a=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.pointerId=0,this.pointerType="",this.c=null,t){var n=this.type=t.type,r=t.changedTouches&&t.changedTouches.length?t.changedTouches[0]:null;if(this.target=t.target||t.srcElement,this.a=e,e=t.relatedTarget){if(an){t:{try{Xe(e.nodeName);var i=!0;break t}catch(o){}i=!1}i||(e=null)}}else"mouseover"==n?e=t.fromElement:"mouseout"==n&&(e=t.toElement);this.relatedTarget=e,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==t.clientX?t.clientX:t.pageX,this.clientY=void 0!==t.clientY?t.clientY:t.pageY,this.screenX=t.screenX||0,this.screenY=t.screenY||0),this.button=t.button,this.key=t.key||"",this.ctrlKey=t.ctrlKey,this.altKey=t.altKey,this.shiftKey=t.shiftKey,this.metaKey=t.metaKey,this.pointerId=t.pointerId||0,this.pointerType="string"==typeof t.pointerType?t.pointerType:_n[t.pointerType]||"",this.c=t,t.defaultPrevented&&this.b()}}yn.prototype.b=function(){this.defaultPrevented=!0},Re(wn,yn);var _n={2:"touch",3:"pen",4:"mouse"};wn.prototype.b=function(){wn.X.b.call(this);var t=this.c;if(t.preventDefault)t.preventDefault();else if(t.returnValue=!1,mn)try{(t.ctrlKey||112<=t.keyCode&&123>=t.keyCode)&&(t.keyCode=-1)}catch(e){}};var On="closure_listenable_"+(1e6*Math.random()|0),Sn=0;function Cn(t,e,n,r,i){this.listener=t,this.proxy=null,this.src=e,this.type=n,this.capture=!!r,this.ca=i,this.key=++Sn,this.Y=this.Z=!1}function En(t){t.Y=!0,t.listener=null,t.proxy=null,t.src=null,t.ca=null}function Tn(t){this.src=t,this.a={},this.b=0}function In(t,e){var n=e.type;if(n in t.a){var r,i=t.a[n],o=Le(i,e);(r=0<=o)&&Array.prototype.splice.call(i,o,1),r&&(En(e),0==t.a[n].length&&(delete t.a[n],t.b--))}}function xn(t,e,n,r){for(var i=0;i<t.length;++i){var o=t[i];if(!o.Y&&o.listener==e&&o.capture==!!n&&o.ca==r)return i}return-1}Tn.prototype.add=function(t,e,n,r,i){var o=t.toString();(t=this.a[o])||(t=this.a[o]=[],this.b++);var s=xn(t,e,r,i);return-1<s?(e=t[s],n||(e.Z=!1)):((e=new Cn(e,this.src,o,!!r,i)).Z=n,t.push(e)),e};var An="closure_lm_"+(1e6*Math.random()|0),kn={};function jn(t,e,n,r,i){if(r&&r.once)return Pn(t,e,n,r,i);if(Array.isArray(e)){for(var o=0;o<e.length;o++)jn(t,e[o],n,r,i);return null}return n=qn(n),t&&t[On]?t.va(e,n,xe(r)?!!r.capture:!!r,i):Nn(t,e,n,!1,r,i)}function Nn(t,e,n,r,i,o){if(!e)throw Error("Invalid event type");var s=xe(i)?!!i.capture:!!i;if(s&&!bn)return null;var a=Fn(t);if(a||(t[An]=a=new Tn(t)),(n=a.add(e,n,r,s,o)).proxy)return n;if(r=function(){var t=Ln,e=bn?function(n){return t.call(e.src,e.listener,n)}:function(n){if(!(n=t.call(e.src,e.listener,n)))return n};return e}(),n.proxy=r,r.src=t,r.listener=n,t.addEventListener)vn||(i=s),void 0===i&&(i=!1),t.addEventListener(e.toString(),r,i);else if(t.attachEvent)t.attachEvent(Rn(e.toString()),r);else{if(!t.addListener||!t.removeListener)throw Error("addEventListener and attachEvent are unavailable.");t.addListener(r)}return n}function Pn(t,e,n,r,i){if(Array.isArray(e)){for(var o=0;o<e.length;o++)Pn(t,e[o],n,r,i);return null}return n=qn(n),t&&t[On]?t.wa(e,n,xe(r)?!!r.capture:!!r,i):Nn(t,e,n,!0,r,i)}function Dn(t,e,n,r,i){if(Array.isArray(e))for(var o=0;o<e.length;o++)Dn(t,e[o],n,r,i);else r=xe(r)?!!r.capture:!!r,n=qn(n),t&&t[On]?(t=t.c,(e=String(e).toString())in t.a&&-1<(n=xn(o=t.a[e],n,r,i))&&(En(o[n]),Array.prototype.splice.call(o,n,1),0==o.length&&(delete t.a[e],t.b--))):t&&(t=Fn(t))&&(e=t.a[e.toString()],t=-1,e&&(t=xn(e,n,r,i)),(n=-1<t?e[t]:null)&&Mn(n))}function Mn(t){if("number"!=typeof t&&t&&!t.Y){var e=t.src;if(e&&e[On])In(e.c,t);else{var n=t.type,r=t.proxy;e.removeEventListener?e.removeEventListener(n,r,t.capture):e.detachEvent?e.detachEvent(Rn(n),r):e.addListener&&e.removeListener&&e.removeListener(r),(n=Fn(e))?(In(n,t),0==n.b&&(n.src=null,e[An]=null)):En(t)}}}function Rn(t){return t in kn?kn[t]:kn[t]="on"+t}function Vn(t,e){var n=t.listener,r=t.ca||t.src;return t.Z&&Mn(t),n.call(r,e)}function Ln(t,e){if(t.Y)return!0;if(!bn){if(!e)t:{e=["window","event"];for(var n=Ee,r=0;r<e.length;r++)if(null==(n=n[e[r]])){e=null;break t}e=n}return Vn(t,e=new wn(e,this))}return Vn(t,new wn(e,this))}function Fn(t){return(t=t[An])instanceof Tn?t:null}var Un="__closure_events_fn_"+(1e9*Math.random()>>>0);function qn(t){return"function"==typeof t?t:(t[Un]||(t[Un]=function(e){return t.handleEvent(e)}),t[Un])}function Hn(){Ve.call(this),this.c=new Tn(this),this.J=this,this.C=null}function zn(t,e){var n,r=t.C;if(r)for(n=[];r;r=r.C)n.push(r);if(t=t.J,r=e.type||e,"string"==typeof e)e=new yn(e,t);else if(e instanceof yn)e.target=e.target||t;else{var i=e;Ze(e=new yn(r,t),i)}if(i=!0,n)for(var o=n.length-1;0<=o;o--){var s=e.a=n[o];i=Bn(s,r,!0,e)&&i}if(i=Bn(s=e.a=t,r,!0,e)&&i,i=Bn(s,r,!1,e)&&i,n)for(o=0;o<n.length;o++)i=Bn(s=e.a=n[o],r,!1,e)&&i}function Bn(t,e,n,r){if(!(e=t.c.a[String(e)]))return!0;e=e.concat();for(var i=!0,o=0;o<e.length;++o){var s=e[o];if(s&&!s.Y&&s.capture==n){var a=s.listener,u=s.ca||s.src;s.Z&&In(t.c,s),i=!1!==a.call(u,r)&&i}}return i&&!r.defaultPrevented}Re(Hn,Ve),Hn.prototype[On]=!0,(Oe=Hn.prototype).addEventListener=function(t,e,n,r){jn(this,t,e,n,r)},Oe.removeEventListener=function(t,e,n,r){Dn(this,t,e,n,r)},Oe.G=function(){if(Hn.X.G.call(this),this.c){var t,e=this.c;for(t in e.a){for(var n=e.a[t],r=0;r<n.length;r++)En(n[r]);delete e.a[t],e.b--}}this.C=null},Oe.va=function(t,e,n,r){return this.c.add(String(t),e,!1,n,r)},Oe.wa=function(t,e,n,r){return this.c.add(String(t),e,!0,n,r)};var Gn=Ee.JSON.stringify;function $n(){this.b=this.a=null}var Wn,Jn=new(function(){function t(t,e){this.c=t,this.f=e,this.b=0,this.a=null}return t.prototype.get=function(){var t;return 0<this.b?(this.b--,this.a=(t=this.a).next,t.next=null):t=this.c(),t},t}())(function(){return new Qn},function(t){t.reset()});function Kn(){var t=tr,e=null;return t.a&&(e=t.a,t.a=t.a.next,t.a||(t.b=null),e.next=null),e}function Qn(){this.next=this.b=this.a=null}function Yn(t){Ee.setTimeout(function(){throw t},0)}function Zn(t,e){Wn||function(){var t=Ee.Promise.resolve(void 0);Wn=function(){t.then(er)}}(),Xn||(Wn(),Xn=!0),tr.add(t,e)}$n.prototype.add=function(t,e){var n=Jn.get();n.set(t,e),this.b?this.b.next=n:this.a=n,this.b=n},Qn.prototype.set=function(t,e){this.a=t,this.b=e,this.next=null},Qn.prototype.reset=function(){this.next=this.b=this.a=null};var Xn=!1,tr=new $n;function er(){for(var t;t=Kn();){try{t.a.call(t.b)}catch(n){Yn(n)}var e=Jn;e.f(t),100>e.b&&(e.b++,t.next=e.a,e.a=t)}Xn=!1}function nr(t,e){Hn.call(this),this.b=t||1,this.a=e||Ee,this.f=Pe(this.Za,this),this.g=Me()}function rr(t){t.aa=!1,t.M&&(t.a.clearTimeout(t.M),t.M=null)}function ir(t,e,n){if("function"==typeof t)n&&(t=Pe(t,n));else{if(!t||"function"!=typeof t.handleEvent)throw Error("Invalid listener argument");t=Pe(t.handleEvent,t)}return 2147483647<Number(e)?-1:Ee.setTimeout(t,e||0)}function or(t){t.a=ir(function(){t.a=null,t.c&&(t.c=!1,or(t))},t.h);var e=t.b;t.b=null,t.g.apply(null,e)}Re(nr,Hn),(Oe=nr.prototype).aa=!1,Oe.M=null,Oe.Za=function(){if(this.aa){var t=Me()-this.g;0<t&&t<.8*this.b?this.M=this.a.setTimeout(this.f,this.b-t):(this.M&&(this.a.clearTimeout(this.M),this.M=null),zn(this,"tick"),this.aa&&(rr(this),this.start()))}},Oe.start=function(){this.aa=!0,this.M||(this.M=this.a.setTimeout(this.f,this.b),this.g=Me())},Oe.G=function(){nr.X.G.call(this),rr(this),delete this.a};var sr=function(t){function e(e,n){var r=t.call(this)||this;return r.g=e,r.h=n,r.b=null,r.c=!1,r.a=null,r}return function(t,e){function n(){this.constructor=t}we(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}(e,t),e.prototype.f=function(t){this.b=arguments,this.a?this.c=!0:or(this)},e.prototype.G=function(){t.prototype.G.call(this),this.a&&(Ee.clearTimeout(this.a),this.a=null,this.c=!1,this.b=null)},e}(Ve);function ar(t){Ve.call(this),this.b=t,this.a={}}Re(ar,Ve);var ur=[];function cr(t,e,n,r){Array.isArray(n)||(n&&(ur[0]=n.toString()),n=ur);for(var i=0;i<n.length;i++){var o=jn(e,n[i],r||t.handleEvent,!1,t.b||t);if(!o)break;t.a[o.key]=o}}function lr(t){Ke(t.a,function(t,e){this.a.hasOwnProperty(e)&&Mn(t)},t),t.a={}}function hr(){this.a=!0}function fr(t,e,n,r){t.info(function(){return"XMLHTTP TEXT ("+e+"): "+function(t,e){if(!t.a)return e;if(!e)return null;try{var n=JSON.parse(e);if(n)for(t=0;t<n.length;t++)if(Array.isArray(n[t])){var r=n[t];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var o=i[0];if("noop"!=o&&"stop"!=o&&"close"!=o)for(var s=1;s<i.length;s++)i[s]=""}}}return Gn(n)}catch(a){return e}}(t,n)+(r?" "+r:"")})}ar.prototype.G=function(){ar.X.G.call(this),lr(this)},ar.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},hr.prototype.info=function(){};var dr={},pr=null;function gr(){return pr=pr||new Hn}function br(t){yn.call(this,dr.Fa,t)}function mr(t){var e=gr();zn(e,new br(e,t))}function vr(t,e){yn.call(this,dr.STAT_EVENT,t),this.stat=e}function yr(t){var e=gr();zn(e,new vr(e,t))}function wr(t){yn.call(this,dr.Ga,t)}function _r(t,e){if("function"!=typeof t)throw Error("Fn must not be null and must be a function");return Ee.setTimeout(function(){t()},e)}dr.Fa="serverreachability",Re(br,yn),dr.STAT_EVENT="statevent",Re(vr,yn),dr.Ga="timingevent",Re(wr,yn);var Or={NO_ERROR:0,$a:1,nb:2,mb:3,hb:4,lb:5,ob:6,Da:7,TIMEOUT:8,rb:9},Sr={fb:"complete",Bb:"success",Ea:"error",Da:"abort",tb:"ready",ub:"readystatechange",TIMEOUT:"timeout",pb:"incrementaldata",sb:"progress",ib:"downloadprogress",Jb:"uploadprogress"};function Cr(){}function Er(){}Cr.prototype.a=null;var Tr,Ir={OPEN:"a",eb:"b",Ea:"c",qb:"d"};function xr(){yn.call(this,"d")}function Ar(){yn.call(this,"c")}function kr(){}function jr(t,e,n,r){this.g=t,this.c=e,this.f=n,this.S=r||1,this.J=new ar(this),this.P=Nr,this.R=new nr(t=sn?125:void 0),this.B=null,this.b=!1,this.j=this.l=this.i=this.H=this.u=this.T=this.o=null,this.s=[],this.a=null,this.D=0,this.h=this.m=null,this.N=-1,this.A=!1,this.O=0,this.F=null,this.V=this.C=this.U=this.I=!1}Re(xr,yn),Re(Ar,yn),Re(kr,Cr),Tr=new kr;var Nr=45e3,Pr={},Dr={};function Mr(t,e,n){t.H=1,t.i=ri(Yr(e)),t.j=n,t.I=!0,Rr(t,null)}function Rr(t,e){t.u=Me(),Fr(t),t.l=Yr(t.i);var n=t.l,r=t.S;Array.isArray(r)||(r=[String(r)]),bi(n.b,"t",r),t.D=0,t.a=lo(t.g,t.g.C?e:null),0<t.O&&(t.F=new sr(Pe(t.Ca,t,t.a),t.O)),cr(t.J,t.a,"readystatechange",t.Xa),e=t.B?Qe(t.B):{},t.j?(t.m||(t.m="POST"),e["Content-Type"]="application/x-www-form-urlencoded",t.a.ba(t.l,t.m,t.j,e)):(t.m="GET",t.a.ba(t.l,t.m,null,e)),mr(1),function(t,e,n,r,i,o){t.info(function(){if(t.a)if(o)for(var s="",a=o.split("&"),u=0;u<a.length;u++){var c=a[u].split("=");if(1<c.length){var l=c[0];c=c[1];var h=l.split("_");s=2<=h.length&&"type"==h[1]?s+(l+"=")+c+"&":s+(l+"=redacted&")}}else s=null;else s=o;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+e+"\n"+n+"\n"+s})}(t.c,t.m,t.l,t.f,t.S,t.j)}function Vr(t,e,n){for(var r=!0;!t.A&&t.D<n.length;){var i=Lr(t,n);if(i==Dr){4==e&&(t.h=4,yr(14),r=!1),fr(t.c,t.f,null,"[Incomplete Response]");break}if(i==Pr){t.h=4,yr(15),fr(t.c,t.f,n,"[Invalid Chunk]"),r=!1;break}fr(t.c,t.f,i,null),Br(t,i)}4==e&&0==n.length&&(t.h=1,yr(16),r=!1),t.b=t.b&&r,r?0<n.length&&!t.V&&(t.V=!0,(e=t.g).a==t&&e.U&&!e.F&&(e.c.info("Great, no buffering proxy detected. Bytes received: "+n.length),no(e),e.F=!0,yr(11))):(fr(t.c,t.f,n,"[Invalid Chunked Response]"),zr(t),Hr(t))}function Lr(t,e){var n=t.D,r=e.indexOf("\n",n);return-1==r?Dr:(n=Number(e.substring(n,r)),isNaN(n)?Pr:(r+=1)+n>e.length?Dr:(e=e.substr(r,n),t.D=r+n,e))}function Fr(t){t.T=Me()+t.P,Ur(t,t.P)}function Ur(t,e){if(null!=t.o)throw Error("WatchDog timer not null");t.o=_r(Pe(t.Va,t),e)}function qr(t){t.o&&(Ee.clearTimeout(t.o),t.o=null)}function Hr(t){0==t.g.v||t.A||oo(t.g,t)}function zr(t){qr(t);var e=t.F;e&&"function"==typeof e.ja&&e.ja(),t.F=null,rr(t.R),lr(t.J),t.a&&(e=t.a,t.a=null,e.abort(),e.ja())}function Br(t,e){try{var n=t.g;if(0!=n.v&&(n.a==t||Si(n.b,t)))if(n.I=t.N,!t.C&&Si(n.b,t)&&3==n.v){try{var r=n.ka.a.parse(e)}catch(Qp){r=null}if(Array.isArray(r)&&3==r.length){var i=r;if(0==i[0]){t:if(!n.j){if(n.a){if(!(n.a.u+3e3<t.u))break t;io(n),Wi(n)}eo(n),yr(18)}}else n.oa=i[1],0<n.oa-n.P&&37500>i[2]&&n.H&&0==n.o&&!n.m&&(n.m=_r(Pe(n.Sa,n),6e3));if(1>=Oi(n.b)&&n.ea){try{n.ea()}catch(Qp){}n.ea=void 0}}else ao(n,11)}else if((t.C||n.a==t)&&io(n),!He(e))for(e=r=n.ka.a.parse(e),r=0;r<e.length;r++)if(n.P=(i=e[r])[0],i=i[1],2==n.v)if("c"==i[0]){n.J=i[1],n.ga=i[2];var o=i[3];null!=o&&(n.ha=o,n.c.info("VER="+n.ha));var s=i[4];null!=s&&(n.pa=s,n.c.info("SVER="+n.pa));var a=i[5];if(null!=a&&"number"==typeof a&&0<a){var u=1.5*a;n.D=u,n.c.info("backChannelRequestTimeoutMs_="+u)}u=n;var c=t.a;if(c){var l=c.a?c.a.getResponseHeader("X-Client-Wire-Protocol"):null;if(l){var h=u.b;!h.a&&(Ge(l,"spdy")||Ge(l,"quic")||Ge(l,"h2"))&&(h.f=h.g,h.a=new Set,h.b&&(Ci(h,h.b),h.b=null))}if(u.A){var f=c.a?c.a.getResponseHeader("X-HTTP-Session-Id"):null;f&&(u.na=f,ni(u.B,u.A,f))}}n.v=3,n.f&&n.f.ta(),n.U&&(n.N=Me()-t.u,n.c.info("Handshake RTT: "+n.N+"ms"));var d=t;if((u=n).la=co(u,u.C?u.ga:null,u.fa),d.C){Ei(u.b,d);var p=d,g=u.D;g&&p.setTimeout(g),p.o&&(qr(p),Fr(p)),u.a=d}else to(u);0<n.g.length&&Qi(n)}else"stop"!=i[0]&&"close"!=i[0]||ao(n,7);else 3==n.v&&("stop"==i[0]||"close"==i[0]?"stop"==i[0]?ao(n,7):$i(n):"noop"!=i[0]&&n.f&&n.f.sa(i),n.o=0);mr(4)}catch(Qp){}}function Gr(t,e){if(t.forEach&&"function"==typeof t.forEach)t.forEach(e,void 0);else if(Ie(t)||"string"==typeof t)Fe(t,e,void 0);else{if(t.L&&"function"==typeof t.L)var n=t.L();else if(t.K&&"function"==typeof t.K)n=void 0;else if(Ie(t)||"string"==typeof t){n=[];for(var r=t.length,i=0;i<r;i++)n.push(i)}else for(i in n=[],r=0,t)n[r++]=i;i=(r=function(t){if(t.K&&"function"==typeof t.K)return t.K();if("string"==typeof t)return t.split("");if(Ie(t)){for(var e=[],n=t.length,r=0;r<n;r++)e.push(t[r]);return e}for(r in e=[],n=0,t)e[n++]=t[r];return e}(t)).length;for(var o=0;o<i;o++)e.call(void 0,r[o],n&&n[o],t)}}function $r(t,e){this.b={},this.a=[],this.c=0;var n=arguments.length;if(1<n){if(n%2)throw Error("Uneven number of arguments");for(var r=0;r<n;r+=2)this.set(arguments[r],arguments[r+1])}else if(t)if(t instanceof $r)for(n=t.L(),r=0;r<n.length;r++)this.set(n[r],t.get(n[r]));else for(r in t)this.set(r,t[r])}function Wr(t){if(t.c!=t.a.length){for(var e=0,n=0;e<t.a.length;){var r=t.a[e];Jr(t.b,r)&&(t.a[n++]=r),e++}t.a.length=n}if(t.c!=t.a.length){var i={};for(n=e=0;e<t.a.length;)Jr(i,r=t.a[e])||(t.a[n++]=r,i[r]=1),e++;t.a.length=n}}function Jr(t,e){return Object.prototype.hasOwnProperty.call(t,e)}(Oe=jr.prototype).setTimeout=function(t){this.P=t},Oe.Xa=function(t){t=t.target;var e=this.F;e&&3==Hi(t)?e.f():this.Ca(t)},Oe.Ca=function(t){try{if(t==this.a)t:{var e=Hi(this.a),n=this.a.ua(),r=this.a.W();if(!(3>e||3==e&&!sn&&!this.a.$())){this.A||4!=e||7==n||mr(8==n||0>=r?3:2),qr(this);var i=this.a.W();this.N=i;var o=this.a.$();if(this.b=200==i,function(t,e,n,r,i,o,s){t.info(function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+e+"\n"+n+"\n"+o+" "+s})}(this.c,this.m,this.l,this.f,this.S,e,i),this.b){if(this.U&&!this.C){e:{if(this.a){var s,a=this.a;if((s=a.a?a.a.getResponseHeader("X-HTTP-Initial-Response"):null)&&!He(s)){var u=s;break e}}u=null}if(!u){this.b=!1,this.h=3,yr(12),zr(this),Hr(this);break t}fr(this.c,this.f,u,"Initial handshake response via X-HTTP-Initial-Response"),this.C=!0,Br(this,u)}this.I?(Vr(this,e,o),sn&&this.b&&3==e&&(cr(this.J,this.R,"tick",this.Wa),this.R.start())):(fr(this.c,this.f,o,null),Br(this,o)),4==e&&zr(this),this.b&&!this.A&&(4==e?oo(this.g,this):(this.b=!1,Fr(this)))}else 400==i&&0<o.indexOf("Unknown SID")?(this.h=3,yr(12)):(this.h=0,yr(13)),zr(this),Hr(this)}}}catch(c){}},Oe.Wa=function(){if(this.a){var t=Hi(this.a),e=this.a.$();this.D<e.length&&(qr(this),Vr(this,t,e),this.b&&4!=t&&Fr(this))}},Oe.cancel=function(){this.A=!0,zr(this)},Oe.Va=function(){this.o=null;var t=Me();0<=t-this.T?(function(t,e){t.info(function(){return"TIMEOUT: "+e})}(this.c,this.l),2!=this.H&&(mr(3),yr(17)),zr(this),this.h=2,Hr(this)):Ur(this,this.T-t)},(Oe=$r.prototype).K=function(){Wr(this);for(var t=[],e=0;e<this.a.length;e++)t.push(this.b[this.a[e]]);return t},Oe.L=function(){return Wr(this),this.a.concat()},Oe.get=function(t,e){return Jr(this.b,t)?this.b[t]:e},Oe.set=function(t,e){Jr(this.b,t)||(this.c++,this.a.push(t)),this.b[t]=e},Oe.forEach=function(t,e){for(var n=this.L(),r=0;r<n.length;r++){var i=n[r],o=this.get(i);t.call(e,o,i,this)}};var Kr=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^\\/?#]*)@)?([^\\/?#]*?)(?::([0-9]+))?(?=[\\/?#]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function Qr(t,e){if(this.c=this.j=this.f="",this.h=null,this.i=this.g="",this.a=!1,t instanceof Qr){this.a=void 0!==e?e:t.a,Zr(this,t.f),this.j=t.j,Xr(this,t.c),ti(this,t.h),this.g=t.g,e=t.b;var n=new fi;n.c=e.c,e.a&&(n.a=new $r(e.a),n.b=e.b),ei(this,n),this.i=t.i}else t&&(n=String(t).match(Kr))?(this.a=!!e,Zr(this,n[1]||"",!0),this.j=ii(n[2]||""),Xr(this,n[3]||"",!0),ti(this,n[4]),this.g=ii(n[5]||"",!0),ei(this,n[6]||"",!0),this.i=ii(n[7]||"")):(this.a=!!e,this.b=new fi(null,this.a))}function Yr(t){return new Qr(t)}function Zr(t,e,n){t.f=n?ii(e,!0):e,t.f&&(t.f=t.f.replace(/:$/,""))}function Xr(t,e,n){t.c=n?ii(e,!0):e}function ti(t,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);t.h=e}else t.h=null}function ei(t,e,n){e instanceof fi?(t.b=e,function(t,e){e&&!t.f&&(di(t),t.c=null,t.a.forEach(function(t,e){var n=e.toLowerCase();e!=n&&(pi(this,e),bi(this,n,t))},t)),t.f=e}(t.b,t.a)):(n||(e=oi(e,li)),t.b=new fi(e,t.a))}function ni(t,e,n){t.b.set(e,n)}function ri(t){return ni(t,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Me()).toString(36)),t}function ii(t,e){return t?e?decodeURI(t.replace(/%25/g,"%2525")):decodeURIComponent(t):""}function oi(t,e,n){return"string"==typeof t?(t=encodeURI(t).replace(e,si),n&&(t=t.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),t):null}function si(t){return"%"+((t=t.charCodeAt(0))>>4&15).toString(16)+(15&t).toString(16)}Qr.prototype.toString=function(){var t=[],e=this.f;e&&t.push(oi(e,ai,!0),":");var n=this.c;return(n||"file"==e)&&(t.push("//"),(e=this.j)&&t.push(oi(e,ai,!0),"@"),t.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.h)&&t.push(":",String(n))),(n=this.g)&&(this.c&&"/"!=n.charAt(0)&&t.push("/"),t.push(oi(n,"/"==n.charAt(0)?ci:ui,!0))),(n=this.b.toString())&&t.push("?",n),(n=this.i)&&t.push("#",oi(n,hi)),t.join("")};var ai=/[#\/\?@]/g,ui=/[#\?:]/g,ci=/[#\?]/g,li=/[#\?@]/g,hi=/#/g;function fi(t,e){this.b=this.a=null,this.c=t||null,this.f=!!e}function di(t){t.a||(t.a=new $r,t.b=0,t.c&&function(t,e){if(t){t=t.split("&");for(var n=0;n<t.length;n++){var r=t[n].indexOf("="),i=null;if(0<=r){var o=t[n].substring(0,r);i=t[n].substring(r+1)}else o=t[n];e(o,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(t.c,function(e,n){t.add(decodeURIComponent(e.replace(/\+/g," ")),n)}))}function pi(t,e){di(t),e=mi(t,e),Jr(t.a.b,e)&&(t.c=null,t.b-=t.a.get(e).length,Jr((t=t.a).b,e)&&(delete t.b[e],t.c--,t.a.length>2*t.c&&Wr(t)))}function gi(t,e){return di(t),e=mi(t,e),Jr(t.a.b,e)}function bi(t,e,n){pi(t,e),0<n.length&&(t.c=null,t.a.set(mi(t,e),qe(n)),t.b+=n.length)}function mi(t,e){return e=String(e),t.f&&(e=e.toLowerCase()),e}(Oe=fi.prototype).add=function(t,e){di(this),this.c=null,t=mi(this,t);var n=this.a.get(t);return n||this.a.set(t,n=[]),n.push(e),this.b+=1,this},Oe.forEach=function(t,e){di(this),this.a.forEach(function(n,r){Fe(n,function(n){t.call(e,n,r,this)},this)},this)},Oe.L=function(){di(this);for(var t=this.a.K(),e=this.a.L(),n=[],r=0;r<e.length;r++)for(var i=t[r],o=0;o<i.length;o++)n.push(e[r]);return n},Oe.K=function(t){di(this);var e=[];if("string"==typeof t)gi(this,t)&&(e=Ue(e,this.a.get(mi(this,t))));else{t=this.a.K();for(var n=0;n<t.length;n++)e=Ue(e,t[n])}return e},Oe.set=function(t,e){return di(this),this.c=null,gi(this,t=mi(this,t))&&(this.b-=this.a.get(t).length),this.a.set(t,[e]),this.b+=1,this},Oe.get=function(t,e){return t&&0<(t=this.K(t)).length?String(t[0]):e},Oe.toString=function(){if(this.c)return this.c;if(!this.a)return"";for(var t=[],e=this.a.L(),n=0;n<e.length;n++){var r=e[n],i=encodeURIComponent(String(r));r=this.K(r);for(var o=0;o<r.length;o++){var s=i;""!==r[o]&&(s+="="+encodeURIComponent(String(r[o]))),t.push(s)}}return this.c=t.join("&")};var vi=function(){return function(t,e){this.b=t,this.a=e}}();function yi(t){this.g=t||wi,t=Ee.PerformanceNavigationTiming?0<(t=Ee.performance.getEntriesByType("navigation")).length&&("hq"==t[0].nextHopProtocol||"h2"==t[0].nextHopProtocol):!!(Ee.ia&&Ee.ia.ya&&Ee.ia.ya()&&Ee.ia.ya().Lb),this.f=t?this.g:1,this.a=null,1<this.f&&(this.a=new Set),this.b=null,this.c=[]}var wi=10;function _i(t){return!!t.b||!!t.a&&t.a.size>=t.f}function Oi(t){return t.b?1:t.a?t.a.size:0}function Si(t,e){return t.b?t.b==e:!!t.a&&t.a.has(e)}function Ci(t,e){t.a?t.a.add(e):t.b=e}function Ei(t,e){t.b&&t.b==e?t.b=null:t.a&&t.a.has(e)&&t.a.delete(e)}function Ti(t){var e,n;if(null!=t.b)return t.c.concat(t.b.s);if(null!=t.a&&0!==t.a.size){var r=t.c;try{for(var i=_e(t.a.values()),o=i.next();!o.done;o=i.next())r=r.concat(o.value.s)}catch(s){e={error:s}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(e)throw e.error}}return r}return qe(t.c)}function Ii(){}function xi(){this.a=new Ii}function Ai(t,e,n){var r=n||"";try{Gr(t,function(t,n){var i=t;xe(t)&&(i=Gn(t)),e.push(r+n+"="+encodeURIComponent(i))})}catch(Vg){throw e.push(r+"type="+encodeURIComponent("_badmap")),Vg}}function ki(t,e,n,r,i){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,i(r)}catch(o){}}yi.prototype.cancel=function(){var t,e;if(this.c=Ti(this),this.b)this.b.cancel(),this.b=null;else if(this.a&&0!==this.a.size){try{for(var n=_e(this.a.values()),r=n.next();!r.done;r=n.next())r.value.cancel()}catch(i){t={error:i}}finally{try{r&&!r.done&&(e=n.return)&&e.call(n)}finally{if(t)throw t.error}}this.a.clear()}},Ii.prototype.stringify=function(t){return Ee.JSON.stringify(t,void 0)},Ii.prototype.parse=function(t){return Ee.JSON.parse(t,void 0)};var ji=Ee.JSON.parse;function Ni(t){Hn.call(this),this.headers=new $r,this.H=t||null,this.b=!1,this.s=this.a=null,this.B="",this.h=0,this.f="",this.g=this.A=this.l=this.u=!1,this.o=0,this.m=null,this.I=Pi,this.D=this.F=!1}Re(Ni,Hn);var Pi="",Di=/^https?$/i,Mi=["POST","PUT"];function Ri(t){return"content-type"==t.toLowerCase()}function Vi(t,e){t.b=!1,t.a&&(t.g=!0,t.a.abort(),t.g=!1),t.f=e,t.h=5,Li(t),Ui(t)}function Li(t){t.u||(t.u=!0,zn(t,"complete"),zn(t,"error"))}function Fi(t){if(t.b&&void 0!==Ce&&(!t.s[1]||4!=Hi(t)||2!=t.W()))if(t.l&&4==Hi(t))ir(t.za,0,t);else if(zn(t,"readystatechange"),4==Hi(t)){t.b=!1;try{var e,n=t.W();t:switch(n){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var r=!0;break t;default:r=!1}if(!(e=r)){var i;if(i=0===n){var o=String(t.B).match(Kr)[1]||null;if(!o&&Ee.self&&Ee.self.location){var s=Ee.self.location.protocol;o=s.substr(0,s.length-1)}i=!Di.test(o?o.toLowerCase():"")}e=i}if(e)zn(t,"complete"),zn(t,"success");else{t.h=6;try{var a=2<Hi(t)?t.a.statusText:""}catch(n){a=""}t.f=a+" ["+t.W()+"]",Li(t)}}finally{Ui(t)}}}function Ui(t,e){if(t.a){qi(t);var n=t.a,r=t.s[0]?Te:null;t.a=null,t.s=null,e||zn(t,"ready");try{n.onreadystatechange=r}catch(Vg){}}}function qi(t){t.a&&t.D&&(t.a.ontimeout=null),t.m&&(Ee.clearTimeout(t.m),t.m=null)}function Hi(t){return t.a?t.a.readyState:0}function zi(t,e,n){t:{for(r in n){var r=!1;break t}r=!0}r||(n=function(t){var e="";return Ke(t,function(t,n){e+=n,e+=":",e+=t,e+="\r\n"}),e}(n),"string"==typeof t?null!=n&&encodeURIComponent(String(n)):ni(t,e,n))}function Bi(t,e,n){return n&&n.internalChannelParams&&n.internalChannelParams[t]||e}function Gi(t){this.pa=0,this.g=[],this.c=new hr,this.ga=this.la=this.B=this.fa=this.a=this.na=this.A=this.V=this.i=this.O=this.l=null,this.Oa=this.R=0,this.La=Bi("failFast",!1,t),this.H=this.m=this.j=this.h=this.f=null,this.S=!0,this.I=this.oa=this.P=-1,this.T=this.o=this.u=0,this.Ha=Bi("baseRetryDelayMs",5e3,t),this.Ra=Bi("retryDelaySeedMs",1e4,t),this.Ma=Bi("forwardChannelMaxRetries",2,t),this.ma=Bi("forwardChannelRequestTimeoutMs",2e4,t),this.Na=t&&t.g||void 0,this.D=void 0,this.C=t&&t.supportsCrossDomainXhr||!1,this.J="",this.b=new yi(t&&t.concurrentRequestLimit),this.ka=new xi,this.da=t&&t.fastHandshake||!1,this.Ia=t&&t.b||!1,t&&t.f&&(this.c.a=!1),t&&t.forceLongPolling&&(this.S=!1),this.U=!this.da&&this.S&&t&&t.detectBufferingProxy||!1,this.ea=void 0,this.N=0,this.F=!1,this.s=null,(this.Ka=t&&t.c||!1)&&this.c.info("Opt-in to enable Chrome Origin Trials.")}function $i(t){if(Ji(t),3==t.v){var e=t.R++,n=Yr(t.B);ni(n,"SID",t.J),ni(n,"RID",e),ni(n,"TYPE","terminate"),Zi(t,n),(e=new jr(t,t.c,e,void 0)).H=2,e.i=ri(Yr(n)),n=!1,Ee.navigator&&Ee.navigator.sendBeacon&&(n=Ee.navigator.sendBeacon(e.i.toString(),"")),!n&&Ee.Image&&((new Image).src=e.i,n=!0),n||(e.a=lo(e.g,null),e.a.ba(e.i)),e.u=Me(),Fr(e)}uo(t)}function Wi(t){t.a&&(no(t),t.a.cancel(),t.a=null)}function Ji(t){Wi(t),t.j&&(Ee.clearTimeout(t.j),t.j=null),io(t),t.b.cancel(),t.h&&("number"==typeof t.h&&Ee.clearTimeout(t.h),t.h=null)}function Ki(t,e){t.g.push(new vi(t.Oa++,e)),3==t.v&&Qi(t)}function Qi(t){_i(t.b)||t.h||(t.h=!0,Zn(t.Ba,t),t.u=0)}function Yi(t,e){var n;n=e?e.f:t.R++;var r=Yr(t.B);ni(r,"SID",t.J),ni(r,"RID",n),ni(r,"AID",t.P),Zi(t,r),t.i&&t.l&&zi(r,t.i,t.l),n=new jr(t,t.c,n,t.u+1),null===t.i&&(n.B=t.l),e&&(t.g=e.s.concat(t.g)),e=Xi(t,n,1e3),n.setTimeout(Math.round(.5*t.ma)+Math.round(.5*t.ma*Math.random())),Ci(t.b,n),Mr(n,r,e)}function Zi(t,e){t.f&&Gr({},function(t,n){ni(e,n,t)})}function Xi(t,e,n){n=Math.min(t.g.length,n);var r=t.f?Pe(t.f.Ja,t.f,t):null;t:for(var i=t.g,o=-1;;){var s=["count="+n];-1==o?0<n?s.push("ofs="+(o=i[0].b)):o=0:s.push("ofs="+o);for(var a=!0,u=0;u<n;u++){var c=i[u].b,l=i[u].a;if(0>(c-=o))o=Math.max(0,i[u].b-100),a=!1;else try{Ai(l,s,"req"+c+"_")}catch(Wo){r&&r(l)}}if(a){r=s.join("&");break t}}return t=t.g.splice(0,n),e.s=t,r}function to(t){t.a||t.j||(t.T=1,Zn(t.Aa,t),t.o=0)}function eo(t){return!(t.a||t.j||3<=t.o||(t.T++,t.j=_r(Pe(t.Aa,t),so(t,t.o)),t.o++,0))}function no(t){null!=t.s&&(Ee.clearTimeout(t.s),t.s=null)}function ro(t){t.a=new jr(t,t.c,"rpc",t.T),null===t.i&&(t.a.B=t.l),t.a.O=0;var e=Yr(t.la);ni(e,"RID","rpc"),ni(e,"SID",t.J),ni(e,"CI",t.H?"0":"1"),ni(e,"AID",t.P),Zi(t,e),ni(e,"TYPE","xmlhttp"),t.i&&t.l&&zi(e,t.i,t.l),t.D&&t.a.setTimeout(t.D);var n=t.a;t=t.ga,n.H=1,n.i=ri(Yr(e)),n.j=null,n.I=!0,Rr(n,t)}function io(t){null!=t.m&&(Ee.clearTimeout(t.m),t.m=null)}function oo(t,e){var n=null;if(t.a==e){io(t),no(t),t.a=null;var r=2}else{if(!Si(t.b,e))return;n=e.s,Ei(t.b,e),r=1}if(t.I=e.N,0!=t.v)if(e.b)if(1==r){n=e.j?e.j.length:0,e=Me()-e.u;var i=t.u;zn(r=gr(),new wr(r,n,e,i)),Qi(t)}else to(t);else if(3==(i=e.h)||0==i&&0<t.I||!(1==r&&function(t,e){return!(Oi(t.b)>=t.b.f-(t.h?1:0)||(t.h?(t.g=e.s.concat(t.g),0):1==t.v||2==t.v||t.u>=(t.La?0:t.Ma)||(t.h=_r(Pe(t.Ba,t,e),so(t,t.u)),t.u++,0)))}(t,e)||2==r&&eo(t)))switch(n&&0<n.length&&(e=t.b,e.c=e.c.concat(n)),i){case 1:ao(t,5);break;case 4:ao(t,10);break;case 3:ao(t,6);break;default:ao(t,2)}}function so(t,e){var n=t.Ha+Math.floor(Math.random()*t.Ra);return t.f||(n*=2),n*e}function ao(t,e){if(t.c.info("Error code "+e),2==e){var n=null;t.f&&(n=null);var r=Pe(t.Ya,t);n||(n=new Qr("//www.google.com/images/cleardot.gif"),Ee.location&&"http"==Ee.location.protocol||Zr(n,"https"),ri(n)),function(t,e){var n=new hr;if(Ee.Image){var r=new Image;r.onload=De(ki,n,r,"TestLoadImage: loaded",!0,e),r.onerror=De(ki,n,r,"TestLoadImage: error",!1,e),r.onabort=De(ki,n,r,"TestLoadImage: abort",!1,e),r.ontimeout=De(ki,n,r,"TestLoadImage: timeout",!1,e),Ee.setTimeout(function(){r.ontimeout&&r.ontimeout()},1e4),r.src=t}else e(!1)}(n.toString(),r)}else yr(2);t.v=0,t.f&&t.f.ra(e),uo(t),Ji(t)}function uo(t){t.v=0,t.I=-1,t.f&&(0==Ti(t.b).length&&0==t.g.length||(t.b.c.length=0,qe(t.g),t.g.length=0),t.f.qa())}function co(t,e,n){var r=function(t){return t instanceof Qr?Yr(t):new Qr(t,void 0)}(n);if(""!=r.c)e&&Xr(r,e+"."+r.c),ti(r,r.h);else{var i=Ee.location;r=function(t,e,n,r){var i=new Qr(null,void 0);return t&&Zr(i,t),e&&Xr(i,e),n&&ti(i,n),r&&(i.g=r),i}(i.protocol,e?e+"."+i.hostname:i.hostname,+i.port,n)}return t.V&&Ke(t.V,function(t,e){ni(r,e,t)}),n=t.na,(e=t.A)&&n&&ni(r,e,n),ni(r,"VER",t.ha),Zi(t,r),r}function lo(t,e){if(e&&!t.C)throw Error("Can't create secondary domain capable XhrIo object.");return(e=new Ni(t.Na)).F=t.C,e}function ho(){}function fo(){if(rn&&!(10<=Number(gn)))throw Error("Environmental error: no available transport.")}function po(t,e){Hn.call(this),this.a=new Gi(e),this.o=t,this.b=e&&e.messageUrlParams||null,t=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(t?t["X-Client-Protocol"]="webchannel":t={"X-Client-Protocol":"webchannel"}),this.a.l=t,t=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(t?t["X-WebChannel-Content-Type"]=e.messageContentType:t={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.a&&(t?t["X-WebChannel-Client-Profile"]=e.a:t={"X-WebChannel-Client-Profile":e.a}),this.a.O=t,(t=e&&e.httpHeadersOverwriteParam)&&!He(t)&&(this.a.i=t),this.m=e&&e.supportsCrossDomainXhr||!1,this.l=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!He(e)&&(this.a.A=e,null!==(t=this.b)&&e in t&&e in(t=this.b)&&delete t[e]),this.f=new mo(this)}function go(t){xr.call(this);var e=t.__sm__;if(e){t:{for(var n in e){t=n;break t}t=void 0}(this.c=t)?(t=this.c,this.data=null!==e&&t in e?e[t]:void 0):this.data=e}else this.data=t}function bo(){Ar.call(this),this.status=1}function mo(t){this.a=t}(Oe=Ni.prototype).ba=function(t,e,n,r){if(this.a)throw Error("[goog.net.XhrIo] Object is active with another request="+this.B+"; newUri="+t);e=e?e.toUpperCase():"GET",this.B=t,this.f="",this.h=0,this.u=!1,this.b=!0,this.a=new XMLHttpRequest,this.s=function(t){var e;return(e=t.a)||(e=t.a={}),e}(this.H?this.H:Tr),this.a.onreadystatechange=Pe(this.za,this);try{this.A=!0,this.a.open(e,String(t),!0),this.A=!1}catch(o){return void Vi(this,o)}t=n||"";var i=new $r(this.headers);r&&Gr(r,function(t,e){i.set(e,t)}),r=function(t){t:{for(var e=Ri,n=t.length,r="string"==typeof t?t.split(""):t,i=0;i<n;i++)if(i in r&&e.call(void 0,r[i],i,t)){e=i;break t}e=-1}return 0>e?null:"string"==typeof t?t.charAt(e):t[e]}(i.L()),n=Ee.FormData&&t instanceof Ee.FormData,!(0<=Le(Mi,e))||r||n||i.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),i.forEach(function(t,e){this.a.setRequestHeader(e,t)},this),this.I&&(this.a.responseType=this.I),"withCredentials"in this.a&&this.a.withCredentials!==this.F&&(this.a.withCredentials=this.F);try{qi(this),0<this.o&&((this.D=function(t){return rn&&pn(9)&&"number"==typeof t.timeout&&void 0!==t.ontimeout}(this.a))?(this.a.timeout=this.o,this.a.ontimeout=Pe(this.xa,this)):this.m=ir(this.xa,this.o,this)),this.l=!0,this.a.send(t),this.l=!1}catch(o){Vi(this,o)}},Oe.xa=function(){void 0!==Ce&&this.a&&(this.f="Timed out after "+this.o+"ms, aborting",this.h=8,zn(this,"timeout"),this.abort(8))},Oe.abort=function(t){this.a&&this.b&&(this.b=!1,this.g=!0,this.a.abort(),this.g=!1,this.h=t||7,zn(this,"complete"),zn(this,"abort"),Ui(this))},Oe.G=function(){this.a&&(this.b&&(this.b=!1,this.g=!0,this.a.abort(),this.g=!1),Ui(this,!0)),Ni.X.G.call(this)},Oe.za=function(){this.j||(this.A||this.l||this.g?Fi(this):this.Ua())},Oe.Ua=function(){Fi(this)},Oe.W=function(){try{return 2<Hi(this)?this.a.status:-1}catch(en){return-1}},Oe.$=function(){try{return this.a?this.a.responseText:""}catch(en){return""}},Oe.Pa=function(t){if(this.a){var e=this.a.responseText;return t&&0==e.indexOf(t)&&(e=e.substring(t.length)),ji(e)}},Oe.ua=function(){return this.h},Oe.Qa=function(){return"string"==typeof this.f?this.f:String(this.f)},(Oe=Gi.prototype).ha=8,Oe.v=1,Oe.Ba=function(t){if(this.h)if(this.h=null,1==this.v){if(!t){this.R=Math.floor(1e5*Math.random()),t=this.R++;var e,n=new jr(this,this.c,t,void 0),r=this.l;if(this.O&&(r?Ze(r=Qe(r),this.O):r=this.O),null===this.i&&(n.B=r),this.da)t:{for(var i=e=0;i<this.g.length;i++){var o=this.g[i];if(void 0===(o="__data__"in o.a&&"string"==typeof(o=o.a.__data__)?o.length:void 0))break;if(4096<(e+=o)){e=i;break t}if(4096===e||i===this.g.length-1){e=i+1;break t}}e=1e3}else e=1e3;e=Xi(this,n,e),ni(i=Yr(this.B),"RID",t),ni(i,"CVER",22),this.A&&ni(i,"X-HTTP-Session-Id",this.A),Zi(this,i),this.i&&r&&zi(i,this.i,r),Ci(this.b,n),this.Ia&&ni(i,"TYPE","init"),this.da?(ni(i,"$req",e),ni(i,"SID","null"),n.U=!0,Mr(n,i,null)):Mr(n,i,e),this.v=2}}else 3==this.v&&(t?Yi(this,t):0==this.g.length||_i(this.b)||Yi(this))},Oe.Aa=function(){if(this.j=null,ro(this),this.U&&!(this.F||null==this.a||0>=this.N)){var t=2*this.N;this.c.info("BP detection timer enabled: "+t),this.s=_r(Pe(this.Ta,this),t)}},Oe.Ta=function(){this.s&&(this.s=null,this.c.info("BP detection timeout reached."),this.c.info("Buffering proxy detected and switch to long-polling!"),this.H=!1,this.F=!0,yr(10),Wi(this),ro(this))},Oe.Sa=function(){null!=this.m&&(this.m=null,Wi(this),eo(this),yr(19))},Oe.Ya=function(t){t?(this.c.info("Successfully pinged google.com"),yr(2)):(this.c.info("Failed to ping google.com"),yr(1))},(Oe=ho.prototype).ta=function(){},Oe.sa=function(){},Oe.ra=function(){},Oe.qa=function(){},Oe.Ja=function(){},fo.prototype.a=function(t,e){return new po(t,e)},Re(po,Hn),po.prototype.g=function(){this.a.f=this.f,this.m&&(this.a.C=!0);var t=this.a,e=this.o,n=this.b||void 0;yr(0),t.fa=e,t.V=n||{},t.H=t.S,t.B=co(t,null,t.fa),Qi(t)},po.prototype.close=function(){$i(this.a)},po.prototype.h=function(t){if("string"==typeof t){var e={};e.__data__=t,Ki(this.a,e)}else this.l?((e={}).__data__=Gn(t),Ki(this.a,e)):Ki(this.a,t)},po.prototype.G=function(){this.a.f=null,delete this.f,$i(this.a),delete this.a,po.X.G.call(this)},Re(go,xr),Re(bo,Ar),Re(mo,ho),mo.prototype.ta=function(){zn(this.a,"a")},mo.prototype.sa=function(t){zn(this.a,new go(t))},mo.prototype.ra=function(t){zn(this.a,new bo(t))},mo.prototype.qa=function(){zn(this.a,"b")},fo.prototype.createWebChannel=fo.prototype.a,po.prototype.send=po.prototype.h,po.prototype.open=po.prototype.g,po.prototype.close=po.prototype.close,Or.NO_ERROR=0,Or.TIMEOUT=8,Or.HTTP_ERROR=6,Sr.COMPLETE="complete",Er.EventType=Ir,Ir.OPEN="a",Ir.CLOSE="b",Ir.ERROR="c",Ir.MESSAGE="d",Hn.prototype.listen=Hn.prototype.va,Ni.prototype.listenOnce=Ni.prototype.wa,Ni.prototype.getLastError=Ni.prototype.Qa,Ni.prototype.getLastErrorCode=Ni.prototype.ua,Ni.prototype.getStatus=Ni.prototype.W,Ni.prototype.getResponseJson=Ni.prototype.Pa,Ni.prototype.getResponseText=Ni.prototype.$,Ni.prototype.send=Ni.prototype.ba;var vo=Or,yo=Sr,wo=dr,_o=Er,Oo=Ni,So=n("30Go"),Co=new ve.b("@firebase/firestore");function Eo(){return Co.logLevel}function To(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];if(Co.logLevel<=ve.a.DEBUG){var r=e.map(Ao);Co.debug.apply(Co,Object(So.g)(["Firestore (8.2.1): "+t],r))}}function Io(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];if(Co.logLevel<=ve.a.ERROR){var r=e.map(Ao);Co.error.apply(Co,Object(So.g)(["Firestore (8.2.1): "+t],r))}}function xo(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];if(Co.logLevel<=ve.a.WARN){var r=e.map(Ao);Co.warn.apply(Co,Object(So.g)(["Firestore (8.2.1): "+t],r))}}function Ao(t){if("string"==typeof t)return t;try{return JSON.stringify(t)}catch(Vg){return t}}function ko(t){void 0===t&&(t="Unexpected state");var e="FIRESTORE (8.2.1) INTERNAL ASSERTION FAILED: "+t;throw Io(e),new Error(e)}function jo(t,e){t||ko()}function No(t,e){return t}function Po(t){var e="undefined"!=typeof self&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&"function"==typeof e.getRandomValues)e.getRandomValues(n);else for(var r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}var Do=function(){function t(){}return t.t=function(){for(var t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",e=Math.floor(256/t.length)*t.length,n="";n.length<20;)for(var r=Po(40),i=0;i<r.length;++i)n.length<20&&r[i]<e&&(n+=t.charAt(r[i]%t.length));return n},t}();function Mo(t,e){return t<e?-1:t>e?1:0}function Ro(t,e,n){return t.length===e.length&&t.every(function(t,r){return n(t,e[r])})}function Vo(t){return t+"\0"}var Lo=function(){function t(t){this.i=t}return t.fromBase64String=function(e){return new t(atob(e))},t.fromUint8Array=function(e){return new t(function(t){for(var e="",n=0;n<t.length;++n)e+=String.fromCharCode(t[n]);return e}(e))},t.prototype.toBase64=function(){return btoa(this.i)},t.prototype.toUint8Array=function(){return function(t){for(var e=new Uint8Array(t.length),n=0;n<t.length;n++)e[n]=t.charCodeAt(n);return e}(this.i)},t.prototype.o=function(){return 2*this.i.length},t.prototype.u=function(t){return Mo(this.i,t.i)},t.prototype.isEqual=function(t){return this.i===t.i},t}();Lo.h=new Lo("");var Fo={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},Uo=function(t){function e(e,n){var r=this;return(r=t.call(this,n)||this).code=e,r.message=n,r.name="FirebaseError",r.toString=function(){return r.name+": [code="+r.code+"]: "+r.message},r}return Object(So.c)(e,t),e}(Error),qo=function(){function t(t){this.l=t}return t.fromBase64String=function(e){try{return new t(Lo.fromBase64String(e))}catch(e){throw new Uo(Fo.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+e)}},t.fromUint8Array=function(e){return new t(Lo.fromUint8Array(e))},t.prototype.toBase64=function(){return this.l.toBase64()},t.prototype.toUint8Array=function(){return this.l.toUint8Array()},t.prototype.toString=function(){return"Bytes(base64: "+this.toBase64()+")"},t.prototype.isEqual=function(t){return this.l.isEqual(t.l)},t}(),Ho=function(t){this._=t};function zo(){if("undefined"==typeof Uint8Array)throw new Uo(Fo.UNIMPLEMENTED,"Uint8Arrays are not available in this environment.")}function Bo(){if("undefined"==typeof atob)throw new Uo(Fo.UNIMPLEMENTED,"Blobs are unavailable in Firestore in this environment.")}var Go=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(So.c)(e,t),e.fromBase64String=function(t){return Bo(),new e(qo.fromBase64String(t))},e.fromUint8Array=function(t){return zo(),new e(qo.fromUint8Array(t))},e.prototype.toBase64=function(){return Bo(),this._.toBase64()},e.prototype.toUint8Array=function(){return zo(),this._.toUint8Array()},e.prototype.isEqual=function(t){return this._.isEqual(t._)},e.prototype.toString=function(){return"Blob(base64: "+this.toBase64()+")"},e}(Ho),$o=function(t,e,n,r,i,o){this.T=t,this.persistenceKey=e,this.host=n,this.ssl=r,this.forceLongPolling=i,this.I=o},Wo=function(){function t(t,e){this.projectId=t,this.database=e||"(default)"}return Object.defineProperty(t.prototype,"m",{get:function(){return"(default)"===this.database},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(e){return e instanceof t&&e.projectId===this.projectId&&e.database===this.database},t}(),Jo=function(){function t(t){this.uid=t}return t.prototype.A=function(){return null!=this.uid},t.prototype.R=function(){return this.A()?"uid:"+this.uid:"anonymous-user"},t.prototype.isEqual=function(t){return t.uid===this.uid},t}();Jo.UNAUTHENTICATED=new Jo(null),Jo.P=new Jo("google-credentials-uid"),Jo.g=new Jo("first-party-uid");var Ko=function(t,e){this.user=e,this.type="OAuth",this.V={},this.V.Authorization="Bearer "+t},Qo=function(){function t(){this.p=null}return t.prototype.getToken=function(){return Promise.resolve(null)},t.prototype.v=function(){},t.prototype.S=function(t){this.p=t,t(Jo.UNAUTHENTICATED)},t.prototype.D=function(){this.p=null},t}(),Yo=function(){function t(t){var e=this;this.C=null,this.currentUser=Jo.UNAUTHENTICATED,this.N=!1,this.F=0,this.p=null,this.forceRefresh=!1,this.C=function(){e.F++,e.currentUser=e.O(),e.N=!0,e.p&&e.p(e.currentUser)},this.F=0,this.auth=t.getImmediate({optional:!0}),this.auth?this.auth.addAuthTokenListener(this.C):(this.C(null),t.get().then(function(t){e.auth=t,e.C&&e.auth.addAuthTokenListener(e.C)},function(){}))}return t.prototype.getToken=function(){var t=this,e=this.F,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(function(n){return t.F!==e?(To("FirebaseCredentialsProvider","getToken aborted due to token change."),t.getToken()):n?(jo("string"==typeof n.accessToken),new Ko(n.accessToken,t.currentUser)):null}):Promise.resolve(null)},t.prototype.v=function(){this.forceRefresh=!0},t.prototype.S=function(t){this.p=t,this.N&&t(this.currentUser)},t.prototype.D=function(){this.auth&&this.auth.removeAuthTokenListener(this.C),this.C=null,this.p=null},t.prototype.O=function(){var t=this.auth&&this.auth.getUid();return jo(null===t||"string"==typeof t),new Jo(t)},t}(),Zo=function(){function t(t,e){this.k=t,this.M=e,this.type="FirstParty",this.user=Jo.g}return Object.defineProperty(t.prototype,"V",{get:function(){var t={"X-Goog-AuthUser":this.M},e=this.k.auth.getAuthHeaderValueForFirstParty([]);return e&&(t.Authorization=e),t},enumerable:!1,configurable:!0}),t}(),Xo=function(){function t(t,e){this.k=t,this.M=e}return t.prototype.getToken=function(){return Promise.resolve(new Zo(this.k,this.M))},t.prototype.S=function(t){t(Jo.g)},t.prototype.D=function(){},t.prototype.v=function(){},t}(),ts=function(){function t(t,e){var n=this;this.previousValue=t,e&&(e.L=function(t){return n.$(t)},this.B=function(t){return e.q(t)})}return t.prototype.$=function(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue},t.prototype.next=function(){var t=++this.previousValue;return this.B&&this.B(t),t},t}();ts.U=-1;var es=function(){function t(t,e){if(this.seconds=t,this.nanoseconds=e,e<0)throw new Uo(Fo.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+e);if(e>=1e9)throw new Uo(Fo.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+e);if(t<-62135596800)throw new Uo(Fo.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new Uo(Fo.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}return t.now=function(){return t.fromMillis(Date.now())},t.fromDate=function(e){return t.fromMillis(e.getTime())},t.fromMillis=function(e){var n=Math.floor(e/1e3);return new t(n,1e6*(e-1e3*n))},t.prototype.toDate=function(){return new Date(this.toMillis())},t.prototype.toMillis=function(){return 1e3*this.seconds+this.nanoseconds/1e6},t.prototype.K=function(t){return this.seconds===t.seconds?Mo(this.nanoseconds,t.nanoseconds):Mo(this.seconds,t.seconds)},t.prototype.isEqual=function(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds},t.prototype.toString=function(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"},t.prototype.toJSON=function(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}},t.prototype.valueOf=function(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")},t}(),ns=function(){function t(t){this.timestamp=t}return t.W=function(e){return new t(e)},t.min=function(){return new t(new es(0,0))},t.prototype.u=function(t){return this.timestamp.K(t.timestamp)},t.prototype.isEqual=function(t){return this.timestamp.isEqual(t.timestamp)},t.prototype.j=function(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3},t.prototype.toString=function(){return"SnapshotVersion("+this.timestamp.toString()+")"},t.prototype.G=function(){return this.timestamp},t}(),rs=function(){function t(t,e,n){void 0===e?e=0:e>t.length&&ko(),void 0===n?n=t.length-e:n>t.length-e&&ko(),this.segments=t,this.offset=e,this.H=n}return Object.defineProperty(t.prototype,"length",{get:function(){return this.H},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(e){return 0===t.J(this,e)},t.prototype.child=function(e){var n=this.segments.slice(this.offset,this.limit());return e instanceof t?e.forEach(function(t){n.push(t)}):n.push(e),this.Y(n)},t.prototype.limit=function(){return this.offset+this.length},t.prototype.X=function(t){return this.Y(this.segments,this.offset+(t=void 0===t?1:t),this.length-t)},t.prototype.Z=function(){return this.Y(this.segments,this.offset,this.length-1)},t.prototype.tt=function(){return this.segments[this.offset]},t.prototype.et=function(){return this.get(this.length-1)},t.prototype.get=function(t){return this.segments[this.offset+t]},t.prototype.nt=function(){return 0===this.length},t.prototype.st=function(t){if(t.length<this.length)return!1;for(var e=0;e<this.length;e++)if(this.get(e)!==t.get(e))return!1;return!0},t.prototype.it=function(t){if(this.length+1!==t.length)return!1;for(var e=0;e<this.length;e++)if(this.get(e)!==t.get(e))return!1;return!0},t.prototype.forEach=function(t){for(var e=this.offset,n=this.limit();e<n;e++)t(this.segments[e])},t.prototype.rt=function(){return this.segments.slice(this.offset,this.limit())},t.J=function(t,e){for(var n=Math.min(t.length,e.length),r=0;r<n;r++){var i=t.get(r),o=e.get(r);if(i<o)return-1;if(i>o)return 1}return t.length<e.length?-1:t.length>e.length?1:0},t}(),is=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(So.c)(e,t),e.prototype.Y=function(t,n,r){return new e(t,n,r)},e.prototype.ot=function(){return this.rt().join("/")},e.prototype.toString=function(){return this.ot()},e.ct=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];for(var r=[],i=0,o=t;i<o.length;i++){var s=o[i];if(s.indexOf("//")>=0)throw new Uo(Fo.INVALID_ARGUMENT,"Invalid segment ("+s+"). Paths must not contain // in them.");r.push.apply(r,s.split("/").filter(function(t){return t.length>0}))}return new e(r)},e.at=function(){return new e([])},e}(rs),os=/^[_a-zA-Z][_a-zA-Z0-9]*$/,ss=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(So.c)(e,t),e.prototype.Y=function(t,n,r){return new e(t,n,r)},e.ut=function(t){return os.test(t)},e.prototype.ot=function(){return this.rt().map(function(t){return t=t.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),e.ut(t)||(t="`"+t+"`"),t}).join(".")},e.prototype.toString=function(){return this.ot()},e.prototype.ht=function(){return 1===this.length&&"__name__"===this.get(0)},e.lt=function(){return new e(["__name__"])},e._t=function(t){for(var n=[],r="",i=0,o=function(){if(0===r.length)throw new Uo(Fo.INVALID_ARGUMENT,"Invalid field path ("+t+"). Paths must not be empty, begin with '.', end with '.', or contain '..'");n.push(r),r=""},s=!1;i<t.length;){var a=t[i];if("\\"===a){if(i+1===t.length)throw new Uo(Fo.INVALID_ARGUMENT,"Path has trailing escape character: "+t);var u=t[i+1];if("\\"!==u&&"."!==u&&"`"!==u)throw new Uo(Fo.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);r+=u,i+=2}else"`"===a?(s=!s,i++):"."!==a||s?(r+=a,i++):(o(),i++)}if(o(),s)throw new Uo(Fo.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new e(n)},e.at=function(){return new e([])},e}(rs),as=function(){function t(t){this.path=t}return t.ft=function(e){return new t(is.ct(e))},t.dt=function(e){return new t(is.ct(e).X(5))},t.prototype.wt=function(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t},t.prototype.isEqual=function(t){return null!==t&&0===is.J(this.path,t.path)},t.prototype.toString=function(){return this.path.toString()},t.J=function(t,e){return is.J(t.path,e.path)},t.Et=function(t){return t.length%2==0},t.Tt=function(e){return new t(new is(e.slice()))},t}();function us(t){var e=0;for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function cs(t,e){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function ls(t){for(var e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}var hs=function(){function t(t){this.fields=t,t.sort(ss.J)}return t.prototype.It=function(t){for(var e=0,n=this.fields;e<n.length;e++)if(n[e].st(t))return!0;return!1},t.prototype.isEqual=function(t){return Ro(this.fields,t.fields,function(t,e){return t.isEqual(e)})},t}(),fs=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function ds(t){if(jo(!!t),"string"==typeof t){var e=0,n=fs.exec(t);if(jo(!!n),n[1]){var r=n[1];r=(r+"000000000").substr(0,9),e=Number(r)}var i=new Date(t);return{seconds:Math.floor(i.getTime()/1e3),nanos:e}}return{seconds:ps(t.seconds),nanos:ps(t.nanos)}}function ps(t){return"number"==typeof t?t:"string"==typeof t?Number(t):0}function gs(t){return"string"==typeof t?Lo.fromBase64String(t):Lo.fromUint8Array(t)}function bs(t){var e,n;return"server_timestamp"===(null===(n=((null===(e=null==t?void 0:t.mapValue)||void 0===e?void 0:e.fields)||{}).__type__)||void 0===n?void 0:n.stringValue)}function ms(t){var e=t.mapValue.fields.__previous_value__;return bs(e)?ms(e):e}function vs(t){var e=ds(t.mapValue.fields.__local_write_time__.timestampValue);return new es(e.seconds,e.nanos)}function ys(t){return null==t}function ws(t){return 0===t&&1/t==-1/0}function _s(t){return"number"==typeof t&&Number.isInteger(t)&&!ws(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}function Os(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?bs(t)?4:10:ko()}function Ss(t,e){var n=Os(t);if(n!==Os(e))return!1;switch(n){case 0:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return vs(t).isEqual(vs(e));case 3:return function(t,e){if("string"==typeof t.timestampValue&&"string"==typeof e.timestampValue&&t.timestampValue.length===e.timestampValue.length)return t.timestampValue===e.timestampValue;var n=ds(t.timestampValue),r=ds(e.timestampValue);return n.seconds===r.seconds&&n.nanos===r.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(t,e){return gs(t.bytesValue).isEqual(gs(e.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(t,e){return ps(t.geoPointValue.latitude)===ps(e.geoPointValue.latitude)&&ps(t.geoPointValue.longitude)===ps(e.geoPointValue.longitude)}(t,e);case 2:return function(t,e){if("integerValue"in t&&"integerValue"in e)return ps(t.integerValue)===ps(e.integerValue);if("doubleValue"in t&&"doubleValue"in e){var n=ps(t.doubleValue),r=ps(e.doubleValue);return n===r?ws(n)===ws(r):isNaN(n)&&isNaN(r)}return!1}(t,e);case 9:return Ro(t.arrayValue.values||[],e.arrayValue.values||[],Ss);case 10:return function(t,e){var n=t.mapValue.fields||{},r=e.mapValue.fields||{};if(us(n)!==us(r))return!1;for(var i in n)if(n.hasOwnProperty(i)&&(void 0===r[i]||!Ss(n[i],r[i])))return!1;return!0}(t,e);default:return ko()}}function Cs(t,e){return void 0!==(t.values||[]).find(function(t){return Ss(t,e)})}function Es(t,e){var n=Os(t),r=Os(e);if(n!==r)return Mo(n,r);switch(n){case 0:return 0;case 1:return Mo(t.booleanValue,e.booleanValue);case 2:return function(t,e){var n=ps(t.integerValue||t.doubleValue),r=ps(e.integerValue||e.doubleValue);return n<r?-1:n>r?1:n===r?0:isNaN(n)?isNaN(r)?0:-1:1}(t,e);case 3:return Ts(t.timestampValue,e.timestampValue);case 4:return Ts(vs(t),vs(e));case 5:return Mo(t.stringValue,e.stringValue);case 6:return function(t,e){var n=gs(t),r=gs(e);return n.u(r)}(t.bytesValue,e.bytesValue);case 7:return function(t,e){for(var n=t.split("/"),r=e.split("/"),i=0;i<n.length&&i<r.length;i++){var o=Mo(n[i],r[i]);if(0!==o)return o}return Mo(n.length,r.length)}(t.referenceValue,e.referenceValue);case 8:return function(t,e){var n=Mo(ps(t.latitude),ps(e.latitude));return 0!==n?n:Mo(ps(t.longitude),ps(e.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return function(t,e){for(var n=t.values||[],r=e.values||[],i=0;i<n.length&&i<r.length;++i){var o=Es(n[i],r[i]);if(o)return o}return Mo(n.length,r.length)}(t.arrayValue,e.arrayValue);case 10:return function(t,e){var n=t.fields||{},r=Object.keys(n),i=e.fields||{},o=Object.keys(i);r.sort(),o.sort();for(var s=0;s<r.length&&s<o.length;++s){var a=Mo(r[s],o[s]);if(0!==a)return a;var u=Es(n[r[s]],i[o[s]]);if(0!==u)return u}return Mo(r.length,o.length)}(t.mapValue,e.mapValue);default:throw ko()}}function Ts(t,e){if("string"==typeof t&&"string"==typeof e&&t.length===e.length)return Mo(t,e);var n=ds(t),r=ds(e),i=Mo(n.seconds,r.seconds);return 0!==i?i:Mo(n.nanos,r.nanos)}function Is(t){return xs(t)}function xs(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(t){var e=ds(t);return"time("+e.seconds+","+e.nanos+")"}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?gs(t.bytesValue).toBase64():"referenceValue"in t?as.dt(t.referenceValue).toString():"geoPointValue"in t?"geo("+(e=t.geoPointValue).latitude+","+e.longitude+")":"arrayValue"in t?function(t){for(var e="[",n=!0,r=0,i=t.values||[];r<i.length;r++)n?n=!1:e+=",",e+=xs(i[r]);return e+"]"}(t.arrayValue):"mapValue"in t?function(t){for(var e="{",n=!0,r=0,i=Object.keys(t.fields||{}).sort();r<i.length;r++){var o=i[r];n?n=!1:e+=",",e+=o+":"+xs(t.fields[o])}return e+"}"}(t.mapValue):ko();var e}function As(t,e){return{referenceValue:"projects/"+t.projectId+"/databases/"+t.database+"/documents/"+e.path.ot()}}function ks(t){return!!t&&"integerValue"in t}function js(t){return!!t&&"arrayValue"in t}function Ns(t){return!!t&&"nullValue"in t}function Ps(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function Ds(t){return!!t&&"mapValue"in t}var Ms=function(){function t(t){this.proto=t}return t.empty=function(){return new t({mapValue:{}})},t.prototype.field=function(t){if(t.nt())return this.proto;for(var e=this.proto,n=0;n<t.length-1;++n){if(!e.mapValue.fields)return null;if(!Ds(e=e.mapValue.fields[t.get(n)]))return null}return(e=(e.mapValue.fields||{})[t.et()])||null},t.prototype.isEqual=function(t){return Ss(this.proto,t.proto)},t}(),Rs=function(){function t(t){void 0===t&&(t=Ms.empty()),this.At=t,this.Rt=new Map}return t.prototype.set=function(t,e){return this.Pt(t,e),this},t.prototype.delete=function(t){return this.Pt(t,null),this},t.prototype.Pt=function(t,e){for(var n=this.Rt,r=0;r<t.length-1;++r){var i=t.get(r),o=n.get(i);o instanceof Map?n=o:o&&10===Os(o)?(o=new Map(Object.entries(o.mapValue.fields||{})),n.set(i,o),n=o):(o=new Map,n.set(i,o),n=o)}n.set(t.et(),e)},t.prototype.yt=function(){var t=this.gt(ss.at(),this.Rt);return null!=t?new Ms(t):this.At},t.prototype.gt=function(t,e){var n=this,r=!1,i=this.At.field(t),o=Ds(i)?Object.assign({},i.mapValue.fields):{};return e.forEach(function(e,i){if(e instanceof Map){var s=n.gt(t.child(i),e);null!=s&&(o[i]=s,r=!0)}else null!==e?(o[i]=e,r=!0):o.hasOwnProperty(i)&&(delete o[i],r=!0)}),r?{mapValue:{fields:o}}:null},t}();function Vs(t){var e=[];return cs(t.fields||{},function(t,n){var r=new ss([t]);if(Ds(n)){var i=Vs(n.mapValue).fields;if(0===i.length)e.push(r);else for(var o=0,s=i;o<s.length;o++)e.push(r.child(s[o]))}else e.push(r)}),new hs(e)}var Ls=function(t,e){this.key=t,this.version=e},Fs=function(t){function e(e,n,r,i){var o=this;return(o=t.call(this,e,n)||this).Vt=r,o.bt=!!i.bt,o.hasCommittedMutations=!!i.hasCommittedMutations,o}return Object(So.c)(e,t),e.prototype.field=function(t){return this.Vt.field(t)},e.prototype.data=function(){return this.Vt},e.prototype.vt=function(){return this.Vt.proto},e.prototype.isEqual=function(t){return t instanceof e&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.bt===t.bt&&this.hasCommittedMutations===t.hasCommittedMutations&&this.Vt.isEqual(t.Vt)},e.prototype.toString=function(){return"Document("+this.key+", "+this.version+", "+this.Vt.toString()+", {hasLocalMutations: "+this.bt+"}), {hasCommittedMutations: "+this.hasCommittedMutations+"})"},Object.defineProperty(e.prototype,"hasPendingWrites",{get:function(){return this.bt||this.hasCommittedMutations},enumerable:!1,configurable:!0}),e}(Ls),Us=function(t){function e(e,n,r){var i=this;return(i=t.call(this,e,n)||this).hasCommittedMutations=!(!r||!r.hasCommittedMutations),i}return Object(So.c)(e,t),e.prototype.toString=function(){return"NoDocument("+this.key+", "+this.version+")"},Object.defineProperty(e.prototype,"hasPendingWrites",{get:function(){return this.hasCommittedMutations},enumerable:!1,configurable:!0}),e.prototype.isEqual=function(t){return t instanceof e&&t.hasCommittedMutations===this.hasCommittedMutations&&t.version.isEqual(this.version)&&t.key.isEqual(this.key)},e}(Ls),qs=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(So.c)(e,t),e.prototype.toString=function(){return"UnknownDocument("+this.key+", "+this.version+")"},Object.defineProperty(e.prototype,"hasPendingWrites",{get:function(){return!0},enumerable:!1,configurable:!0}),e.prototype.isEqual=function(t){return t instanceof e&&t.version.isEqual(this.version)&&t.key.isEqual(this.key)},e}(Ls),Hs=function(t,e,n,r,i,o,s){void 0===e&&(e=null),void 0===n&&(n=[]),void 0===r&&(r=[]),void 0===i&&(i=null),void 0===o&&(o=null),void 0===s&&(s=null),this.path=t,this.collectionGroup=e,this.orderBy=n,this.filters=r,this.limit=i,this.startAt=o,this.endAt=s,this.St=null};function zs(t,e,n,r,i,o,s){return void 0===e&&(e=null),void 0===n&&(n=[]),void 0===r&&(r=[]),void 0===i&&(i=null),void 0===o&&(o=null),void 0===s&&(s=null),new Hs(t,e,n,r,i,o,s)}function Bs(t){var e=No(t);if(null===e.St){var n=e.path.ot();null!==e.collectionGroup&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(function(t){return function(t){return t.field.ot()+t.op.toString()+Is(t.value)}(t)}).join(","),n+="|ob:",n+=e.orderBy.map(function(t){return function(t){return t.field.ot()+t.dir}(t)}).join(","),ys(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=ra(e.startAt)),e.endAt&&(n+="|ub:",n+=ra(e.endAt)),e.St=n}return e.St}function Gs(t,e){if(t.limit!==e.limit)return!1;if(t.orderBy.length!==e.orderBy.length)return!1;for(var n=0;n<t.orderBy.length;n++)if(!oa(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(var r=0;r<t.filters.length;r++)if((i=t.filters[r]).op!==(o=e.filters[r]).op||!i.field.isEqual(o.field)||!Ss(i.value,o.value))return!1;var i,o;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!aa(t.startAt,e.startAt)&&aa(t.endAt,e.endAt)}function $s(t){return as.Et(t.path)&&null===t.collectionGroup&&0===t.filters.length}var Ws=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).field=e,i.op=n,i.value=r,i}return Object(So.c)(e,t),e.create=function(t,n,r){return t.ht()?"in"===n||"not-in"===n?this.Dt(t,n,r):new Js(t,n,r):"array-contains"===n?new Zs(t,r):"in"===n?new Xs(t,r):"not-in"===n?new ta(t,r):"array-contains-any"===n?new ea(t,r):new e(t,n,r)},e.Dt=function(t,e,n){return"in"===e?new Ks(t,n):new Qs(t,n)},e.prototype.matches=function(t){var e=t.field(this.field);return"!="===this.op?null!==e&&this.Ct(Es(e,this.value)):null!==e&&Os(this.value)===Os(e)&&this.Ct(Es(e,this.value))},e.prototype.Ct=function(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return 0===t;case"!=":return 0!==t;case">":return t>0;case">=":return t>=0;default:return ko()}},e.prototype.xt=function(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0},e}(function(){}),Js=function(t){function e(e,n,r){var i=this;return(i=t.call(this,e,n,r)||this).key=as.dt(r.referenceValue),i}return Object(So.c)(e,t),e.prototype.matches=function(t){var e=as.J(t.key,this.key);return this.Ct(e)},e}(Ws),Ks=function(t){function e(e,n){var r=this;return(r=t.call(this,e,"in",n)||this).keys=Ys(0,n),r}return Object(So.c)(e,t),e.prototype.matches=function(t){return this.keys.some(function(e){return e.isEqual(t.key)})},e}(Ws),Qs=function(t){function e(e,n){var r=this;return(r=t.call(this,e,"not-in",n)||this).keys=Ys(0,n),r}return Object(So.c)(e,t),e.prototype.matches=function(t){return!this.keys.some(function(e){return e.isEqual(t.key)})},e}(Ws);function Ys(t,e){var n;return((null===(n=e.arrayValue)||void 0===n?void 0:n.values)||[]).map(function(t){return as.dt(t.referenceValue)})}var Zs=function(t){function e(e,n){return t.call(this,e,"array-contains",n)||this}return Object(So.c)(e,t),e.prototype.matches=function(t){var e=t.field(this.field);return js(e)&&Cs(e.arrayValue,this.value)},e}(Ws),Xs=function(t){function e(e,n){return t.call(this,e,"in",n)||this}return Object(So.c)(e,t),e.prototype.matches=function(t){var e=t.field(this.field);return null!==e&&Cs(this.value.arrayValue,e)},e}(Ws),ta=function(t){function e(e,n){return t.call(this,e,"not-in",n)||this}return Object(So.c)(e,t),e.prototype.matches=function(t){if(Cs(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;var e=t.field(this.field);return null!==e&&!Cs(this.value.arrayValue,e)},e}(Ws),ea=function(t){function e(e,n){return t.call(this,e,"array-contains-any",n)||this}return Object(So.c)(e,t),e.prototype.matches=function(t){var e=this,n=t.field(this.field);return!(!js(n)||!n.arrayValue.values)&&n.arrayValue.values.some(function(t){return Cs(e.value.arrayValue,t)})},e}(Ws),na=function(t,e){this.position=t,this.before=e};function ra(t){return(t.before?"b":"a")+":"+t.position.map(function(t){return Is(t)}).join(",")}var ia=function(t,e){void 0===e&&(e="asc"),this.field=t,this.dir=e};function oa(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}function sa(t,e,n){for(var r=0,i=0;i<t.position.length;i++){var o=e[i],s=t.position[i];if(r=o.field.ht()?as.J(as.dt(s.referenceValue),n.key):Es(s,n.field(o.field)),"desc"===o.dir&&(r*=-1),0!==r)break}return t.before?r<=0:r<0}function aa(t,e){if(null===t)return null===e;if(null===e)return!1;if(t.before!==e.before||t.position.length!==e.position.length)return!1;for(var n=0;n<t.position.length;n++)if(!Ss(t.position[n],e.position[n]))return!1;return!0}var ua=function(t,e,n,r,i,o,s,a){void 0===e&&(e=null),void 0===n&&(n=[]),void 0===r&&(r=[]),void 0===i&&(i=null),void 0===o&&(o="F"),void 0===s&&(s=null),void 0===a&&(a=null),this.path=t,this.collectionGroup=e,this.Nt=n,this.filters=r,this.limit=i,this.limitType=o,this.startAt=s,this.endAt=a,this.Ft=null,this.Ot=null};function ca(t,e,n,r,i,o,s,a){return new ua(t,e,n,r,i,o,s,a)}function la(t){return new ua(t)}function ha(t){return!ys(t.limit)&&"F"===t.limitType}function fa(t){return!ys(t.limit)&&"L"===t.limitType}function da(t){return t.Nt.length>0?t.Nt[0].field:null}function pa(t){for(var e=0,n=t.filters;e<n.length;e++){var r=n[e];if(r.xt())return r.field}return null}function ga(t){return null!==t.collectionGroup}function ba(t){var e=No(t);if(null===e.Ft){e.Ft=[];var n=pa(e),r=da(e);if(null!==n&&null===r)n.ht()||e.Ft.push(new ia(n)),e.Ft.push(new ia(ss.lt(),"asc"));else{for(var i=!1,o=0,s=e.Nt;o<s.length;o++){var a=s[o];e.Ft.push(a),a.field.ht()&&(i=!0)}if(!i){var u=e.Nt.length>0?e.Nt[e.Nt.length-1].dir:"asc";e.Ft.push(new ia(ss.lt(),u))}}}return e.Ft}function ma(t){var e=No(t);if(!e.Ot)if("F"===e.limitType)e.Ot=zs(e.path,e.collectionGroup,ba(e),e.filters,e.limit,e.startAt,e.endAt);else{for(var n=[],r=0,i=ba(e);r<i.length;r++){var o=i[r];n.push(new ia(o.field,"desc"===o.dir?"asc":"desc"))}var s=e.endAt?new na(e.endAt.position,!e.endAt.before):null,a=e.startAt?new na(e.startAt.position,!e.startAt.before):null;e.Ot=zs(e.path,e.collectionGroup,n,e.filters,e.limit,s,a)}return e.Ot}function va(t,e,n){return new ua(t.path,t.collectionGroup,t.Nt.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function ya(t,e){return Gs(ma(t),ma(e))&&t.limitType===e.limitType}function wa(t){return Bs(ma(t))+"|lt:"+t.limitType}function _a(t){return"Query(target="+function(t){var e=t.path.ot();return null!==t.collectionGroup&&(e+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(e+=", filters: ["+t.filters.map(function(t){return(e=t).field.ot()+" "+e.op+" "+Is(e.value);var e}).join(", ")+"]"),ys(t.limit)||(e+=", limit: "+t.limit),t.orderBy.length>0&&(e+=", orderBy: ["+t.orderBy.map(function(t){return function(t){return t.field.ot()+" ("+t.dir+")"}(t)}).join(", ")+"]"),t.startAt&&(e+=", startAt: "+ra(t.startAt)),t.endAt&&(e+=", endAt: "+ra(t.endAt)),"Target("+e+")"}(ma(t))+"; limitType="+t.limitType+")"}function Oa(t,e){return function(t,e){var n=e.key.path;return null!==t.collectionGroup?e.key.wt(t.collectionGroup)&&t.path.st(n):as.Et(t.path)?t.path.isEqual(n):t.path.it(n)}(t,e)&&function(t,e){for(var n=0,r=t.Nt;n<r.length;n++){var i=r[n];if(!i.field.ht()&&null===e.field(i.field))return!1}return!0}(t,e)&&function(t,e){for(var n=0,r=t.filters;n<r.length;n++)if(!r[n].matches(e))return!1;return!0}(t,e)&&function(t,e){return!(t.startAt&&!sa(t.startAt,ba(t),e)||t.endAt&&sa(t.endAt,ba(t),e))}(t,e)}function Sa(t){return function(e,n){for(var r=!1,i=0,o=ba(t);i<o.length;i++){var s=o[i],a=Ca(s,e,n);if(0!==a)return a;r=r||s.field.ht()}return 0}}function Ca(t,e,n){var r=t.field.ht()?as.J(e.key,n.key):function(t,e,n){var r=e.field(t),i=n.field(t);return null!==r&&null!==i?Es(r,i):ko()}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return ko()}}var Ea=function(){function t(t,e,n,r,i,o,s){void 0===i&&(i=ns.min()),void 0===o&&(o=ns.min()),void 0===s&&(s=Lo.h),this.target=t,this.targetId=e,this.kt=n,this.sequenceNumber=r,this.Mt=i,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=s}return t.prototype.Lt=function(e){return new t(this.target,this.targetId,this.kt,e,this.Mt,this.lastLimboFreeSnapshotVersion,this.resumeToken)},t.prototype.$t=function(e,n){return new t(this.target,this.targetId,this.kt,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e)},t.prototype.Bt=function(e){return new t(this.target,this.targetId,this.kt,this.sequenceNumber,this.Mt,e,this.resumeToken)},t}();function Ta(t,e){if(t.qt){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:ws(e)?"-0":e}}function Ia(t){return{integerValue:""+t}}function xa(t,e){return _s(e)?Ia(e):Ta(t,e)}var Aa=function(){this.Ut=void 0};function ka(t,e,n){return t instanceof Pa?function(t,e){var n={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:t.seconds,nanos:t.nanoseconds}}}};return e&&(n.fields.__previous_value__=e),{mapValue:n}}(n,e):t instanceof Da?Ma(t,e):t instanceof Ra?Va(t,e):function(t,e){var n=Na(t,e),r=Fa(n)+Fa(t.Qt);return ks(n)&&ks(t.Qt)?Ia(r):Ta(t.Kt,r)}(t,e)}function ja(t,e,n){return t instanceof Da?Ma(t,e):t instanceof Ra?Va(t,e):n}function Na(t,e){return t instanceof La?ks(n=e)||function(t){return!!t&&"doubleValue"in t}(n)?e:{integerValue:0}:null;var n}var Pa=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(So.c)(e,t),e}(Aa),Da=function(t){function e(e){var n=this;return(n=t.call(this)||this).elements=e,n}return Object(So.c)(e,t),e}(Aa);function Ma(t,e){for(var n=Ua(e),r=function(t){n.some(function(e){return Ss(e,t)})||n.push(t)},i=0,o=t.elements;i<o.length;i++)r(o[i]);return{arrayValue:{values:n}}}var Ra=function(t){function e(e){var n=this;return(n=t.call(this)||this).elements=e,n}return Object(So.c)(e,t),e}(Aa);function Va(t,e){for(var n=Ua(e),r=function(t){n=n.filter(function(e){return!Ss(e,t)})},i=0,o=t.elements;i<o.length;i++)r(o[i]);return{arrayValue:{values:n}}}var La=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).Kt=e,r.Qt=n,r}return Object(So.c)(e,t),e}(Aa);function Fa(t){return ps(t.integerValue||t.doubleValue)}function Ua(t){return js(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}var qa=function(t,e){this.field=t,this.transform=e},Ha=function(t,e){this.version=t,this.transformResults=e},za=function(){function t(t,e){this.updateTime=t,this.exists=e}return t.Wt=function(){return new t},t.exists=function(e){return new t(void 0,e)},t.updateTime=function(e){return new t(e)},Object.defineProperty(t.prototype,"jt",{get:function(){return void 0===this.updateTime&&void 0===this.exists},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)},t}();function Ba(t,e){return void 0!==t.updateTime?e instanceof Fs&&e.version.isEqual(t.updateTime):void 0===t.exists||t.exists===e instanceof Fs}var Ga=function(){};function $a(t,e,n){return t instanceof Ya?function(t,e,n){var r=t.value;if(n.transformResults){var i=tu(t.fieldTransforms,e,n.transformResults);r=nu(t.fieldTransforms,r,i)}return new Fs(t.key,n.version,r,{hasCommittedMutations:!0})}(t,e,n):t instanceof Za?function(t,e,n){if(!Ba(t.Gt,e))return new qs(t.key,n.version);var r=Xa(t,e,n.transformResults?tu(t.fieldTransforms,e,n.transformResults):[]);return new Fs(t.key,n.version,r,{hasCommittedMutations:!0})}(t,e,n):function(t,e,n){return new Us(t.key,n.version,{hasCommittedMutations:!0})}(t,0,n)}function Wa(t,e,n,r){return t instanceof Ya?function(t,e,n,r){if(!Ba(t.Gt,e))return e;var i=t.value;if(t.fieldTransforms){var o=eu(t.fieldTransforms,n,e,r);i=nu(t.fieldTransforms,i,o)}var s=Qa(e);return new Fs(t.key,s,i,{bt:!0})}(t,e,r,n):t instanceof Za?function(t,e,n,r){if(!Ba(t.Gt,e))return e;var i=Qa(e),o=Xa(t,e,eu(t.fieldTransforms,n,e,r));return new Fs(t.key,i,o,{bt:!0})}(t,e,r,n):function(t,e){return Ba(t.Gt,e)?new Us(t.key,ns.min()):e}(t,e)}function Ja(t,e){return void 0!==t.fieldTransforms?function(t,e){for(var n=null,r=0,i=t;r<i.length;r++){var o=i[r],s=e instanceof Fs?e.field(o.field):void 0,a=Na(o.transform,s||null);null!=a&&(n=null==n?(new Rs).set(o.field,a):n.set(o.field,a))}return n?n.yt():null}(t.fieldTransforms,e):null}function Ka(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.Gt.isEqual(e.Gt)&&!!function(t,e){return void 0===t&&void 0===e||!(!t||!e)&&Ro(t,e,function(t,e){return function(t,e){return t.field.isEqual(e.field)&&function(t,e){return t instanceof Da&&e instanceof Da||t instanceof Ra&&e instanceof Ra?Ro(t.elements,e.elements,Ss):t instanceof La&&e instanceof La?Ss(t.Qt,e.Qt):t instanceof Pa&&e instanceof Pa}(t.transform,e.transform)}(t,e)})}(t.fieldTransforms,e.fieldTransforms)&&(0===t.type?t.value.isEqual(e.value):1!==t.type||t.data.isEqual(e.data)&&t.zt.isEqual(e.zt))}function Qa(t){return t instanceof Fs?t.version:ns.min()}var Ya=function(t){function e(e,n,r,i){void 0===i&&(i=[]);var o=this;return(o=t.call(this)||this).key=e,o.value=n,o.Gt=r,o.fieldTransforms=i,o.type=0,o}return Object(So.c)(e,t),e}(Ga),Za=function(t){function e(e,n,r,i,o){void 0===o&&(o=[]);var s=this;return(s=t.call(this)||this).key=e,s.data=n,s.zt=r,s.Gt=i,s.fieldTransforms=o,s.type=1,s}return Object(So.c)(e,t),e}(Ga);function Xa(t,e,n){var r;return r=function(t,e){var n=new Rs(e);return t.zt.fields.forEach(function(e){if(!e.nt()){var r=t.data.field(e);null!==r?n.set(e,r):n.delete(e)}}),n.yt()}(t,r=e instanceof Fs?e.data():Ms.empty()),nu(t.fieldTransforms,r,n)}function tu(t,e,n){var r=[];jo(t.length===n.length);for(var i=0;i<n.length;i++){var o=t[i],s=o.transform,a=null;e instanceof Fs&&(a=e.field(o.field)),r.push(ja(s,a,n[i]))}return r}function eu(t,e,n,r){for(var i=[],o=0,s=t;o<s.length;o++){var a=s[o],u=a.transform,c=null;n instanceof Fs&&(c=n.field(a.field)),null===c&&r instanceof Fs&&(c=r.field(a.field)),i.push(ka(u,c,e))}return i}function nu(t,e,n){for(var r=new Rs(e),i=0;i<t.length;i++)r.set(t[i].field,n[i]);return r.yt()}var ru,iu,ou=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).key=e,r.Gt=n,r.type=2,r.fieldTransforms=[],r}return Object(So.c)(e,t),e}(Ga),su=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).key=e,r.Gt=n,r.type=3,r.fieldTransforms=[],r}return Object(So.c)(e,t),e}(Ga),au=function(t){this.count=t};function uu(t){switch(t){case Fo.OK:return ko();case Fo.CANCELLED:case Fo.UNKNOWN:case Fo.DEADLINE_EXCEEDED:case Fo.RESOURCE_EXHAUSTED:case Fo.INTERNAL:case Fo.UNAVAILABLE:case Fo.UNAUTHENTICATED:return!1;case Fo.INVALID_ARGUMENT:case Fo.NOT_FOUND:case Fo.ALREADY_EXISTS:case Fo.PERMISSION_DENIED:case Fo.FAILED_PRECONDITION:case Fo.ABORTED:case Fo.OUT_OF_RANGE:case Fo.UNIMPLEMENTED:case Fo.DATA_LOSS:return!0;default:return ko()}}function cu(t){if(void 0===t)return Io("GRPC error has no .code"),Fo.UNKNOWN;switch(t){case ru.OK:return Fo.OK;case ru.CANCELLED:return Fo.CANCELLED;case ru.UNKNOWN:return Fo.UNKNOWN;case ru.DEADLINE_EXCEEDED:return Fo.DEADLINE_EXCEEDED;case ru.RESOURCE_EXHAUSTED:return Fo.RESOURCE_EXHAUSTED;case ru.INTERNAL:return Fo.INTERNAL;case ru.UNAVAILABLE:return Fo.UNAVAILABLE;case ru.UNAUTHENTICATED:return Fo.UNAUTHENTICATED;case ru.INVALID_ARGUMENT:return Fo.INVALID_ARGUMENT;case ru.NOT_FOUND:return Fo.NOT_FOUND;case ru.ALREADY_EXISTS:return Fo.ALREADY_EXISTS;case ru.PERMISSION_DENIED:return Fo.PERMISSION_DENIED;case ru.FAILED_PRECONDITION:return Fo.FAILED_PRECONDITION;case ru.ABORTED:return Fo.ABORTED;case ru.OUT_OF_RANGE:return Fo.OUT_OF_RANGE;case ru.UNIMPLEMENTED:return Fo.UNIMPLEMENTED;case ru.DATA_LOSS:return Fo.DATA_LOSS;default:return ko()}}(iu=ru||(ru={}))[iu.OK=0]="OK",iu[iu.CANCELLED=1]="CANCELLED",iu[iu.UNKNOWN=2]="UNKNOWN",iu[iu.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",iu[iu.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",iu[iu.NOT_FOUND=5]="NOT_FOUND",iu[iu.ALREADY_EXISTS=6]="ALREADY_EXISTS",iu[iu.PERMISSION_DENIED=7]="PERMISSION_DENIED",iu[iu.UNAUTHENTICATED=16]="UNAUTHENTICATED",iu[iu.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",iu[iu.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",iu[iu.ABORTED=10]="ABORTED",iu[iu.OUT_OF_RANGE=11]="OUT_OF_RANGE",iu[iu.UNIMPLEMENTED=12]="UNIMPLEMENTED",iu[iu.INTERNAL=13]="INTERNAL",iu[iu.UNAVAILABLE=14]="UNAVAILABLE",iu[iu.DATA_LOSS=15]="DATA_LOSS";var lu=function(){function t(t,e){this.J=t,this.root=e||fu.EMPTY}return t.prototype.Ht=function(e,n){return new t(this.J,this.root.Ht(e,n,this.J).copy(null,null,fu.Jt,null,null))},t.prototype.remove=function(e){return new t(this.J,this.root.remove(e,this.J).copy(null,null,fu.Jt,null,null))},t.prototype.get=function(t){for(var e=this.root;!e.nt();){var n=this.J(t,e.key);if(0===n)return e.value;n<0?e=e.left:n>0&&(e=e.right)}return null},t.prototype.indexOf=function(t){for(var e=0,n=this.root;!n.nt();){var r=this.J(t,n.key);if(0===r)return e+n.left.size;r<0?n=n.left:(e+=n.left.size+1,n=n.right)}return-1},t.prototype.nt=function(){return this.root.nt()},Object.defineProperty(t.prototype,"size",{get:function(){return this.root.size},enumerable:!1,configurable:!0}),t.prototype.Yt=function(){return this.root.Yt()},t.prototype.Xt=function(){return this.root.Xt()},t.prototype.Zt=function(t){return this.root.Zt(t)},t.prototype.forEach=function(t){this.Zt(function(e,n){return t(e,n),!1})},t.prototype.toString=function(){var t=[];return this.Zt(function(e,n){return t.push(e+":"+n),!1}),"{"+t.join(", ")+"}"},t.prototype.te=function(t){return this.root.te(t)},t.prototype.ee=function(){return new hu(this.root,null,this.J,!1)},t.prototype.ne=function(t){return new hu(this.root,t,this.J,!1)},t.prototype.se=function(){return new hu(this.root,null,this.J,!0)},t.prototype.ie=function(t){return new hu(this.root,t,this.J,!0)},t}(),hu=function(){function t(t,e,n,r){this.re=r,this.oe=[];for(var i=1;!t.nt();)if(i=e?n(t.key,e):1,r&&(i*=-1),i<0)t=this.re?t.left:t.right;else{if(0===i){this.oe.push(t);break}this.oe.push(t),t=this.re?t.right:t.left}}return t.prototype.ce=function(){var t=this.oe.pop(),e={key:t.key,value:t.value};if(this.re)for(t=t.left;!t.nt();)this.oe.push(t),t=t.right;else for(t=t.right;!t.nt();)this.oe.push(t),t=t.left;return e},t.prototype.ae=function(){return this.oe.length>0},t.prototype.ue=function(){if(0===this.oe.length)return null;var t=this.oe[this.oe.length-1];return{key:t.key,value:t.value}},t}(),fu=function(){function t(e,n,r,i,o){this.key=e,this.value=n,this.color=null!=r?r:t.RED,this.left=null!=i?i:t.EMPTY,this.right=null!=o?o:t.EMPTY,this.size=this.left.size+1+this.right.size}return t.prototype.copy=function(e,n,r,i,o){return new t(null!=e?e:this.key,null!=n?n:this.value,null!=r?r:this.color,null!=i?i:this.left,null!=o?o:this.right)},t.prototype.nt=function(){return!1},t.prototype.Zt=function(t){return this.left.Zt(t)||t(this.key,this.value)||this.right.Zt(t)},t.prototype.te=function(t){return this.right.te(t)||t(this.key,this.value)||this.left.te(t)},t.prototype.min=function(){return this.left.nt()?this:this.left.min()},t.prototype.Yt=function(){return this.min().key},t.prototype.Xt=function(){return this.right.nt()?this.key:this.right.Xt()},t.prototype.Ht=function(t,e,n){var r=this,i=n(t,r.key);return(r=i<0?r.copy(null,null,null,r.left.Ht(t,e,n),null):0===i?r.copy(null,e,null,null,null):r.copy(null,null,null,null,r.right.Ht(t,e,n))).he()},t.prototype.le=function(){if(this.left.nt())return t.EMPTY;var e=this;return e.left._e()||e.left.left._e()||(e=e.fe()),(e=e.copy(null,null,null,e.left.le(),null)).he()},t.prototype.remove=function(e,n){var r,i=this;if(n(e,i.key)<0)i.left.nt()||i.left._e()||i.left.left._e()||(i=i.fe()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left._e()&&(i=i.de()),i.right.nt()||i.right._e()||i.right.left._e()||(i=i.we()),0===n(e,i.key)){if(i.right.nt())return t.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.le())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.he()},t.prototype._e=function(){return this.color},t.prototype.he=function(){var t=this;return t.right._e()&&!t.left._e()&&(t=t.Ee()),t.left._e()&&t.left.left._e()&&(t=t.de()),t.left._e()&&t.right._e()&&(t=t.Te()),t},t.prototype.fe=function(){var t=this.Te();return t.right.left._e()&&(t=(t=(t=t.copy(null,null,null,null,t.right.de())).Ee()).Te()),t},t.prototype.we=function(){var t=this.Te();return t.left.left._e()&&(t=(t=t.de()).Te()),t},t.prototype.Ee=function(){var e=this.copy(null,null,t.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)},t.prototype.de=function(){var e=this.copy(null,null,t.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)},t.prototype.Te=function(){var t=this.left.copy(null,null,!this.left.color,null,null),e=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,e)},t.prototype.Ie=function(){var t=this.me();return Math.pow(2,t)<=this.size+1},t.prototype.me=function(){if(this._e()&&this.left._e())throw ko();if(this.right._e())throw ko();var t=this.left.me();if(t!==this.right.me())throw ko();return t+(this._e()?0:1)},t}();fu.EMPTY=null,fu.RED=!0,fu.Jt=!1,fu.EMPTY=new(function(){function t(){this.size=0}return Object.defineProperty(t.prototype,"key",{get:function(){throw ko()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"value",{get:function(){throw ko()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"color",{get:function(){throw ko()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"left",{get:function(){throw ko()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"right",{get:function(){throw ko()},enumerable:!1,configurable:!0}),t.prototype.copy=function(t,e,n,r,i){return this},t.prototype.Ht=function(t,e,n){return new fu(t,e)},t.prototype.remove=function(t,e){return this},t.prototype.nt=function(){return!0},t.prototype.Zt=function(t){return!1},t.prototype.te=function(t){return!1},t.prototype.Yt=function(){return null},t.prototype.Xt=function(){return null},t.prototype._e=function(){return!1},t.prototype.Ie=function(){return!0},t.prototype.me=function(){return 0},t}());var du=function(){function t(t){this.J=t,this.data=new lu(this.J)}return t.prototype.has=function(t){return null!==this.data.get(t)},t.prototype.first=function(){return this.data.Yt()},t.prototype.last=function(){return this.data.Xt()},Object.defineProperty(t.prototype,"size",{get:function(){return this.data.size},enumerable:!1,configurable:!0}),t.prototype.indexOf=function(t){return this.data.indexOf(t)},t.prototype.forEach=function(t){this.data.Zt(function(e,n){return t(e),!1})},t.prototype.Ae=function(t,e){for(var n=this.data.ne(t[0]);n.ae();){var r=n.ce();if(this.J(r.key,t[1])>=0)return;e(r.key)}},t.prototype.Re=function(t,e){var n;for(n=void 0!==e?this.data.ne(e):this.data.ee();n.ae();)if(!t(n.ce().key))return},t.prototype.Pe=function(t){var e=this.data.ne(t);return e.ae()?e.ce().key:null},t.prototype.ee=function(){return new pu(this.data.ee())},t.prototype.ne=function(t){return new pu(this.data.ne(t))},t.prototype.add=function(t){return this.copy(this.data.remove(t).Ht(t,!0))},t.prototype.delete=function(t){return this.has(t)?this.copy(this.data.remove(t)):this},t.prototype.nt=function(){return this.data.nt()},t.prototype.ye=function(t){var e=this;return e.size<t.size&&(e=t,t=this),t.forEach(function(t){e=e.add(t)}),e},t.prototype.isEqual=function(e){if(!(e instanceof t))return!1;if(this.size!==e.size)return!1;for(var n=this.data.ee(),r=e.data.ee();n.ae();){var i=n.ce().key,o=r.ce().key;if(0!==this.J(i,o))return!1}return!0},t.prototype.rt=function(){var t=[];return this.forEach(function(e){t.push(e)}),t},t.prototype.toString=function(){var t=[];return this.forEach(function(e){return t.push(e)}),"SortedSet("+t.toString()+")"},t.prototype.copy=function(e){var n=new t(this.J);return n.data=e,n},t}(),pu=function(){function t(t){this.ge=t}return t.prototype.ce=function(){return this.ge.ce().key},t.prototype.ae=function(){return this.ge.ae()},t}(),gu=new lu(as.J);function bu(){return gu}function mu(){return bu()}var vu=new lu(as.J);function yu(){return vu}var wu=new lu(as.J);function _u(){return wu}var Ou=new du(as.J);function Su(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];for(var n=Ou,r=0,i=t;r<i.length;r++){var o=i[r];n=n.add(o)}return n}var Cu=new du(Mo);function Eu(){return Cu}var Tu=function(){function t(t){this.J=t?function(e,n){return t(e,n)||as.J(e.key,n.key)}:function(t,e){return as.J(t.key,e.key)},this.Ve=yu(),this.pe=new lu(this.J)}return t.be=function(e){return new t(e.J)},t.prototype.has=function(t){return null!=this.Ve.get(t)},t.prototype.get=function(t){return this.Ve.get(t)},t.prototype.first=function(){return this.pe.Yt()},t.prototype.last=function(){return this.pe.Xt()},t.prototype.nt=function(){return this.pe.nt()},t.prototype.indexOf=function(t){var e=this.Ve.get(t);return e?this.pe.indexOf(e):-1},Object.defineProperty(t.prototype,"size",{get:function(){return this.pe.size},enumerable:!1,configurable:!0}),t.prototype.forEach=function(t){this.pe.Zt(function(e,n){return t(e),!1})},t.prototype.add=function(t){var e=this.delete(t.key);return e.copy(e.Ve.Ht(t.key,t),e.pe.Ht(t,null))},t.prototype.delete=function(t){var e=this.get(t);return e?this.copy(this.Ve.remove(t),this.pe.remove(e)):this},t.prototype.isEqual=function(e){if(!(e instanceof t))return!1;if(this.size!==e.size)return!1;for(var n=this.pe.ee(),r=e.pe.ee();n.ae();){var i=n.ce().key,o=r.ce().key;if(!i.isEqual(o))return!1}return!0},t.prototype.toString=function(){var t=[];return this.forEach(function(e){t.push(e.toString())}),0===t.length?"DocumentSet ()":"DocumentSet (\n  "+t.join("  \n")+"\n)"},t.prototype.copy=function(e,n){var r=new t;return r.J=this.J,r.Ve=e,r.pe=n,r},t}(),Iu=function(){function t(){this.ve=new lu(as.J)}return t.prototype.track=function(t){var e=t.doc.key,n=this.ve.get(e);n?0!==t.type&&3===n.type?this.ve=this.ve.Ht(e,t):3===t.type&&1!==n.type?this.ve=this.ve.Ht(e,{type:n.type,doc:t.doc}):2===t.type&&2===n.type?this.ve=this.ve.Ht(e,{type:2,doc:t.doc}):2===t.type&&0===n.type?this.ve=this.ve.Ht(e,{type:0,doc:t.doc}):1===t.type&&0===n.type?this.ve=this.ve.remove(e):1===t.type&&2===n.type?this.ve=this.ve.Ht(e,{type:1,doc:n.doc}):0===t.type&&1===n.type?this.ve=this.ve.Ht(e,{type:2,doc:t.doc}):ko():this.ve=this.ve.Ht(e,t)},t.prototype.Se=function(){var t=[];return this.ve.Zt(function(e,n){t.push(n)}),t},t}(),xu=function(){function t(t,e,n,r,i,o,s,a){this.query=t,this.docs=e,this.De=n,this.docChanges=r,this.Ce=i,this.fromCache=o,this.xe=s,this.Ne=a}return t.Fe=function(e,n,r,i){var o=[];return n.forEach(function(t){o.push({type:0,doc:t})}),new t(e,n,Tu.be(n),o,r,i,!0,!1)},Object.defineProperty(t.prototype,"hasPendingWrites",{get:function(){return!this.Ce.nt()},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(t){if(!(this.fromCache===t.fromCache&&this.xe===t.xe&&this.Ce.isEqual(t.Ce)&&ya(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.De.isEqual(t.De)))return!1;var e=this.docChanges,n=t.docChanges;if(e.length!==n.length)return!1;for(var r=0;r<e.length;r++)if(e[r].type!==n[r].type||!e[r].doc.isEqual(n[r].doc))return!1;return!0},t}(),Au=function(){function t(t,e,n,r,i){this.Mt=t,this.Oe=e,this.ke=n,this.Me=r,this.Le=i}return t.$e=function(e,n){var r=new Map;return r.set(e,ku.Be(e,n)),new t(ns.min(),r,Eu(),bu(),Su())},t}(),ku=function(){function t(t,e,n,r,i){this.resumeToken=t,this.qe=e,this.Ue=n,this.Qe=r,this.Ke=i}return t.Be=function(e,n){return new t(Lo.h,n,Su(),Su(),Su())},t}(),ju=function(t,e,n,r){this.We=t,this.removedTargetIds=e,this.key=n,this.je=r},Nu=function(t,e){this.targetId=t,this.Ge=e},Pu=function(t,e,n,r){void 0===n&&(n=Lo.h),void 0===r&&(r=null),this.state=t,this.targetIds=e,this.resumeToken=n,this.cause=r},Du=function(){function t(){this.ze=0,this.He=Vu(),this.Je=Lo.h,this.Ye=!1,this.Xe=!0}return Object.defineProperty(t.prototype,"qe",{get:function(){return this.Ye},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"resumeToken",{get:function(){return this.Je},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"Ze",{get:function(){return 0!==this.ze},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"tn",{get:function(){return this.Xe},enumerable:!1,configurable:!0}),t.prototype.en=function(t){t.o()>0&&(this.Xe=!0,this.Je=t)},t.prototype.nn=function(){var t=Su(),e=Su(),n=Su();return this.He.forEach(function(r,i){switch(i){case 0:t=t.add(r);break;case 2:e=e.add(r);break;case 1:n=n.add(r);break;default:ko()}}),new ku(this.Je,this.Ye,t,e,n)},t.prototype.sn=function(){this.Xe=!1,this.He=Vu()},t.prototype.rn=function(t,e){this.Xe=!0,this.He=this.He.Ht(t,e)},t.prototype.on=function(t){this.Xe=!0,this.He=this.He.remove(t)},t.prototype.cn=function(){this.ze+=1},t.prototype.an=function(){this.ze-=1},t.prototype.un=function(){this.Xe=!0,this.Ye=!0},t}(),Mu=function(){function t(t){this.hn=t,this.ln=new Map,this._n=bu(),this.fn=Ru(),this.dn=new du(Mo)}return t.prototype.wn=function(t){for(var e=0,n=t.We;e<n.length;e++){var r=n[e];t.je instanceof Fs?this.En(r,t.je):t.je instanceof Us&&this.Tn(r,t.key,t.je)}for(var i=0,o=t.removedTargetIds;i<o.length;i++)this.Tn(r=o[i],t.key,t.je)},t.prototype.In=function(t){var e=this;this.mn(t,function(n){var r=e.An(n);switch(t.state){case 0:e.Rn(n)&&r.en(t.resumeToken);break;case 1:r.an(),r.Ze||r.sn(),r.en(t.resumeToken);break;case 2:r.an(),r.Ze||e.removeTarget(n);break;case 3:e.Rn(n)&&(r.un(),r.en(t.resumeToken));break;case 4:e.Rn(n)&&(e.Pn(n),r.en(t.resumeToken));break;default:ko()}})},t.prototype.mn=function(t,e){var n=this;t.targetIds.length>0?t.targetIds.forEach(e):this.ln.forEach(function(t,r){n.Rn(r)&&e(r)})},t.prototype.yn=function(t){var e=t.targetId,n=t.Ge.count,r=this.gn(e);if(r){var i=r.target;if($s(i))if(0===n){var o=new as(i.path);this.Tn(e,o,new Us(o,ns.min()))}else jo(1===n);else this.Vn(e)!==n&&(this.Pn(e),this.dn=this.dn.add(e))}},t.prototype.pn=function(t){var e=this,n=new Map;this.ln.forEach(function(r,i){var o=e.gn(i);if(o){if(r.qe&&$s(o.target)){var s=new as(o.target.path);null!==e._n.get(s)||e.bn(i,s)||e.Tn(i,s,new Us(s,t))}r.tn&&(n.set(i,r.nn()),r.sn())}});var r=Su();this.fn.forEach(function(t,n){var i=!0;n.Re(function(t){var n=e.gn(t);return!n||2===n.kt||(i=!1,!1)}),i&&(r=r.add(t))});var i=new Au(t,n,this.dn,this._n,r);return this._n=bu(),this.fn=Ru(),this.dn=new du(Mo),i},t.prototype.En=function(t,e){if(this.Rn(t)){var n=this.bn(t,e.key)?2:0;this.An(t).rn(e.key,n),this._n=this._n.Ht(e.key,e),this.fn=this.fn.Ht(e.key,this.vn(e.key).add(t))}},t.prototype.Tn=function(t,e,n){if(this.Rn(t)){var r=this.An(t);this.bn(t,e)?r.rn(e,1):r.on(e),this.fn=this.fn.Ht(e,this.vn(e).delete(t)),n&&(this._n=this._n.Ht(e,n))}},t.prototype.removeTarget=function(t){this.ln.delete(t)},t.prototype.Vn=function(t){var e=this.An(t).nn();return this.hn.Sn(t).size+e.Ue.size-e.Ke.size},t.prototype.cn=function(t){this.An(t).cn()},t.prototype.An=function(t){var e=this.ln.get(t);return e||(e=new Du,this.ln.set(t,e)),e},t.prototype.vn=function(t){var e=this.fn.get(t);return e||(e=new du(Mo),this.fn=this.fn.Ht(t,e)),e},t.prototype.Rn=function(t){var e=null!==this.gn(t);return e||To("WatchChangeAggregator","Detected inactive target",t),e},t.prototype.gn=function(t){var e=this.ln.get(t);return e&&e.Ze?null:this.hn.Dn(t)},t.prototype.Pn=function(t){var e=this;this.ln.set(t,new Du),this.hn.Sn(t).forEach(function(n){e.Tn(t,n,null)})},t.prototype.bn=function(t,e){return this.hn.Sn(t).has(e)},t}();function Ru(){return new lu(as.J)}function Vu(){return new lu(as.J)}var Lu={asc:"ASCENDING",desc:"DESCENDING"},Fu={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},Uu=function(t,e){this.T=t,this.qt=e};function qu(t,e){return t.qt?new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")+"."+("000000000"+e.nanoseconds).slice(-9)+"Z":{seconds:""+e.seconds,nanos:e.nanoseconds}}function Hu(t,e){return t.qt?e.toBase64():e.toUint8Array()}function zu(t,e){return qu(t,e.G())}function Bu(t){return jo(!!t),ns.W(function(t){var e=ds(t);return new es(e.seconds,e.nanos)}(t))}function Gu(t,e){return function(t){return new is(["projects",t.projectId,"databases",t.database])}(t).child("documents").child(e).ot()}function $u(t){var e=is.ct(t);return jo(bc(e)),e}function Wu(t,e){return Gu(t.T,e.path)}function Ju(t,e){var n=$u(e);if(n.get(1)!==t.T.projectId)throw new Uo(Fo.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.T.projectId);if(n.get(3)!==t.T.database)throw new Uo(Fo.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.T.database);return new as(Zu(n))}function Ku(t,e){return Gu(t.T,e)}function Qu(t){var e=$u(t);return 4===e.length?is.at():Zu(e)}function Yu(t){return new is(["projects",t.T.projectId,"databases",t.T.database]).ot()}function Zu(t){return jo(t.length>4&&"documents"===t.get(4)),t.X(5)}function Xu(t,e,n){return{name:Wu(t,e),fields:n.proto.mapValue.fields}}function tc(t,e,n){var r=Ju(t,e.name),i=Bu(e.updateTime),o=new Ms({mapValue:{fields:e.fields}});return new Fs(r,i,o,{hasCommittedMutations:!!n})}function ec(t,e){var n;if(e instanceof Ya)n={update:Xu(t,e.key,e.value)};else if(e instanceof ou)n={delete:Wu(t,e.key)};else if(e instanceof Za)n={update:Xu(t,e.key,e.data),updateMask:gc(e.zt)};else{if(!(e instanceof su))return ko();n={verify:Wu(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(function(t){return function(t,e){var n=e.transform;if(n instanceof Pa)return{fieldPath:e.field.ot(),setToServerValue:"REQUEST_TIME"};if(n instanceof Da)return{fieldPath:e.field.ot(),appendMissingElements:{values:n.elements}};if(n instanceof Ra)return{fieldPath:e.field.ot(),removeAllFromArray:{values:n.elements}};if(n instanceof La)return{fieldPath:e.field.ot(),increment:n.Qt};throw ko()}(0,t)})),e.Gt.jt||(n.currentDocument=function(t,e){return void 0!==e.updateTime?{updateTime:zu(t,e.updateTime)}:void 0!==e.exists?{exists:e.exists}:ko()}(t,e.Gt)),n}function nc(t,e){var n=e.currentDocument?function(t){return void 0!==t.updateTime?za.updateTime(Bu(t.updateTime)):void 0!==t.exists?za.exists(t.exists):za.Wt()}(e.currentDocument):za.Wt(),r=e.updateTransforms?e.updateTransforms.map(function(e){return function(t,e){var n=null;"setToServerValue"in e?(jo("REQUEST_TIME"===e.setToServerValue),n=new Pa):"appendMissingElements"in e?n=new Da(e.appendMissingElements.values||[]):"removeAllFromArray"in e?n=new Ra(e.removeAllFromArray.values||[]):"increment"in e?n=new La(t,e.increment):ko();var r=ss._t(e.fieldPath);return new qa(r,n)}(t,e)}):[];if(e.update){var i=Ju(t,e.update.name),o=new Ms({mapValue:{fields:e.update.fields}});if(e.updateMask){var s=function(t){return new hs((t.fieldPaths||[]).map(function(t){return ss._t(t)}))}(e.updateMask);return new Za(i,o,s,n,r)}return new Ya(i,o,n,r)}if(e.delete){var a=Ju(t,e.delete);return new ou(a,n)}if(e.verify){var u=Ju(t,e.verify);return new su(u,n)}return ko()}function rc(t,e){return{documents:[Ku(t,e.path)]}}function ic(t,e){var n={structuredQuery:{}},r=e.path;null!==e.collectionGroup?(n.parent=Ku(t,r),n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(n.parent=Ku(t,r.Z()),n.structuredQuery.from=[{collectionId:r.et()}]);var i=function(t){if(0!==t.length){var e=t.map(function(t){return function(t){if("=="===t.op){if(Ps(t.value))return{unaryFilter:{field:hc(t.field),op:"IS_NAN"}};if(Ns(t.value))return{unaryFilter:{field:hc(t.field),op:"IS_NULL"}}}else if("!="===t.op){if(Ps(t.value))return{unaryFilter:{field:hc(t.field),op:"IS_NOT_NAN"}};if(Ns(t.value))return{unaryFilter:{field:hc(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:hc(t.field),op:lc(t.op),value:t.value}}}(t)});return 1===e.length?e[0]:{compositeFilter:{op:"AND",filters:e}}}}(e.filters);i&&(n.structuredQuery.where=i);var o=function(t){if(0!==t.length)return t.map(function(t){return function(t){return{field:hc(t.field),direction:cc(t.dir)}}(t)})}(e.orderBy);o&&(n.structuredQuery.orderBy=o);var s=function(t,e){return t.qt||ys(e)?e:{value:e}}(t,e.limit);return null!==s&&(n.structuredQuery.limit=s),e.startAt&&(n.structuredQuery.startAt=ac(e.startAt)),e.endAt&&(n.structuredQuery.endAt=ac(e.endAt)),n}function oc(t){var e=Qu(t.parent),n=t.structuredQuery,r=n.from?n.from.length:0,i=null;if(r>0){jo(1===r);var o=n.from[0];o.allDescendants?i=o.collectionId:e=e.child(o.collectionId)}var s=[];n.where&&(s=sc(n.where));var a=[];n.orderBy&&(a=n.orderBy.map(function(t){return function(t){return new ia(fc(t.field),function(t){switch(t){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(t.direction))}(t)}));var u=null;n.limit&&(u=function(t){var e;return ys(e="object"==typeof t?t.value:t)?null:e}(n.limit));var c=null;n.startAt&&(c=uc(n.startAt));var l=null;return n.endAt&&(l=uc(n.endAt)),ca(e,i,a,s,u,"F",c,l)}function sc(t){return t?void 0!==t.unaryFilter?[pc(t)]:void 0!==t.fieldFilter?[dc(t)]:void 0!==t.compositeFilter?t.compositeFilter.filters.map(function(t){return sc(t)}).reduce(function(t,e){return t.concat(e)}):ko():[]}function ac(t){return{before:t.before,values:t.position}}function uc(t){return new na(t.values||[],!!t.before)}function cc(t){return Lu[t]}function lc(t){return Fu[t]}function hc(t){return{fieldPath:t.ot()}}function fc(t){return ss._t(t.fieldPath)}function dc(t){return Ws.create(fc(t.fieldFilter.field),function(t){switch(t){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":default:return ko()}}(t.fieldFilter.op),t.fieldFilter.value)}function pc(t){switch(t.unaryFilter.op){case"IS_NAN":var e=fc(t.unaryFilter.field);return Ws.create(e,"==",{doubleValue:NaN});case"IS_NULL":var n=fc(t.unaryFilter.field);return Ws.create(n,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":var r=fc(t.unaryFilter.field);return Ws.create(r,"!=",{doubleValue:NaN});case"IS_NOT_NULL":var i=fc(t.unaryFilter.field);return Ws.create(i,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":default:return ko()}}function gc(t){var e=[];return t.fields.forEach(function(t){return e.push(t.ot())}),{fieldPaths:e}}function bc(t){return t.length>=4&&"projects"===t.get(0)&&"databases"===t.get(2)}var mc=function(){var t=this;this.promise=new Promise(function(e,n){t.resolve=e,t.reject=n})},vc=function(){function t(t){var e=this;this.Cn=null,this.xn=null,this.result=void 0,this.error=void 0,this.Nn=!1,this.Fn=!1,t(function(t){e.Nn=!0,e.result=t,e.Cn&&e.Cn(t)},function(t){e.Nn=!0,e.error=t,e.xn&&e.xn(t)})}return t.prototype.catch=function(t){return this.next(void 0,t)},t.prototype.next=function(e,n){var r=this;return this.Fn&&ko(),this.Fn=!0,this.Nn?this.error?this.On(n,this.error):this.kn(e,this.result):new t(function(t,i){r.Cn=function(n){r.kn(e,n).next(t,i)},r.xn=function(e){r.On(n,e).next(t,i)}})},t.prototype.Mn=function(){var t=this;return new Promise(function(e,n){t.next(e,n)})},t.prototype.Ln=function(e){try{var n=e();return n instanceof t?n:t.resolve(n)}catch(e){return t.reject(e)}},t.prototype.kn=function(e,n){return e?this.Ln(function(){return e(n)}):t.resolve(n)},t.prototype.On=function(e,n){return e?this.Ln(function(){return e(n)}):t.reject(n)},t.resolve=function(e){return new t(function(t,n){t(e)})},t.reject=function(e){return new t(function(t,n){n(e)})},t.$n=function(e){return new t(function(t,n){var r=0,i=0,o=!1;e.forEach(function(e){++r,e.next(function(){++i,o&&i===r&&t()},function(t){return n(t)})}),o=!0,i===r&&t()})},t.Bn=function(e){for(var n=t.resolve(!1),r=function(e){n=n.next(function(n){return n?t.resolve(n):e()})},i=0,o=e;i<o.length;i++)r(o[i]);return n},t.forEach=function(t,e){var n=this,r=[];return t.forEach(function(t,i){r.push(e.call(n,t,i))}),this.$n(r)},t}(),yc=function(){function t(t,e){var n=this;this.action=t,this.transaction=e,this.aborted=!1,this.qn=new mc,this.transaction.oncomplete=function(){n.qn.resolve()},this.transaction.onabort=function(){e.error?n.qn.reject(new Oc(t,e.error)):n.qn.resolve()},this.transaction.onerror=function(e){var r=Ic(e.target.error);n.qn.reject(new Oc(t,r))}}return t.open=function(e,n,r,i){try{return new t(n,e.transaction(i,r))}catch(e){throw new Oc(n,e)}},Object.defineProperty(t.prototype,"Un",{get:function(){return this.qn.promise},enumerable:!1,configurable:!0}),t.prototype.abort=function(t){t&&this.qn.reject(t),this.aborted||(To("SimpleDb","Aborting transaction:",t?t.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())},t.prototype.store=function(t){var e=this.transaction.objectStore(t);return new Cc(e)},t}(),wc=function(){function t(e,n,r){this.name=e,this.version=n,this.Qn=r,12.2===t.Kn(Object(ye.g)())&&Io("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}return t.delete=function(t){return To("SimpleDb","Removing database:",t),Ec(window.indexedDB.deleteDatabase(t)).Mn()},t.Wn=function(){if("undefined"==typeof indexedDB)return!1;if(t.jn())return!0;var e=Object(ye.g)(),n=t.Kn(e),r=0<n&&n<10,i=t.Gn(e),o=0<i&&i<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||r||o)},t.jn=function(){var t;return"undefined"!=typeof process&&"YES"===(null===(t=process.env)||void 0===t?void 0:t.zn)},t.Hn=function(t,e){return t.store(e)},t.Kn=function(t){var e=t.match(/i(?:phone|pad|pod) os ([\d_]+)/i),n=e?e[1].split("_").slice(0,2).join("."):"-1";return Number(n)},t.Gn=function(t){var e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)},t.prototype.Jn=function(t){return Object(So.b)(this,void 0,void 0,function(){var e,n=this;return Object(So.d)(this,function(r){switch(r.label){case 0:return this.db?[3,2]:(To("SimpleDb","Opening database:",this.name),e=this,[4,new Promise(function(e,r){var i=indexedDB.open(n.name,n.version);i.onsuccess=function(t){e(t.target.result)},i.onblocked=function(){r(new Oc(t,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},i.onerror=function(e){var n=e.target.error;r("VersionError"===n.name?new Uo(Fo.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh."):new Oc(t,n))},i.onupgradeneeded=function(t){To("SimpleDb",'Database "'+n.name+'" requires upgrade from version:',t.oldVersion),n.Qn.Yn(t.target.result,i.transaction,t.oldVersion,n.version).next(function(){To("SimpleDb","Database upgrade to version "+n.version+" complete")})}})]);case 1:e.db=r.sent(),r.label=2;case 2:return[2,(this.Xn&&(this.db.onversionchange=function(t){return n.Xn(t)}),this.db)]}})})},t.prototype.Zn=function(t){this.Xn=t,this.db&&(this.db.onversionchange=function(e){return t(e)})},t.prototype.runTransaction=function(t,e,n,r){return Object(So.b)(this,void 0,void 0,function(){var i,o,s,a,u;return Object(So.d)(this,function(c){switch(c.label){case 0:i="readonly"===e,o=0,s=function(){var e,s,u,c,l;return Object(So.d)(this,function(h){switch(h.label){case 0:++o,h.label=1;case 1:return h.trys.push([1,4,,5]),[4,a.Jn(t)];case 2:return a.db=h.sent(),e=yc.open(a.db,t,i?"readonly":"readwrite",n),s=r(e).catch(function(t){return e.abort(t),vc.reject(t)}).Mn(),u={},s.catch(function(){}),[4,e.Un];case 3:return[2,(u.value=(h.sent(),s),u)];case 4:return To("SimpleDb","Transaction failed with error:",(c=h.sent()).message,"Retrying:",l="FirebaseError"!==c.name&&o<3),a.close(),l?[3,5]:[2,{value:Promise.reject(c)}];case 5:return[2]}})},a=this,c.label=1;case 1:return[5,s()];case 2:if("object"==typeof(u=c.sent()))return[2,u.value];c.label=3;case 3:return[3,1];case 4:return[2]}})})},t.prototype.close=function(){this.db&&this.db.close(),this.db=void 0},t}(),_c=function(){function t(t){this.ts=t,this.es=!1,this.ns=null}return Object.defineProperty(t.prototype,"Nn",{get:function(){return this.es},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"ss",{get:function(){return this.ns},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"cursor",{set:function(t){this.ts=t},enumerable:!1,configurable:!0}),t.prototype.done=function(){this.es=!0},t.prototype.rs=function(t){this.ns=t},t.prototype.delete=function(){return Ec(this.ts.delete())},t}(),Oc=function(t){function e(e,n){var r=this;return(r=t.call(this,Fo.UNAVAILABLE,"IndexedDB transaction '"+e+"' failed: "+n)||this).name="IndexedDbTransactionError",r}return Object(So.c)(e,t),e}(Uo);function Sc(t){return"IndexedDbTransactionError"===t.name}var Cc=function(){function t(t){this.store=t}return t.prototype.put=function(t,e){var n;return void 0!==e?(To("SimpleDb","PUT",this.store.name,t,e),n=this.store.put(e,t)):(To("SimpleDb","PUT",this.store.name,"<auto-key>",t),n=this.store.put(t)),Ec(n)},t.prototype.add=function(t){return To("SimpleDb","ADD",this.store.name,t,t),Ec(this.store.add(t))},t.prototype.get=function(t){var e=this;return Ec(this.store.get(t)).next(function(n){return void 0===n&&(n=null),To("SimpleDb","GET",e.store.name,t,n),n})},t.prototype.delete=function(t){return To("SimpleDb","DELETE",this.store.name,t),Ec(this.store.delete(t))},t.prototype.count=function(){return To("SimpleDb","COUNT",this.store.name),Ec(this.store.count())},t.prototype.os=function(t,e){var n=this.cursor(this.options(t,e)),r=[];return this.cs(n,function(t,e){r.push(e)}).next(function(){return r})},t.prototype.us=function(t,e){To("SimpleDb","DELETE ALL",this.store.name);var n=this.options(t,e);n.hs=!1;var r=this.cursor(n);return this.cs(r,function(t,e,n){return n.delete()})},t.prototype.ls=function(t,e){var n;e?n=t:(n={},e=t);var r=this.cursor(n);return this.cs(r,e)},t.prototype._s=function(t){var e=this.cursor({});return new vc(function(n,r){e.onerror=function(t){var e=Ic(t.target.error);r(e)},e.onsuccess=function(e){var r=e.target.result;r?t(r.primaryKey,r.value).next(function(t){t?r.continue():n()}):n()}})},t.prototype.cs=function(t,e){var n=[];return new vc(function(r,i){t.onerror=function(t){i(t.target.error)},t.onsuccess=function(t){var i=t.target.result;if(i){var o=new _c(i),s=e(i.primaryKey,i.value,o);if(s instanceof vc){var a=s.catch(function(t){return o.done(),vc.reject(t)});n.push(a)}o.Nn?r():null===o.ss?i.continue():i.continue(o.ss)}else r()}}).next(function(){return vc.$n(n)})},t.prototype.options=function(t,e){var n=void 0;return void 0!==t&&("string"==typeof t?n=t:e=t),{index:n,range:e}},t.prototype.cursor=function(t){var e="next";if(t.reverse&&(e="prev"),t.index){var n=this.store.index(t.index);return t.hs?n.openKeyCursor(t.range,e):n.openCursor(t.range,e)}return this.store.openCursor(t.range,e)},t}();function Ec(t){return new vc(function(e,n){t.onsuccess=function(t){e(t.target.result)},t.onerror=function(t){var e=Ic(t.target.error);n(e)}})}var Tc=!1;function Ic(t){var e=wc.Kn(Object(ye.g)());if(e>=12.2&&e<13){var n="An internal error was encountered in the Indexed Database server";if(t.message.indexOf(n)>=0){var r=new Uo("internal","IOS_INDEXEDDB_BUG1: IndexedDb has thrown '"+n+"'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.");return Tc||(Tc=!0,setTimeout(function(){throw r},0)),r}}return t}var xc=function(){function t(t,e,n,r,i){this.fs=t,this.ds=e,this.ws=n,this.op=r,this.Es=i,this.Ts=new mc,this.then=this.Ts.promise.then.bind(this.Ts.promise),this.Ts.promise.catch(function(t){})}return t.Is=function(e,n,r,i,o){var s=new t(e,n,Date.now()+r,i,o);return s.start(r),s},t.prototype.start=function(t){var e=this;this.As=setTimeout(function(){return e.Rs()},t)},t.prototype.Ps=function(){return this.Rs()},t.prototype.cancel=function(t){null!==this.As&&(this.clearTimeout(),this.Ts.reject(new Uo(Fo.CANCELLED,"Operation cancelled"+(t?": "+t:""))))},t.prototype.Rs=function(){var t=this;this.fs.ys(function(){return null!==t.As?(t.clearTimeout(),t.op().then(function(e){return t.Ts.resolve(e)})):Promise.resolve()})},t.prototype.clearTimeout=function(){null!==this.As&&(this.Es(this),clearTimeout(this.As),this.As=null)},t}();function Ac(t,e){if(Io("AsyncQueue",e+": "+t),Sc(t))return new Uo(Fo.UNAVAILABLE,e+": "+t);throw t}var kc=function(t,e){this.progress=t,this.gs=e},jc="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.",Nc=function(){function t(){this.Vs=[]}return t.prototype.ps=function(t){this.Vs.push(t)},t.prototype.bs=function(){this.Vs.forEach(function(t){return t()})},t}();function Pc(t){for(var e="",n=0;n<t.length;n++)e.length>0&&(e=Mc(e)),e=Dc(t.get(n),e);return Mc(e)}function Dc(t,e){for(var n=e,r=t.length,i=0;i<r;i++){var o=t.charAt(i);switch(o){case"\0":n+="\x01\x10";break;case"\x01":n+="\x01\x11";break;default:n+=o}}return n}function Mc(t){return t+"\x01\x01"}function Rc(t){var e=t.length;if(jo(e>=2),2===e)return jo("\x01"===t.charAt(0)&&"\x01"===t.charAt(1)),is.at();for(var n=e-2,r=[],i="",o=0;o<e;){var s=t.indexOf("\x01",o);switch((s<0||s>n)&&ko(),t.charAt(s+1)){case"\x01":var a=t.substring(o,s),u=void 0;0===i.length?u=a:(u=i+=a,i=""),r.push(u);break;case"\x10":i+=t.substring(o,s),i+="\0";break;case"\x11":i+=t.substring(o,s+1);break;default:ko()}o=s+2}return new is(r)}var Vc=function(t,e){this.seconds=t,this.nanoseconds=e},Lc=function(t,e,n){this.ownerId=t,this.allowTabSynchronization=e,this.leaseTimestampMs=n};Lc.store="owner",Lc.key="owner";var Fc=function(t,e,n){this.userId=t,this.lastAcknowledgedBatchId=e,this.lastStreamToken=n};Fc.store="mutationQueues",Fc.keyPath="userId";var Uc=function(t,e,n,r,i){this.userId=t,this.batchId=e,this.localWriteTimeMs=n,this.baseMutations=r,this.mutations=i};Uc.store="mutations",Uc.keyPath="batchId",Uc.userMutationsIndex="userMutationsIndex",Uc.userMutationsKeyPath=["userId","batchId"];var qc=function(){function t(){}return t.prefixForUser=function(t){return[t]},t.prefixForPath=function(t,e){return[t,Pc(e)]},t.key=function(t,e,n){return[t,Pc(e),n]},t}();qc.store="documentMutations",qc.PLACEHOLDER=new qc;var Hc=function(t,e){this.path=t,this.readTime=e},zc=function(t,e){this.path=t,this.version=e},Bc=function(t,e,n,r,i,o){this.unknownDocument=t,this.noDocument=e,this.document=n,this.hasCommittedMutations=r,this.readTime=i,this.parentPath=o};Bc.store="remoteDocuments",Bc.readTimeIndex="readTimeIndex",Bc.readTimeIndexPath="readTime",Bc.collectionReadTimeIndex="collectionReadTimeIndex",Bc.collectionReadTimeIndexPath=["parentPath","readTime"];var Gc=function(t){this.byteSize=t};Gc.store="remoteDocumentGlobal",Gc.key="remoteDocumentGlobalKey";var $c=function(t,e,n,r,i,o,s){this.targetId=t,this.canonicalId=e,this.readTime=n,this.resumeToken=r,this.lastListenSequenceNumber=i,this.lastLimboFreeSnapshotVersion=o,this.query=s};$c.store="targets",$c.keyPath="targetId",$c.queryTargetsIndexName="queryTargetsIndex",$c.queryTargetsKeyPath=["canonicalId","targetId"];var Wc=function(t,e,n){this.targetId=t,this.path=e,this.sequenceNumber=n};Wc.store="targetDocuments",Wc.keyPath=["targetId","path"],Wc.documentTargetsIndex="documentTargetsIndex",Wc.documentTargetsKeyPath=["path","targetId"];var Jc=function(t,e,n,r){this.highestTargetId=t,this.highestListenSequenceNumber=e,this.lastRemoteSnapshotVersion=n,this.targetCount=r};Jc.key="targetGlobalKey",Jc.store="targetGlobal";var Kc=function(t,e){this.collectionId=t,this.parent=e};Kc.store="collectionParents",Kc.keyPath=["collectionId","parent"];var Qc=function(t,e,n,r){this.clientId=t,this.updateTimeMs=e,this.networkEnabled=n,this.inForeground=r};Qc.store="clientMetadata",Qc.keyPath="clientId";var Yc=function(t,e,n){this.bundleId=t,this.createTime=e,this.version=n};Yc.store="bundles",Yc.keyPath="bundleId";var Zc=function(t,e,n){this.name=t,this.readTime=e,this.bundledQuery=n};Zc.store="namedQueries",Zc.keyPath="name";var Xc=Object(So.g)(Object(So.g)(Object(So.g)(Object(So.g)([Fc.store,Uc.store,qc.store,Bc.store,$c.store,Lc.store,Jc.store,Wc.store],[Qc.store]),[Gc.store]),[Kc.store]),[Yc.store,Zc.store]),tl=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).vs=e,r.Ss=n,r}return Object(So.c)(e,t),e}(Nc);function el(t,e){var n=No(t);return wc.Hn(n.vs,e)}var nl=function(){function t(t,e,n,r){this.batchId=t,this.Ds=e,this.baseMutations=n,this.mutations=r}return t.prototype.Cs=function(t,e,n){for(var r=n.xs,i=0;i<this.mutations.length;i++){var o=this.mutations[i];o.key.isEqual(t)&&(e=$a(o,e,r[i]))}return e},t.prototype.Ns=function(t,e){for(var n=0,r=this.baseMutations;n<r.length;n++){var i=r[n];i.key.isEqual(t)&&(e=Wa(i,e,e,this.Ds))}for(var o=e,s=0,a=this.mutations;s<a.length;s++){var u=a[s];u.key.isEqual(t)&&(e=Wa(u,e,o,this.Ds))}return e},t.prototype.Fs=function(t){var e=this,n=t;return this.mutations.forEach(function(r){var i=e.Ns(r.key,t.get(r.key));i&&(n=n.Ht(r.key,i))}),n},t.prototype.keys=function(){return this.mutations.reduce(function(t,e){return t.add(e.key)},Su())},t.prototype.isEqual=function(t){return this.batchId===t.batchId&&Ro(this.mutations,t.mutations,function(t,e){return Ka(t,e)})&&Ro(this.baseMutations,t.baseMutations,function(t,e){return Ka(t,e)})},t}(),rl=function(){function t(t,e,n,r){this.batch=t,this.Os=e,this.xs=n,this.ks=r}return t.from=function(e,n,r){jo(e.mutations.length===r.length);for(var i=_u(),o=e.mutations,s=0;s<o.length;s++)i=i.Ht(o[s].key,r[s].version);return new t(e,n,r,i)},t}(),il=function(t){this.Ms=t};function ol(t,e){if(e.document)return tc(t.Ms,e.document,!!e.hasCommittedMutations);if(e.noDocument){var n=as.Tt(e.noDocument.path),r=ll(e.noDocument.readTime);return new Us(n,r,{hasCommittedMutations:!!e.hasCommittedMutations})}if(e.unknownDocument){var i=as.Tt(e.unknownDocument.path);return r=ll(e.unknownDocument.version),new qs(i,r)}return ko()}function sl(t,e,n){var r=al(n),i=e.key.path.Z().rt();if(e instanceof Fs){var o=function(t,e){return{name:Wu(t,e.key),fields:e.vt().mapValue.fields,updateTime:qu(t,e.version.G())}}(t.Ms,e),s=e.hasCommittedMutations;return new Bc(null,null,o,s,r,i)}if(e instanceof Us){var a=e.key.path.rt(),u=cl(e.version);return s=e.hasCommittedMutations,new Bc(null,new Hc(a,u),null,s,r,i)}if(e instanceof qs){var c=e.key.path.rt(),l=cl(e.version);return new Bc(new zc(c,l),null,null,!0,r,i)}return ko()}function al(t){var e=t.G();return[e.seconds,e.nanoseconds]}function ul(t){var e=new es(t[0],t[1]);return ns.W(e)}function cl(t){var e=t.G();return new Vc(e.seconds,e.nanoseconds)}function ll(t){var e=new es(t.seconds,t.nanoseconds);return ns.W(e)}function hl(t,e){for(var n=(e.baseMutations||[]).map(function(e){return nc(t.Ms,e)}),r=e.mutations.length-1;r>=0;--r){var i=e.mutations[r];void 0!==(null==i?void 0:i.transform)&&(e.mutations[r-1].updateTransforms=i.transform.fieldTransforms,e.mutations.splice(r,1),--r)}var o=e.mutations.map(function(e){return nc(t.Ms,e)}),s=es.fromMillis(e.localWriteTimeMs);return new nl(e.batchId,s,n,o)}function fl(t){var e,n,r=ll(t.readTime),i=void 0!==t.lastLimboFreeSnapshotVersion?ll(t.lastLimboFreeSnapshotVersion):ns.min();return void 0!==t.query.documents?(jo(1===(n=t.query).documents.length),e=ma(la(Qu(n.documents[0])))):e=function(t){return ma(oc(t))}(t.query),new Ea(e,t.targetId,0,t.lastListenSequenceNumber,r,i,Lo.fromBase64String(t.resumeToken))}function dl(t,e){var n,r=cl(e.Mt),i=cl(e.lastLimboFreeSnapshotVersion);n=$s(e.target)?rc(t.Ms,e.target):ic(t.Ms,e.target);var o=e.resumeToken.toBase64();return new $c(e.targetId,Bs(e.target),r,o,e.sequenceNumber,i,n)}function pl(t){var e=oc({parent:t.parent,structuredQuery:t.structuredQuery});return"LAST"===t.limitType?va(e,e.limit,"L"):e}var gl=function(){function t(){}return t.prototype.Ls=function(t,e){return bl(t).get(e).next(function(t){if(t)return{id:(e=t).bundleId,createTime:ll(e.createTime),version:e.version};var e})},t.prototype.$s=function(t,e){return bl(t).put({bundleId:(n=e).id,createTime:cl(Bu(n.createTime)),version:n.version});var n},t.prototype.Bs=function(t,e){return ml(t).get(e).next(function(t){if(t)return{name:(e=t).name,query:pl(e.bundledQuery),readTime:ll(e.readTime)};var e})},t.prototype.qs=function(t,e){return ml(t).put(function(t){return{name:t.name,readTime:cl(Bu(t.readTime)),bundledQuery:t.bundledQuery}}(e))},t}();function bl(t){return el(t,Yc.store)}function ml(t){return el(t,Zc.store)}var vl=function(){function t(){this.Us=new yl}return t.prototype.Qs=function(t,e){return this.Us.add(e),vc.resolve()},t.prototype.Ks=function(t,e){return vc.resolve(this.Us.getEntries(e))},t}(),yl=function(){function t(){this.index={}}return t.prototype.add=function(t){var e=t.et(),n=t.Z(),r=this.index[e]||new du(is.J),i=!r.has(n);return this.index[e]=r.add(n),i},t.prototype.has=function(t){var e=t.et(),n=t.Z(),r=this.index[e];return r&&r.has(n)},t.prototype.getEntries=function(t){return(this.index[t]||new du(is.J)).rt()},t}(),wl=function(){function t(){this.Ws=new yl}return t.prototype.Qs=function(t,e){var n=this;if(!this.Ws.has(e)){var r=e.et(),i=e.Z();t.ps(function(){n.Ws.add(e)});var o={collectionId:r,parent:Pc(i)};return _l(t).put(o)}return vc.resolve()},t.prototype.Ks=function(t,e){var n=[],r=IDBKeyRange.bound([e,""],[Vo(e),""],!1,!0);return _l(t).os(r).next(function(t){for(var r=0,i=t;r<i.length;r++){var o=i[r];if(o.collectionId!==e)break;n.push(Rc(o.parent))}return n})},t}();function _l(t){return el(t,Kc.store)}var Ol={js:!1,Gs:0,zs:0,Hs:0},Sl=function(){function t(t,e,n){this.Js=t,this.Ys=e,this.Xs=n}return t.Zs=function(e){return new t(e,t.ti,t.ei)},t}();function Cl(t){return Object(So.b)(this,void 0,void 0,function(){return Object(So.d)(this,function(e){if(t.code!==Fo.FAILED_PRECONDITION||t.message!==jc)throw t;return To("LocalStore","Unexpectedly lost primary lease"),[2]})})}Sl.ti=10,Sl.ei=1e3,Sl.ni=new Sl(41943040,Sl.ti,Sl.ei),Sl.si=new Sl(-1,0,0);var El=function(){function t(t,e){this.ii=t,this.ri=e,this.oi={}}return t.prototype.get=function(t){var e=this.ii(t),n=this.oi[e];if(void 0!==n)for(var r=0,i=n;r<i.length;r++){var o=i[r],s=o[1];if(this.ri(o[0],t))return s}},t.prototype.has=function(t){return void 0!==this.get(t)},t.prototype.set=function(t,e){var n=this.ii(t),r=this.oi[n];if(void 0!==r){for(var i=0;i<r.length;i++)if(this.ri(r[i][0],t))return void(r[i]=[t,e]);r.push([t,e])}else this.oi[n]=[[t,e]]},t.prototype.delete=function(t){var e=this.ii(t),n=this.oi[e];if(void 0===n)return!1;for(var r=0;r<n.length;r++)if(this.ri(n[r][0],t))return 1===n.length?delete this.oi[e]:n.splice(r,1),!0;return!1},t.prototype.forEach=function(t){cs(this.oi,function(e,n){for(var r=0,i=n;r<i.length;r++){var o=i[r];t(o[0],o[1])}})},t.prototype.nt=function(){return ls(this.oi)},t}(),Tl=function(){function t(){this.ci=new El(function(t){return t.toString()},function(t,e){return t.isEqual(e)}),this.ai=!1}return t.prototype.ui=function(t){var e=this.ci.get(t);return e?e.readTime:ns.min()},t.prototype.hi=function(t,e){this.li(),this.ci.set(t.key,{_i:t,readTime:e})},t.prototype.fi=function(t,e){void 0===e&&(e=null),this.li(),this.ci.set(t,{_i:null,readTime:e})},t.prototype.di=function(t,e){this.li();var n=this.ci.get(e);return void 0!==n?vc.resolve(n._i):this.wi(t,e)},t.prototype.getEntries=function(t,e){return this.Ei(t,e)},t.prototype.apply=function(t){return this.li(),this.ai=!0,this.Ti(t)},t.prototype.li=function(){},t}();function Il(t,e,n){var r=t.store(Uc.store),i=t.store(qc.store),o=[],s=IDBKeyRange.only(n.batchId),a=0,u=r.ls({range:s},function(t,e,n){return a++,n.delete()});o.push(u.next(function(){jo(1===a)}));for(var c=[],l=0,h=n.mutations;l<h.length;l++){var f=h[l],d=qc.key(e,f.key.path,n.batchId);o.push(i.delete(d)),c.push(f.key)}return vc.$n(o).next(function(){return c})}function xl(t){var e;if(t.document)e=t.document;else if(t.unknownDocument)e=t.unknownDocument;else{if(!t.noDocument)throw ko();e=t.noDocument}return JSON.stringify(e).length}var Al=function(){function t(t,e,n,r){this.userId=t,this.Kt=e,this.Ii=n,this.mi=r,this.Ai={}}return t.Ri=function(e,n,r,i){return jo(""!==e.uid),new t(e.A()?e.uid:"",n,r,i)},t.prototype.Pi=function(t){var e=!0,n=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return jl(t).ls({index:Uc.userMutationsIndex,range:n},function(t,n,r){e=!1,r.done()}).next(function(){return e})},t.prototype.yi=function(t,e,n,r){var i=this,o=Nl(t),s=jl(t);return s.add({}).next(function(a){jo("number"==typeof a);for(var u=new nl(a,e,n,r),c=function(t,e,n){var r=n.baseMutations.map(function(e){return ec(t.Ms,e)}),i=n.mutations.map(function(e){return ec(t.Ms,e)});return new Uc(e,n.batchId,n.Ds.toMillis(),r,i)}(i.Kt,i.userId,u),l=[],h=new du(function(t,e){return Mo(t.ot(),e.ot())}),f=0,d=r;f<d.length;f++){var p=d[f],g=qc.key(i.userId,p.key.path,a);h=h.add(p.key.path.Z()),l.push(s.put(c)),l.push(o.put(g,qc.PLACEHOLDER))}return h.forEach(function(e){l.push(i.Ii.Qs(t,e))}),t.ps(function(){i.Ai[a]=u.keys()}),vc.$n(l).next(function(){return u})})},t.prototype.gi=function(t,e){var n=this;return jl(t).get(e).next(function(t){return t?(jo(t.userId===n.userId),hl(n.Kt,t)):null})},t.prototype.Vi=function(t,e){var n=this;return this.Ai[e]?vc.resolve(this.Ai[e]):this.gi(t,e).next(function(t){if(t){var r=t.keys();return n.Ai[e]=r,r}return null})},t.prototype.pi=function(t,e){var n=this,r=e+1,i=IDBKeyRange.lowerBound([this.userId,r]),o=null;return jl(t).ls({index:Uc.userMutationsIndex,range:i},function(t,e,i){e.userId===n.userId&&(jo(e.batchId>=r),o=hl(n.Kt,e)),i.done()}).next(function(){return o})},t.prototype.bi=function(t){var e=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]),n=-1;return jl(t).ls({index:Uc.userMutationsIndex,range:e,reverse:!0},function(t,e,r){n=e.batchId,r.done()}).next(function(){return n})},t.prototype.vi=function(t){var e=this,n=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return jl(t).os(Uc.userMutationsIndex,n).next(function(t){return t.map(function(t){return hl(e.Kt,t)})})},t.prototype.Si=function(t,e){var n=this,r=qc.prefixForPath(this.userId,e.path),i=IDBKeyRange.lowerBound(r),o=[];return Nl(t).ls({range:i},function(r,i,s){var a=r[0],u=r[2],c=Rc(r[1]);if(a===n.userId&&e.path.isEqual(c))return jl(t).get(u).next(function(t){if(!t)throw ko();jo(t.userId===n.userId),o.push(hl(n.Kt,t))});s.done()}).next(function(){return o})},t.prototype.Di=function(t,e){var n=this,r=new du(Mo),i=[];return e.forEach(function(e){var o=qc.prefixForPath(n.userId,e.path),s=IDBKeyRange.lowerBound(o),a=Nl(t).ls({range:s},function(t,i,o){var s=t[0],a=t[2],u=Rc(t[1]);s===n.userId&&e.path.isEqual(u)?r=r.add(a):o.done()});i.push(a)}),vc.$n(i).next(function(){return n.Ci(t,r)})},t.prototype.xi=function(t,e){var n=this,r=e.path,i=r.length+1,o=qc.prefixForPath(this.userId,r),s=IDBKeyRange.lowerBound(o),a=new du(Mo);return Nl(t).ls({range:s},function(t,e,o){var s=t[0],u=t[2],c=Rc(t[1]);s===n.userId&&r.st(c)?c.length===i&&(a=a.add(u)):o.done()}).next(function(){return n.Ci(t,a)})},t.prototype.Ci=function(t,e){var n=this,r=[],i=[];return e.forEach(function(e){i.push(jl(t).get(e).next(function(t){if(null===t)throw ko();jo(t.userId===n.userId),r.push(hl(n.Kt,t))}))}),vc.$n(i).next(function(){return r})},t.prototype.Ni=function(t,e){var n=this;return Il(t.vs,this.userId,e).next(function(r){return t.ps(function(){n.Fi(e.batchId)}),vc.forEach(r,function(e){return n.mi.Oi(t,e)})})},t.prototype.Fi=function(t){delete this.Ai[t]},t.prototype.ki=function(t){var e=this;return this.Pi(t).next(function(n){if(!n)return vc.resolve();var r=IDBKeyRange.lowerBound(qc.prefixForUser(e.userId)),i=[];return Nl(t).ls({range:r},function(t,n,r){if(t[0]===e.userId){var o=Rc(t[1]);i.push(o)}else r.done()}).next(function(){jo(0===i.length)})})},t.prototype.Mi=function(t,e){return kl(t,this.userId,e)},t.prototype.Li=function(t){var e=this;return Pl(t).get(this.userId).next(function(t){return t||new Fc(e.userId,-1,"")})},t}();function kl(t,e,n){var r=qc.prefixForPath(e,n.path),i=r[1],o=IDBKeyRange.lowerBound(r),s=!1;return Nl(t).ls({range:o,hs:!0},function(t,n,r){t[0]===e&&t[1]===i&&(s=!0),r.done()}).next(function(){return s})}function jl(t){return el(t,Uc.store)}function Nl(t){return el(t,qc.store)}function Pl(t){return el(t,Fc.store)}var Dl=function(){function t(t){this.$i=t}return t.prototype.next=function(){return this.$i+=2,this.$i},t.Bi=function(){return new t(0)},t.qi=function(){return new t(-1)},t}(),Ml=function(){function t(t,e){this.mi=t,this.Kt=e}return t.prototype.Ui=function(t){var e=this;return this.Qi(t).next(function(n){var r=new Dl(n.highestTargetId);return n.highestTargetId=r.next(),e.Ki(t,n).next(function(){return n.highestTargetId})})},t.prototype.Wi=function(t){return this.Qi(t).next(function(t){return ns.W(new es(t.lastRemoteSnapshotVersion.seconds,t.lastRemoteSnapshotVersion.nanoseconds))})},t.prototype.ji=function(t){return this.Qi(t).next(function(t){return t.highestListenSequenceNumber})},t.prototype.Gi=function(t,e,n){var r=this;return this.Qi(t).next(function(i){return i.highestListenSequenceNumber=e,n&&(i.lastRemoteSnapshotVersion=n.G()),e>i.highestListenSequenceNumber&&(i.highestListenSequenceNumber=e),r.Ki(t,i)})},t.prototype.zi=function(t,e){var n=this;return this.Hi(t,e).next(function(){return n.Qi(t).next(function(r){return r.targetCount+=1,n.Ji(e,r),n.Ki(t,r)})})},t.prototype.Yi=function(t,e){return this.Hi(t,e)},t.prototype.Xi=function(t,e){var n=this;return this.Zi(t,e.targetId).next(function(){return Rl(t).delete(e.targetId)}).next(function(){return n.Qi(t)}).next(function(e){return jo(e.targetCount>0),e.targetCount-=1,n.Ki(t,e)})},t.prototype.tr=function(t,e,n){var r=this,i=0,o=[];return Rl(t).ls(function(s,a){var u=fl(a);u.sequenceNumber<=e&&null===n.get(u.targetId)&&(i++,o.push(r.Xi(t,u)))}).next(function(){return vc.$n(o)}).next(function(){return i})},t.prototype.mn=function(t,e){return Rl(t).ls(function(t,n){var r=fl(n);e(r)})},t.prototype.Qi=function(t){return Vl(t).get(Jc.key).next(function(t){return jo(null!==t),t})},t.prototype.Ki=function(t,e){return Vl(t).put(Jc.key,e)},t.prototype.Hi=function(t,e){return Rl(t).put(dl(this.Kt,e))},t.prototype.Ji=function(t,e){var n=!1;return t.targetId>e.highestTargetId&&(e.highestTargetId=t.targetId,n=!0),t.sequenceNumber>e.highestListenSequenceNumber&&(e.highestListenSequenceNumber=t.sequenceNumber,n=!0),n},t.prototype.er=function(t){return this.Qi(t).next(function(t){return t.targetCount})},t.prototype.nr=function(t,e){var n=Bs(e),r=IDBKeyRange.bound([n,Number.NEGATIVE_INFINITY],[n,Number.POSITIVE_INFINITY]),i=null;return Rl(t).ls({range:r,index:$c.queryTargetsIndexName},function(t,n,r){var o=fl(n);Gs(e,o.target)&&(i=o,r.done())}).next(function(){return i})},t.prototype.sr=function(t,e,n){var r=this,i=[],o=Ll(t);return e.forEach(function(e){var s=Pc(e.path);i.push(o.put(new Wc(n,s))),i.push(r.mi.ir(t,n,e))}),vc.$n(i)},t.prototype.rr=function(t,e,n){var r=this,i=Ll(t);return vc.forEach(e,function(e){var o=Pc(e.path);return vc.$n([i.delete([n,o]),r.mi.cr(t,n,e)])})},t.prototype.Zi=function(t,e){var n=Ll(t),r=IDBKeyRange.bound([e],[e+1],!1,!0);return n.delete(r)},t.prototype.ar=function(t,e){var n=IDBKeyRange.bound([e],[e+1],!1,!0),r=Ll(t),i=Su();return r.ls({range:n,hs:!0},function(t,e,n){var r=Rc(t[1]),o=new as(r);i=i.add(o)}).next(function(){return i})},t.prototype.Mi=function(t,e){var n=Pc(e.path),r=IDBKeyRange.bound([n],[Vo(n)],!1,!0),i=0;return Ll(t).ls({index:Wc.documentTargetsIndex,hs:!0,range:r},function(t,e,n){0!==t[0]&&(i++,n.done())}).next(function(){return i>0})},t.prototype.Dn=function(t,e){return Rl(t).get(e).next(function(t){return t?fl(t):null})},t}();function Rl(t){return el(t,$c.store)}function Vl(t){return el(t,Jc.store)}function Ll(t){return el(t,Wc.store)}function Fl(t,e){var n=t[1],r=e[1],i=Mo(t[0],e[0]);return 0===i?Mo(n,r):i}var Ul=function(){function t(t){this.ur=t,this.buffer=new du(Fl),this.hr=0}return t.prototype.lr=function(){return++this.hr},t.prototype._r=function(t){var e=[t,this.lr()];if(this.buffer.size<this.ur)this.buffer=this.buffer.add(e);else{var n=this.buffer.last();Fl(e,n)<0&&(this.buffer=this.buffer.delete(n).add(e))}},Object.defineProperty(t.prototype,"maxValue",{get:function(){return this.buffer.last()[0]},enumerable:!1,configurable:!0}),t}(),ql=function(){function t(t,e){this.dr=t,this.fs=e,this.wr=!1,this.Er=null}return t.prototype.start=function(t){-1!==this.dr.params.Js&&this.Tr(t)},t.prototype.stop=function(){this.Er&&(this.Er.cancel(),this.Er=null)},Object.defineProperty(t.prototype,"Ir",{get:function(){return null!==this.Er},enumerable:!1,configurable:!0}),t.prototype.Tr=function(t){var e=this,n=this.wr?3e5:6e4;To("LruGarbageCollector","Garbage collection scheduled in "+n+"ms"),this.Er=this.fs.mr("lru_garbage_collection",n,function(){return Object(So.b)(e,void 0,void 0,function(){var e;return Object(So.d)(this,function(n){switch(n.label){case 0:this.Er=null,this.wr=!0,n.label=1;case 1:return n.trys.push([1,3,,7]),[4,t.Ar(this.dr)];case 2:return n.sent(),[3,7];case 3:return Sc(e=n.sent())?(To("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",e),[3,6]):[3,4];case 4:return[4,Cl(e)];case 5:n.sent(),n.label=6;case 6:return[3,7];case 7:return[4,this.Tr(t)];case 8:return n.sent(),[2]}})})})},t}(),Hl=function(){function t(t,e){this.Rr=t,this.params=e}return t.prototype.Pr=function(t,e){return this.Rr.yr(t).next(function(t){return Math.floor(e/100*t)})},t.prototype.gr=function(t,e){var n=this;if(0===e)return vc.resolve(ts.U);var r=new Ul(e);return this.Rr.mn(t,function(t){return r._r(t.sequenceNumber)}).next(function(){return n.Rr.Vr(t,function(t){return r._r(t)})}).next(function(){return r.maxValue})},t.prototype.tr=function(t,e,n){return this.Rr.tr(t,e,n)},t.prototype.pr=function(t,e){return this.Rr.pr(t,e)},t.prototype.br=function(t,e){var n=this;return-1===this.params.Js?(To("LruGarbageCollector","Garbage collection skipped; disabled"),vc.resolve(Ol)):this.vr(t).next(function(r){return r<n.params.Js?(To("LruGarbageCollector","Garbage collection skipped; Cache size "+r+" is lower than threshold "+n.params.Js),Ol):n.Sr(t,e)})},t.prototype.vr=function(t){return this.Rr.vr(t)},t.prototype.Sr=function(t,e){var n,r,i,o,s,a,u,c=this,l=Date.now();return this.Pr(t,this.params.Ys).next(function(e){return e>c.params.Xs?(To("LruGarbageCollector","Capping sequence numbers to collect down to the maximum of "+c.params.Xs+" from "+e),r=c.params.Xs):r=e,o=Date.now(),c.gr(t,r)}).next(function(r){return n=r,s=Date.now(),c.tr(t,n,e)}).next(function(e){return i=e,a=Date.now(),c.pr(t,n)}).next(function(t){return u=Date.now(),Eo()<=ve.a.DEBUG&&To("LruGarbageCollector","LRU Garbage Collection\n\tCounted targets in "+(o-l)+"ms\n\tDetermined least recently used "+r+" in "+(s-o)+"ms\n\tRemoved "+i+" targets in "+(a-s)+"ms\n\tRemoved "+t+" documents in "+(u-a)+"ms\nTotal Duration: "+(u-l)+"ms"),vc.resolve({js:!0,Gs:r,zs:i,Hs:t})})},t}(),zl=function(){function t(t,e){this.db=t,this.dr=function(t,e){return new Hl(t,e)}(this,e)}return t.prototype.yr=function(t){var e=this.Dr(t);return this.db.Cr().er(t).next(function(t){return e.next(function(e){return t+e})})},t.prototype.Dr=function(t){var e=0;return this.Vr(t,function(t){e++}).next(function(){return e})},t.prototype.mn=function(t,e){return this.db.Cr().mn(t,e)},t.prototype.Vr=function(t,e){return this.Nr(t,function(t,n){return e(n)})},t.prototype.ir=function(t,e,n){return Bl(t,n)},t.prototype.cr=function(t,e,n){return Bl(t,n)},t.prototype.tr=function(t,e,n){return this.db.Cr().tr(t,e,n)},t.prototype.Oi=function(t,e){return Bl(t,e)},t.prototype.Fr=function(t,e){return function(t,e){var n=!1;return Pl(t)._s(function(r){return kl(t,r,e).next(function(t){return t&&(n=!0),vc.resolve(!t)})}).next(function(){return n})}(t,e)},t.prototype.pr=function(t,e){var n=this,r=this.db.kr().Or(),i=[],o=0;return this.Nr(t,function(s,a){if(a<=e){var u=n.Fr(t,s).next(function(e){if(!e)return o++,r.di(t,s).next(function(){return r.fi(s),Ll(t).delete([0,Pc(s.path)])})});i.push(u)}}).next(function(){return vc.$n(i)}).next(function(){return r.apply(t)}).next(function(){return o})},t.prototype.removeTarget=function(t,e){var n=e.Lt(t.Ss);return this.db.Cr().Yi(t,n)},t.prototype.Mr=function(t,e){return Bl(t,e)},t.prototype.Nr=function(t,e){var n,r=Ll(t),i=ts.U;return r.ls({index:Wc.documentTargetsIndex},function(t,r){var o=r.path,s=r.sequenceNumber;0===t[0]?(i!==ts.U&&e(new as(Rc(n)),i),i=s,n=o):i=ts.U}).next(function(){i!==ts.U&&e(new as(Rc(n)),i)})},t.prototype.vr=function(t){return this.db.kr().Lr(t)},t}();function Bl(t,e){return Ll(t).put(function(t,e){return new Wc(0,Pc(t.path),e)}(e,t.Ss))}var Gl=function(){function t(t,e){this.Kt=t,this.Ii=e}return t.prototype.hi=function(t,e,n){return Jl(t).put(Kl(e),n)},t.prototype.fi=function(t,e){var n=Jl(t),r=Kl(e);return n.delete(r)},t.prototype.updateMetadata=function(t,e){var n=this;return this.getMetadata(t).next(function(r){return r.byteSize+=e,n.$r(t,r)})},t.prototype.di=function(t,e){var n=this;return Jl(t).get(Kl(e)).next(function(t){return n.Br(t)})},t.prototype.qr=function(t,e){var n=this;return Jl(t).get(Kl(e)).next(function(t){var e=n.Br(t);return e?{_i:e,size:xl(t)}:null})},t.prototype.getEntries=function(t,e){var n=this,r=mu();return this.Ur(t,e,function(t,e){var i=n.Br(e);r=r.Ht(t,i)}).next(function(){return r})},t.prototype.Qr=function(t,e){var n=this,r=mu(),i=new lu(as.J);return this.Ur(t,e,function(t,e){var o=n.Br(e);o?(r=r.Ht(t,o),i=i.Ht(t,xl(e))):(r=r.Ht(t,null),i=i.Ht(t,0))}).next(function(){return{Kr:r,Wr:i}})},t.prototype.Ur=function(t,e,n){if(e.nt())return vc.resolve();var r=IDBKeyRange.bound(e.first().path.rt(),e.last().path.rt()),i=e.ee(),o=i.ce();return Jl(t).ls({range:r},function(t,e,r){for(var s=as.Tt(t);o&&as.J(o,s)<0;)n(o,null),o=i.ce();o&&o.isEqual(s)&&(n(o,e),o=i.ae()?i.ce():null),o?r.rs(o.path.rt()):r.done()}).next(function(){for(;o;)n(o,null),o=i.ae()?i.ce():null})},t.prototype.jr=function(t,e,n){var r=this,i=yu(),o=e.path.length+1,s={};if(n.isEqual(ns.min())){var a=e.path.rt();s.range=IDBKeyRange.lowerBound(a)}else{var u=e.path.rt(),c=al(n);s.range=IDBKeyRange.lowerBound([u,c],!0),s.index=Bc.collectionReadTimeIndex}return Jl(t).ls(s,function(t,n,s){if(t.length===o){var a=ol(r.Kt,n);e.path.st(a.key.path)?a instanceof Fs&&Oa(e,a)&&(i=i.Ht(a.key,a)):s.done()}}).next(function(){return i})},t.prototype.Or=function(t){return new $l(this,!!t&&t.Gr)},t.prototype.Lr=function(t){return this.getMetadata(t).next(function(t){return t.byteSize})},t.prototype.getMetadata=function(t){return Wl(t).get(Gc.key).next(function(t){return jo(!!t),t})},t.prototype.$r=function(t,e){return Wl(t).put(Gc.key,e)},t.prototype.Br=function(t){if(t){var e=ol(this.Kt,t);return e instanceof Us&&e.version.isEqual(ns.min())?null:e}return null},t}(),$l=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).zr=e,r.Gr=n,r.Hr=new El(function(t){return t.toString()},function(t,e){return t.isEqual(e)}),r}return Object(So.c)(e,t),e.prototype.Ti=function(t){var e=this,n=[],r=0,i=new du(function(t,e){return Mo(t.ot(),e.ot())});return this.ci.forEach(function(o,s){var a=e.Hr.get(o);if(s._i){var u=sl(e.zr.Kt,s._i,e.ui(o));i=i.add(o.path.Z());var c=xl(u);r+=c-a,n.push(e.zr.hi(t,o,u))}else if(r-=a,e.Gr){var l=sl(e.zr.Kt,new Us(o,ns.min()),e.ui(o));n.push(e.zr.hi(t,o,l))}else n.push(e.zr.fi(t,o))}),i.forEach(function(r){n.push(e.zr.Ii.Qs(t,r))}),n.push(this.zr.updateMetadata(t,r)),vc.$n(n)},e.prototype.wi=function(t,e){var n=this;return this.zr.qr(t,e).next(function(t){return null===t?(n.Hr.set(e,0),null):(n.Hr.set(e,t.size),t._i)})},e.prototype.Ei=function(t,e){var n=this;return this.zr.Qr(t,e).next(function(t){var e=t.Kr;return t.Wr.forEach(function(t,e){n.Hr.set(t,e)}),e})},e}(Tl);function Wl(t){return el(t,Gc.store)}function Jl(t){return el(t,Bc.store)}function Kl(t){return t.path.rt()}var Ql=function(){function t(t){this.Kt=t}return t.prototype.Yn=function(t,e,n,r){var i=this;jo(n<r&&n>=0&&r<=11);var o=new yc("createOrUpgrade",e);n<1&&r>=1&&(function(t){t.createObjectStore(Lc.store)}(t),function(t){t.createObjectStore(Fc.store,{keyPath:Fc.keyPath}),t.createObjectStore(Uc.store,{keyPath:Uc.keyPath,autoIncrement:!0}).createIndex(Uc.userMutationsIndex,Uc.userMutationsKeyPath,{unique:!0}),t.createObjectStore(qc.store)}(t),Yl(t),function(t){t.createObjectStore(Bc.store)}(t));var s=vc.resolve();return n<3&&r>=3&&(0!==n&&(function(t){t.deleteObjectStore(Wc.store),t.deleteObjectStore($c.store),t.deleteObjectStore(Jc.store)}(t),Yl(t)),s=s.next(function(){return function(t){var e=t.store(Jc.store),n=new Jc(0,0,ns.min().G(),0);return e.put(Jc.key,n)}(o)})),n<4&&r>=4&&(0!==n&&(s=s.next(function(){return function(t,e){return e.store(Uc.store).os().next(function(n){t.deleteObjectStore(Uc.store),t.createObjectStore(Uc.store,{keyPath:Uc.keyPath,autoIncrement:!0}).createIndex(Uc.userMutationsIndex,Uc.userMutationsKeyPath,{unique:!0});var r=e.store(Uc.store),i=n.map(function(t){return r.put(t)});return vc.$n(i)})}(t,o)})),s=s.next(function(){!function(t){t.createObjectStore(Qc.store,{keyPath:Qc.keyPath})}(t)})),n<5&&r>=5&&(s=s.next(function(){return i.Jr(o)})),n<6&&r>=6&&(s=s.next(function(){return function(t){t.createObjectStore(Gc.store)}(t),i.Yr(o)})),n<7&&r>=7&&(s=s.next(function(){return i.Xr(o)})),n<8&&r>=8&&(s=s.next(function(){return i.Zr(t,o)})),n<9&&r>=9&&(s=s.next(function(){!function(t){t.objectStoreNames.contains("remoteDocumentChanges")&&t.deleteObjectStore("remoteDocumentChanges")}(t),function(t){var e=t.objectStore(Bc.store);e.createIndex(Bc.readTimeIndex,Bc.readTimeIndexPath,{unique:!1}),e.createIndex(Bc.collectionReadTimeIndex,Bc.collectionReadTimeIndexPath,{unique:!1})}(e)})),n<10&&r>=10&&(s=s.next(function(){return i.eo(o)})),n<11&&r>=11&&(s=s.next(function(){!function(t){t.createObjectStore(Yc.store,{keyPath:Yc.keyPath})}(t),function(t){t.createObjectStore(Zc.store,{keyPath:Zc.keyPath})}(t)})),s},t.prototype.Yr=function(t){var e=0;return t.store(Bc.store).ls(function(t,n){e+=xl(n)}).next(function(){var n=new Gc(e);return t.store(Gc.store).put(Gc.key,n)})},t.prototype.Jr=function(t){var e=this,n=t.store(Fc.store),r=t.store(Uc.store);return n.os().next(function(n){return vc.forEach(n,function(n){var i=IDBKeyRange.bound([n.userId,-1],[n.userId,n.lastAcknowledgedBatchId]);return r.os(Uc.userMutationsIndex,i).next(function(r){return vc.forEach(r,function(r){jo(r.userId===n.userId);var i=hl(e.Kt,r);return Il(t,n.userId,i).next(function(){})})})})})},t.prototype.Xr=function(t){var e=t.store(Wc.store),n=t.store(Bc.store);return t.store(Jc.store).get(Jc.key).next(function(t){var r=[];return n.ls(function(n,i){var o=new is(n),s=function(t){return[0,Pc(t)]}(o);r.push(e.get(s).next(function(n){return n?vc.resolve():function(n){return e.put(new Wc(0,Pc(n),t.highestListenSequenceNumber))}(o)}))}).next(function(){return vc.$n(r)})})},t.prototype.Zr=function(t,e){t.createObjectStore(Kc.store,{keyPath:Kc.keyPath});var n=e.store(Kc.store),r=new yl,i=function(t){if(r.add(t)){var e=t.et(),i=t.Z();return n.put({collectionId:e,parent:Pc(i)})}};return e.store(Bc.store).ls({hs:!0},function(t,e){var n=new is(t);return i(n.Z())}).next(function(){return e.store(qc.store).ls({hs:!0},function(t,e){var n=Rc(t[1]);return i(n.Z())})})},t.prototype.eo=function(t){var e=this,n=t.store($c.store);return n.ls(function(t,r){var i=fl(r),o=dl(e.Kt,i);return n.put(o)})},t}();function Yl(t){t.createObjectStore(Wc.store,{keyPath:Wc.keyPath}).createIndex(Wc.documentTargetsIndex,Wc.documentTargetsKeyPath,{unique:!0}),t.createObjectStore($c.store,{keyPath:$c.keyPath}).createIndex($c.queryTargetsIndexName,$c.queryTargetsKeyPath,{unique:!0}),t.createObjectStore(Jc.store)}var Zl="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.",Xl=function(){function t(e,n,r,i,o,s,a,u,c,l){if(this.allowTabSynchronization=e,this.persistenceKey=n,this.clientId=r,this.no=o,this.window=s,this.document=a,this.so=c,this.io=l,this.ro=null,this.oo=!1,this.isPrimary=!1,this.networkEnabled=!0,this.co=null,this.inForeground=!1,this.ao=null,this.uo=null,this.ho=Number.NEGATIVE_INFINITY,this.lo=function(t){return Promise.resolve()},!t.Wn())throw new Uo(Fo.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.mi=new zl(this,i),this._o=n+"main",this.Kt=new il(u),this.fo=new wc(this._o,11,new Ql(this.Kt)),this.wo=new Ml(this.mi,this.Kt),this.Ii=new wl,this.Eo=function(t,e){return new Gl(t,e)}(this.Kt,this.Ii),this.To=new gl,this.window&&this.window.localStorage?this.Io=this.window.localStorage:(this.Io=null,!1===l&&Io("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}return t.prototype.start=function(){var t=this;return this.mo().then(function(){if(!t.isPrimary&&!t.allowTabSynchronization)throw new Uo(Fo.FAILED_PRECONDITION,Zl);return t.Ao(),t.Ro(),t.Po(),t.runTransaction("getHighestListenSequenceNumber","readonly",function(e){return t.wo.ji(e)})}).then(function(e){t.ro=new ts(e,t.so)}).then(function(){t.oo=!0}).catch(function(e){return t.fo&&t.fo.close(),Promise.reject(e)})},t.prototype.yo=function(t){var e=this;return this.lo=function(n){return Object(So.b)(e,void 0,void 0,function(){return Object(So.d)(this,function(e){return this.Ir?[2,t(n)]:[2]})})},t(this.isPrimary)},t.prototype.Vo=function(t){var e=this;this.fo.Zn(function(n){return Object(So.b)(e,void 0,void 0,function(){return Object(So.d)(this,function(e){switch(e.label){case 0:return null===n.newVersion?[4,t()]:[3,2];case 1:e.sent(),e.label=2;case 2:return[2]}})})})},t.prototype.po=function(t){var e=this;this.networkEnabled!==t&&(this.networkEnabled=t,this.no.ys(function(){return Object(So.b)(e,void 0,void 0,function(){return Object(So.d)(this,function(t){switch(t.label){case 0:return this.Ir?[4,this.mo()]:[3,2];case 1:t.sent(),t.label=2;case 2:return[2]}})})}))},t.prototype.mo=function(){var t=this;return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",function(e){return eh(e).put(new Qc(t.clientId,Date.now(),t.networkEnabled,t.inForeground)).next(function(){if(t.isPrimary)return t.bo(e).next(function(e){e||(t.isPrimary=!1,t.no.vo(function(){return t.lo(!1)}))})}).next(function(){return t.So(e)}).next(function(n){return t.isPrimary&&!n?t.Do(e).next(function(){return!1}):!!n&&t.Co(e).next(function(){return!0})})}).catch(function(e){if(Sc(e))return To("IndexedDbPersistence","Failed to extend owner lease: ",e),t.isPrimary;if(!t.allowTabSynchronization)throw e;return To("IndexedDbPersistence","Releasing owner lease after error during lease refresh",e),!1}).then(function(e){t.isPrimary!==e&&t.no.vo(function(){return t.lo(e)}),t.isPrimary=e})},t.prototype.bo=function(t){var e=this;return th(t).get(Lc.key).next(function(t){return vc.resolve(e.xo(t))})},t.prototype.No=function(t){return eh(t).delete(this.clientId)},t.prototype.Fo=function(){return Object(So.b)(this,void 0,void 0,function(){var t,e,n,r=this;return Object(So.d)(this,function(i){switch(i.label){case 0:return!this.isPrimary||this.Oo(this.ho,18e5)?[3,2]:(this.ho=Date.now(),[4,this.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",function(t){var e=el(t,Qc.store);return e.os().next(function(t){var n=r.ko(t,18e5),i=t.filter(function(t){return-1===n.indexOf(t)});return vc.forEach(i,function(t){return e.delete(t.clientId)}).next(function(){return i})})}).catch(function(){return[]})]);case 1:if(t=i.sent(),this.Io)for(e=0,n=t;e<n.length;e++)this.Io.removeItem(this.Mo(n[e].clientId));i.label=2;case 2:return[2]}})})},t.prototype.Po=function(){var t=this;this.uo=this.no.mr("client_metadata_refresh",4e3,function(){return t.mo().then(function(){return t.Fo()}).then(function(){return t.Po()})})},t.prototype.xo=function(t){return!!t&&t.ownerId===this.clientId},t.prototype.So=function(t){var e=this;return this.io?vc.resolve(!0):th(t).get(Lc.key).next(function(n){if(null!==n&&e.Oo(n.leaseTimestampMs,5e3)&&!e.Lo(n.ownerId)){if(e.xo(n)&&e.networkEnabled)return!0;if(!e.xo(n)){if(!n.allowTabSynchronization)throw new Uo(Fo.FAILED_PRECONDITION,Zl);return!1}}return!(!e.networkEnabled||!e.inForeground)||eh(t).os().next(function(t){return void 0===e.ko(t,5e3).find(function(t){return!(e.clientId===t.clientId||!(!e.networkEnabled&&t.networkEnabled||!e.inForeground&&t.inForeground&&e.networkEnabled===t.networkEnabled))})})}).next(function(t){return e.isPrimary!==t&&To("IndexedDbPersistence","Client "+(t?"is":"is not")+" eligible for a primary lease."),t})},t.prototype.$o=function(){return Object(So.b)(this,void 0,void 0,function(){var t=this;return Object(So.d)(this,function(e){switch(e.label){case 0:return this.oo=!1,this.Bo(),this.uo&&(this.uo.cancel(),this.uo=null),this.qo(),this.Uo(),[4,this.fo.runTransaction("shutdown","readwrite",[Lc.store,Qc.store],function(e){var n=new tl(e,ts.U);return t.Do(n).next(function(){return t.No(n)})})];case 1:return e.sent(),this.fo.close(),this.Qo(),[2]}})})},t.prototype.ko=function(t,e){var n=this;return t.filter(function(t){return n.Oo(t.updateTimeMs,e)&&!n.Lo(t.clientId)})},t.prototype.Ko=function(){var t=this;return this.runTransaction("getActiveClients","readonly",function(e){return eh(e).os().next(function(e){return t.ko(e,18e5).map(function(t){return t.clientId})})})},Object.defineProperty(t.prototype,"Ir",{get:function(){return this.oo},enumerable:!1,configurable:!0}),t.prototype.Wo=function(t){return Al.Ri(t,this.Kt,this.Ii,this.mi)},t.prototype.Cr=function(){return this.wo},t.prototype.kr=function(){return this.Eo},t.prototype.jo=function(){return this.Ii},t.prototype.Go=function(){return this.To},t.prototype.runTransaction=function(t,e,n){var r,i=this;return To("IndexedDbPersistence","Starting transaction:",t),this.fo.runTransaction(t,"readonly"===e?"readonly":"readwrite",Xc,function(o){return r=new tl(o,i.ro?i.ro.next():ts.U),"readwrite-primary"===e?i.bo(r).next(function(t){return!!t||i.So(r)}).next(function(e){if(!e)throw Io("Failed to obtain primary lease for action '"+t+"'."),i.isPrimary=!1,i.no.vo(function(){return i.lo(!1)}),new Uo(Fo.FAILED_PRECONDITION,jc);return n(r)}).next(function(t){return i.Co(r).next(function(){return t})}):i.zo(r).next(function(){return n(r)})}).then(function(t){return r.bs(),t})},t.prototype.zo=function(t){var e=this;return th(t).get(Lc.key).next(function(t){if(null!==t&&e.Oo(t.leaseTimestampMs,5e3)&&!e.Lo(t.ownerId)&&!e.xo(t)&&!(e.io||e.allowTabSynchronization&&t.allowTabSynchronization))throw new Uo(Fo.FAILED_PRECONDITION,Zl)})},t.prototype.Co=function(t){var e=new Lc(this.clientId,this.allowTabSynchronization,Date.now());return th(t).put(Lc.key,e)},t.Wn=function(){return wc.Wn()},t.prototype.Do=function(t){var e=this,n=th(t);return n.get(Lc.key).next(function(t){return e.xo(t)?(To("IndexedDbPersistence","Releasing primary lease."),n.delete(Lc.key)):vc.resolve()})},t.prototype.Oo=function(t,e){var n=Date.now();return!(t<n-e||t>n&&(Io("Detected an update time that is in the future: "+t+" > "+n),1))},t.prototype.Ao=function(){var t=this;null!==this.document&&"function"==typeof this.document.addEventListener&&(this.ao=function(){t.no.ys(function(){return t.inForeground="visible"===t.document.visibilityState,t.mo()})},this.document.addEventListener("visibilitychange",this.ao),this.inForeground="visible"===this.document.visibilityState)},t.prototype.qo=function(){this.ao&&(this.document.removeEventListener("visibilitychange",this.ao),this.ao=null)},t.prototype.Ro=function(){var t,e=this;"function"==typeof(null===(t=this.window)||void 0===t?void 0:t.addEventListener)&&(this.co=function(){e.Bo(),e.no.ys(function(){return e.$o()})},this.window.addEventListener("unload",this.co))},t.prototype.Uo=function(){this.co&&(this.window.removeEventListener("unload",this.co),this.co=null)},t.prototype.Lo=function(t){var e;try{var n=null!==(null===(e=this.Io)||void 0===e?void 0:e.getItem(this.Mo(t)));return To("IndexedDbPersistence","Client '"+t+"' "+(n?"is":"is not")+" zombied in LocalStorage"),n}catch(t){return Io("IndexedDbPersistence","Failed to get zombied client id.",t),!1}},t.prototype.Bo=function(){if(this.Io)try{this.Io.setItem(this.Mo(this.clientId),String(Date.now()))}catch(t){Io("Failed to set zombie client id.",t)}},t.prototype.Qo=function(){if(this.Io)try{this.Io.removeItem(this.Mo(this.clientId))}catch(t){}},t.prototype.Mo=function(t){return"firestore_zombie_"+this.persistenceKey+"_"+t},t}();function th(t){return el(t,Lc.store)}function eh(t){return el(t,Qc.store)}function nh(t,e){var n=t.projectId;return t.m||(n+="."+t.database),"firestore/"+e+"/"+n+"/"}var rh=function(){function t(t,e,n){this.Eo=t,this.Ho=e,this.Ii=n}return t.prototype.Jo=function(t,e){var n=this;return this.Ho.Si(t,e).next(function(r){return n.Yo(t,e,r)})},t.prototype.Yo=function(t,e,n){return this.Eo.di(t,e).next(function(t){for(var r=0,i=n;r<i.length;r++)t=i[r].Ns(e,t);return t})},t.prototype.Xo=function(t,e,n){var r=mu();return e.forEach(function(t,e){for(var i=0,o=n;i<o.length;i++)e=o[i].Ns(t,e);r=r.Ht(t,e)}),r},t.prototype.Zo=function(t,e){var n=this;return this.Eo.getEntries(t,e).next(function(e){return n.tc(t,e)})},t.prototype.tc=function(t,e){var n=this;return this.Ho.Di(t,e).next(function(r){var i=n.Xo(t,e,r),o=bu();return i.forEach(function(t,e){e||(e=new Us(t,ns.min())),o=o.Ht(t,e)}),o})},t.prototype.jr=function(t,e,n){return function(t){return as.Et(t.path)&&null===t.collectionGroup&&0===t.filters.length}(e)?this.ec(t,e.path):ga(e)?this.nc(t,e,n):this.sc(t,e,n)},t.prototype.ec=function(t,e){return this.Jo(t,new as(e)).next(function(t){var e=yu();return t instanceof Fs&&(e=e.Ht(t.key,t)),e})},t.prototype.nc=function(t,e,n){var r=this,i=e.collectionGroup,o=yu();return this.Ii.Ks(t,i).next(function(s){return vc.forEach(s,function(s){var a=function(t,e){return new ua(e,null,t.Nt.slice(),t.filters.slice(),t.limit,t.limitType,t.startAt,t.endAt)}(e,s.child(i));return r.sc(t,a,n).next(function(t){t.forEach(function(t,e){o=o.Ht(t,e)})})}).next(function(){return o})})},t.prototype.sc=function(t,e,n){var r,i,o=this;return this.Eo.jr(t,e,n).next(function(n){return r=n,o.Ho.xi(t,e)}).next(function(e){return o.ic(t,i=e,r).next(function(t){r=t;for(var e=0,n=i;e<n.length;e++)for(var o=n[e],s=0,a=o.mutations;s<a.length;s++){var u=a[s],c=u.key,l=r.get(c),h=Wa(u,l,l,o.Ds);r=h instanceof Fs?r.Ht(c,h):r.remove(c)}})}).next(function(){return r.forEach(function(t,n){Oa(e,n)||(r=r.remove(t))}),r})},t.prototype.ic=function(t,e,n){for(var r=Su(),i=0,o=e;i<o.length;i++)for(var s=0,a=o[i].mutations;s<a.length;s++){var u=a[s];u instanceof Za&&null===n.get(u.key)&&(r=r.add(u.key))}var c=n;return this.Eo.getEntries(t,r).next(function(t){return t.forEach(function(t,e){null!==e&&e instanceof Fs&&(c=c.Ht(t,e))}),c})},t}(),ih=function(){function t(t,e,n,r){this.targetId=t,this.fromCache=e,this.rc=n,this.oc=r}return t.cc=function(e,n){for(var r=Su(),i=Su(),o=0,s=n.docChanges;o<s.length;o++){var a=s[o];switch(a.type){case 0:r=r.add(a.doc.key);break;case 1:i=i.add(a.doc.key)}}return new t(e,n.fromCache,r,i)},t}(),oh=function(){function t(){}return t.prototype.ac=function(t){this.uc=t},t.prototype.jr=function(t,e,n,r){var i=this;return function(t){return 0===t.filters.length&&null===t.limit&&null==t.startAt&&null==t.endAt&&(0===t.Nt.length||1===t.Nt.length&&t.Nt[0].field.ht())}(e)||n.isEqual(ns.min())?this.hc(t,e):this.uc.Zo(t,r).next(function(o){var s=i.lc(e,o);return(ha(e)||fa(e))&&i._c(e.limitType,s,r,n)?i.hc(t,e):(Eo()<=ve.a.DEBUG&&To("QueryEngine","Re-using previous result from %s to execute query: %s",n.toString(),_a(e)),i.uc.jr(t,e,n).next(function(t){return s.forEach(function(e){t=t.Ht(e.key,e)}),t}))})},t.prototype.lc=function(t,e){var n=new du(Sa(t));return e.forEach(function(e,r){r instanceof Fs&&Oa(t,r)&&(n=n.add(r))}),n},t.prototype._c=function(t,e,n,r){if(n.size!==e.size)return!0;var i="F"===t?e.last():e.first();return!!i&&(i.hasPendingWrites||i.version.u(r)>0)},t.prototype.hc=function(t,e){return Eo()<=ve.a.DEBUG&&To("QueryEngine","Using full collection scan to execute query:",_a(e)),this.uc.jr(t,e,ns.min())},t}(),sh=function(){function t(t,e,n,r){this.persistence=t,this.fc=e,this.Kt=r,this.dc=new lu(Mo),this.wc=new El(function(t){return Bs(t)},Gs),this.Ec=ns.min(),this.Ho=t.Wo(n),this.Tc=t.kr(),this.wo=t.Cr(),this.Ic=new rh(this.Tc,this.Ho,this.persistence.jo()),this.To=t.Go(),this.fc.ac(this.Ic)}return t.prototype.Ar=function(t){var e=this;return this.persistence.runTransaction("Collect garbage","readwrite-primary",function(n){return t.br(n,e.dc)})},t}();function ah(t,e,n,r){return new sh(t,e,n,r)}function uh(t,e){return Object(So.b)(this,void 0,void 0,function(){var n,r,i,o;return Object(So.d)(this,function(s){switch(s.label){case 0:return n=No(t),r=n.Ho,i=n.Ic,[4,n.persistence.runTransaction("Handle user change","readonly",function(t){var o;return n.Ho.vi(t).next(function(s){return o=s,r=n.persistence.Wo(e),i=new rh(n.Tc,r,n.persistence.jo()),r.vi(t)}).next(function(e){for(var n=[],r=[],s=Su(),a=0,u=o;a<u.length;a++){var c=u[a];n.push(c.batchId);for(var l=0,h=c.mutations;l<h.length;l++)s=s.add(h[l].key)}for(var f=0,d=e;f<d.length;f++){var p=d[f];r.push(p.batchId);for(var g=0,b=p.mutations;g<b.length;g++)s=s.add(b[g].key)}return i.Zo(t,s).next(function(t){return{mc:t,Ac:n,Rc:r}})})})];case 1:return o=s.sent(),[2,(n.Ho=r,n.Ic=i,n.fc.ac(n.Ic),o)]}})})}function ch(t,e){var n=No(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",function(t){var r=e.batch.keys(),i=n.Tc.Or({Gr:!0});return function(t,e,n,r){var i=n.batch,o=i.keys(),s=vc.resolve();return o.forEach(function(t){s=s.next(function(){return r.di(e,t)}).next(function(e){var o=e,s=n.ks.get(t);jo(null!==s),(!o||o.version.u(s)<0)&&(o=i.Cs(t,o,n))&&r.hi(o,n.Os)})}),s.next(function(){return t.Ho.Ni(e,i)})}(n,t,e,i).next(function(){return i.apply(t)}).next(function(){return n.Ho.ki(t)}).next(function(){return n.Ic.Zo(t,r)})})}function lh(t){var e=No(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",function(t){return e.wo.Wi(t)})}function hh(t,e){var n=No(t),r=e.Mt,i=n.dc;return n.persistence.runTransaction("Apply remote event","readwrite-primary",function(t){var o=n.Tc.Or({Gr:!0});i=n.dc;var s=[];e.Oe.forEach(function(e,o){var a=i.get(o);if(a){s.push(n.wo.rr(t,e.Ke,o).next(function(){return n.wo.sr(t,e.Ue,o)}));var u=e.resumeToken;if(u.o()>0){var c=a.$t(u,r).Lt(t.Ss);i=i.Ht(o,c),function(t,e,n){return jo(e.resumeToken.o()>0),0===t.resumeToken.o()||e.Mt.j()-t.Mt.j()>=3e8||n.Ue.size+n.Qe.size+n.Ke.size>0}(a,c,e)&&s.push(n.wo.Yi(t,c))}}});var a=bu();if(e.Me.forEach(function(r,i){e.Le.has(r)&&s.push(n.persistence.mi.Mr(t,r))}),s.push(fh(t,o,e.Me,r,void 0).next(function(t){a=t})),!r.isEqual(ns.min())){var u=n.wo.Wi(t).next(function(e){return n.wo.Gi(t,t.Ss,r)});s.push(u)}return vc.$n(s).next(function(){return o.apply(t)}).next(function(){return n.Ic.tc(t,a)})}).then(function(t){return n.dc=i,t})}function fh(t,e,n,r,i){var o=Su();return n.forEach(function(t){return o=o.add(t)}),e.getEntries(t,o).next(function(t){var o=bu();return n.forEach(function(n,s){var a=t.get(n),u=(null==i?void 0:i.get(n))||r;s instanceof Us&&s.version.isEqual(ns.min())?(e.fi(n,u),o=o.Ht(n,s)):null==a||s.version.u(a.version)>0||0===s.version.u(a.version)&&a.hasPendingWrites?(e.hi(s,u),o=o.Ht(n,s)):To("LocalStore","Ignoring outdated watch update for ",n,". Current version:",a.version," Watch version:",s.version)}),o})}function dh(t,e){var n=No(t);return n.persistence.runTransaction("Get next mutation batch","readonly",function(t){return void 0===e&&(e=-1),n.Ho.pi(t,e)})}function ph(t,e){var n=No(t);return n.persistence.runTransaction("Allocate target","readwrite",function(t){var r;return n.wo.nr(t,e).next(function(i){return i?vc.resolve(r=i):n.wo.Ui(t).next(function(i){return r=new Ea(e,i,0,t.Ss),n.wo.zi(t,r).next(function(){return r})})})}).then(function(t){var r=n.dc.get(t.targetId);return(null===r||t.Mt.u(r.Mt)>0)&&(n.dc=n.dc.Ht(t.targetId,t),n.wc.set(e,t.targetId)),t})}function gh(t,e,n){return Object(So.b)(this,void 0,void 0,function(){var r,i,o,s;return Object(So.d)(this,function(a){switch(a.label){case 0:r=No(t),i=r.dc.get(e),o=n?"readwrite":"readwrite-primary",a.label=1;case 1:return a.trys.push([1,4,,5]),n?[3,3]:[4,r.persistence.runTransaction("Release target",o,function(t){return r.persistence.mi.removeTarget(t,i)})];case 2:a.sent(),a.label=3;case 3:return[3,5];case 4:if(!Sc(s=a.sent()))throw s;return To("LocalStore","Failed to update sequence numbers for target "+e+": "+s),[3,5];case 5:return r.dc=r.dc.remove(e),r.wc.delete(i.target),[2]}})})}function bh(t,e,n){var r=No(t),i=ns.min(),o=Su();return r.persistence.runTransaction("Execute query","readonly",function(t){return function(t,e,n){var r=No(t),i=r.wc.get(n);return void 0!==i?vc.resolve(r.dc.get(i)):r.wo.nr(e,n)}(r,t,ma(e)).next(function(e){if(e)return i=e.lastLimboFreeSnapshotVersion,r.wo.ar(t,e.targetId).next(function(t){o=t})}).next(function(){return r.fc.jr(t,e,n?i:ns.min(),n?o:Su())}).next(function(t){return{documents:t,Pc:o}})})}function mh(t,e){var n=No(t),r=No(n.wo),i=n.dc.get(e);return i?Promise.resolve(i.target):n.persistence.runTransaction("Get target data","readonly",function(t){return r.Dn(t,e).next(function(t){return t?t.target:null})})}function vh(t){var e=No(t);return e.persistence.runTransaction("Get new document changes","readonly",function(t){return function(t,e,n){var r=No(t),i=bu(),o=al(n),s=Jl(e),a=IDBKeyRange.lowerBound(o,!0);return s.ls({index:Bc.readTimeIndex,range:a},function(t,e){var n=ol(r.Kt,e);i=i.Ht(n.key,n),o=e.readTime}).next(function(){return{gs:i,readTime:ul(o)}})}(e.Tc,t,e.Ec)}).then(function(t){var n=t.gs;return e.Ec=t.readTime,n})}function yh(t){return Object(So.b)(this,void 0,void 0,function(){var e;return Object(So.d)(this,function(n){return[2,(e=No(t)).persistence.runTransaction("Synchronize last document change read time","readonly",function(t){return function(t){var e=Jl(t),n=ns.min();return e.ls({index:Bc.readTimeIndex,reverse:!0},function(t,e,r){e.readTime&&(n=ul(e.readTime)),r.done()}).next(function(){return n})}(t)}).then(function(t){e.Ec=t})]})})}function wh(t,e,n,r){return Object(So.b)(this,void 0,void 0,function(){var i,o,s,a,u,c,l,h,f,d;return Object(So.d)(this,function(p){switch(p.label){case 0:for(i=No(t),o=Su(),s=bu(),a=_u(),u=0,c=n;u<c.length;u++)h=e.yc((l=c[u]).metadata.name),l.document&&(o=o.add(h)),s=s.Ht(h,e.gc(l)),a=a.Ht(h,e.Vc(l.metadata.readTime));return f=i.Tc.Or({Gr:!0}),[4,ph(i,function(t){return ma(la(is.ct("__bundle__/docs/"+t)))}(r))];case 1:return d=p.sent(),[2,i.persistence.runTransaction("Apply bundle documents","readwrite",function(t){return fh(t,f,s,ns.min(),a).next(function(e){return f.apply(t),e}).next(function(e){return i.wo.Zi(t,d.targetId).next(function(){return i.wo.sr(t,o,d.targetId)}).next(function(){return i.Ic.tc(t,e)})})})]}})})}function _h(t,e,n){return void 0===n&&(n=Su()),Object(So.b)(this,void 0,void 0,function(){var r,i;return Object(So.d)(this,function(o){switch(o.label){case 0:return[4,ph(t,ma(pl(e.bundledQuery)))];case 1:return r=o.sent(),[2,(i=No(t)).persistence.runTransaction("Save named query","readwrite",function(t){var o=Bu(e.readTime);if(r.Mt.u(o)>=0)return i.To.qs(t,e);var s=r.$t(Lo.h,o);return i.dc=i.dc.Ht(s.targetId,s),i.wo.Yi(t,s).next(function(){return i.wo.Zi(t,r.targetId)}).next(function(){return i.wo.sr(t,n,r.targetId)}).next(function(){return i.To.qs(t,e)})})]}})})}var Oh=function(){function t(t){this.Kt=t,this.bc=new Map,this.vc=new Map}return t.prototype.Ls=function(t,e){return vc.resolve(this.bc.get(e))},t.prototype.$s=function(t,e){var n;return this.bc.set(e.id,{id:(n=e).id,version:n.version,createTime:Bu(n.createTime)}),vc.resolve()},t.prototype.Bs=function(t,e){return vc.resolve(this.vc.get(e))},t.prototype.qs=function(t,e){return this.vc.set(e.name,function(t){return{name:t.name,query:pl(t.bundledQuery),readTime:Bu(t.readTime)}}(e)),vc.resolve()},t}(),Sh=function(){function t(){this.Sc=new du(Ch.Dc),this.Cc=new du(Ch.xc)}return t.prototype.nt=function(){return this.Sc.nt()},t.prototype.ir=function(t,e){var n=new Ch(t,e);this.Sc=this.Sc.add(n),this.Cc=this.Cc.add(n)},t.prototype.Nc=function(t,e){var n=this;t.forEach(function(t){return n.ir(t,e)})},t.prototype.cr=function(t,e){this.Fc(new Ch(t,e))},t.prototype.Oc=function(t,e){var n=this;t.forEach(function(t){return n.cr(t,e)})},t.prototype.kc=function(t){var e=this,n=new as(new is([])),r=new Ch(n,t),i=new Ch(n,t+1),o=[];return this.Cc.Ae([r,i],function(t){e.Fc(t),o.push(t.key)}),o},t.prototype.Mc=function(){var t=this;this.Sc.forEach(function(e){return t.Fc(e)})},t.prototype.Fc=function(t){this.Sc=this.Sc.delete(t),this.Cc=this.Cc.delete(t)},t.prototype.Lc=function(t){var e=new as(new is([])),n=new Ch(e,t),r=new Ch(e,t+1),i=Su();return this.Cc.Ae([n,r],function(t){i=i.add(t.key)}),i},t.prototype.Mi=function(t){var e=new Ch(t,0),n=this.Sc.Pe(e);return null!==n&&t.isEqual(n.key)},t}(),Ch=function(){function t(t,e){this.key=t,this.$c=e}return t.Dc=function(t,e){return as.J(t.key,e.key)||Mo(t.$c,e.$c)},t.xc=function(t,e){return Mo(t.$c,e.$c)||as.J(t.key,e.key)},t}(),Eh=function(){function t(t,e){this.Ii=t,this.mi=e,this.Ho=[],this.Bc=1,this.qc=new du(Ch.Dc)}return t.prototype.Pi=function(t){return vc.resolve(0===this.Ho.length)},t.prototype.yi=function(t,e,n,r){var i=this.Bc;this.Bc++;var o=new nl(i,e,n,r);this.Ho.push(o);for(var s=0,a=r;s<a.length;s++){var u=a[s];this.qc=this.qc.add(new Ch(u.key,i)),this.Ii.Qs(t,u.key.path.Z())}return vc.resolve(o)},t.prototype.gi=function(t,e){return vc.resolve(this.Uc(e))},t.prototype.pi=function(t,e){var n=this.Qc(e+1),r=n<0?0:n;return vc.resolve(this.Ho.length>r?this.Ho[r]:null)},t.prototype.bi=function(){return vc.resolve(0===this.Ho.length?-1:this.Bc-1)},t.prototype.vi=function(t){return vc.resolve(this.Ho.slice())},t.prototype.Si=function(t,e){var n=this,r=new Ch(e,0),i=new Ch(e,Number.POSITIVE_INFINITY),o=[];return this.qc.Ae([r,i],function(t){var e=n.Uc(t.$c);o.push(e)}),vc.resolve(o)},t.prototype.Di=function(t,e){var n=this,r=new du(Mo);return e.forEach(function(t){var e=new Ch(t,0),i=new Ch(t,Number.POSITIVE_INFINITY);n.qc.Ae([e,i],function(t){r=r.add(t.$c)})}),vc.resolve(this.Kc(r))},t.prototype.xi=function(t,e){var n=e.path,r=n.length+1,i=n;as.Et(i)||(i=i.child(""));var o=new Ch(new as(i),0),s=new du(Mo);return this.qc.Re(function(t){var e=t.key.path;return!!n.st(e)&&(e.length===r&&(s=s.add(t.$c)),!0)},o),vc.resolve(this.Kc(s))},t.prototype.Kc=function(t){var e=this,n=[];return t.forEach(function(t){var r=e.Uc(t);null!==r&&n.push(r)}),n},t.prototype.Ni=function(t,e){var n=this;jo(0===this.Wc(e.batchId,"removed")),this.Ho.shift();var r=this.qc;return vc.forEach(e.mutations,function(i){var o=new Ch(i.key,e.batchId);return r=r.delete(o),n.mi.Oi(t,i.key)}).next(function(){n.qc=r})},t.prototype.Fi=function(t){},t.prototype.Mi=function(t,e){var n=new Ch(e,0),r=this.qc.Pe(n);return vc.resolve(e.isEqual(r&&r.key))},t.prototype.ki=function(t){return vc.resolve()},t.prototype.Wc=function(t,e){return this.Qc(t)},t.prototype.Qc=function(t){return 0===this.Ho.length?0:t-this.Ho[0].batchId},t.prototype.Uc=function(t){var e=this.Qc(t);return e<0||e>=this.Ho.length?null:this.Ho[e]},t}(),Th=function(){function t(t,e){this.Ii=t,this.jc=e,this.docs=new lu(as.J),this.size=0}return t.prototype.hi=function(t,e,n){var r=e.key,i=this.docs.get(r),o=i?i.size:0,s=this.jc(e);return this.docs=this.docs.Ht(r,{_i:e,size:s,readTime:n}),this.size+=s-o,this.Ii.Qs(t,r.path.Z())},t.prototype.fi=function(t){var e=this.docs.get(t);e&&(this.docs=this.docs.remove(t),this.size-=e.size)},t.prototype.di=function(t,e){var n=this.docs.get(e);return vc.resolve(n?n._i:null)},t.prototype.getEntries=function(t,e){var n=this,r=mu();return e.forEach(function(t){var e=n.docs.get(t);r=r.Ht(t,e?e._i:null)}),vc.resolve(r)},t.prototype.jr=function(t,e,n){for(var r=yu(),i=new as(e.path.child("")),o=this.docs.ne(i);o.ae();){var s=o.ce(),a=s.value,u=a._i,c=a.readTime;if(!e.path.st(s.key.path))break;c.u(n)<=0||u instanceof Fs&&Oa(e,u)&&(r=r.Ht(u.key,u))}return vc.resolve(r)},t.prototype.Gc=function(t,e){return vc.forEach(this.docs,function(t){return e(t)})},t.prototype.Or=function(t){return new Ih(this)},t.prototype.Lr=function(t){return vc.resolve(this.size)},t}(),Ih=function(t){function e(e){var n=this;return(n=t.call(this)||this).zr=e,n}return Object(So.c)(e,t),e.prototype.Ti=function(t){var e=this,n=[];return this.ci.forEach(function(r,i){i&&i._i?n.push(e.zr.hi(t,i._i,e.ui(r))):e.zr.fi(r)}),vc.$n(n)},e.prototype.wi=function(t,e){return this.zr.di(t,e)},e.prototype.Ei=function(t,e){return this.zr.getEntries(t,e)},e}(Tl),xh=function(){function t(t){this.persistence=t,this.zc=new El(function(t){return Bs(t)},Gs),this.lastRemoteSnapshotVersion=ns.min(),this.highestTargetId=0,this.Hc=0,this.Jc=new Sh,this.targetCount=0,this.Yc=Dl.Bi()}return t.prototype.mn=function(t,e){return this.zc.forEach(function(t,n){return e(n)}),vc.resolve()},t.prototype.Wi=function(t){return vc.resolve(this.lastRemoteSnapshotVersion)},t.prototype.ji=function(t){return vc.resolve(this.Hc)},t.prototype.Ui=function(t){return this.highestTargetId=this.Yc.next(),vc.resolve(this.highestTargetId)},t.prototype.Gi=function(t,e,n){return n&&(this.lastRemoteSnapshotVersion=n),e>this.Hc&&(this.Hc=e),vc.resolve()},t.prototype.Hi=function(t){this.zc.set(t.target,t);var e=t.targetId;e>this.highestTargetId&&(this.Yc=new Dl(e),this.highestTargetId=e),t.sequenceNumber>this.Hc&&(this.Hc=t.sequenceNumber)},t.prototype.zi=function(t,e){return this.Hi(e),this.targetCount+=1,vc.resolve()},t.prototype.Yi=function(t,e){return this.Hi(e),vc.resolve()},t.prototype.Xi=function(t,e){return this.zc.delete(e.target),this.Jc.kc(e.targetId),this.targetCount-=1,vc.resolve()},t.prototype.tr=function(t,e,n){var r=this,i=0,o=[];return this.zc.forEach(function(s,a){a.sequenceNumber<=e&&null===n.get(a.targetId)&&(r.zc.delete(s),o.push(r.Zi(t,a.targetId)),i++)}),vc.$n(o).next(function(){return i})},t.prototype.er=function(t){return vc.resolve(this.targetCount)},t.prototype.nr=function(t,e){var n=this.zc.get(e)||null;return vc.resolve(n)},t.prototype.sr=function(t,e,n){return this.Jc.Nc(e,n),vc.resolve()},t.prototype.rr=function(t,e,n){this.Jc.Oc(e,n);var r=this.persistence.mi,i=[];return r&&e.forEach(function(e){i.push(r.Oi(t,e))}),vc.$n(i)},t.prototype.Zi=function(t,e){return this.Jc.kc(e),vc.resolve()},t.prototype.ar=function(t,e){var n=this.Jc.Lc(e);return vc.resolve(n)},t.prototype.Mi=function(t,e){return vc.resolve(this.Jc.Mi(e))},t}(),Ah=function(){function t(t,e){var n=this;this.Xc={},this.ro=new ts(0),this.oo=!1,this.oo=!0,this.mi=t(this),this.wo=new xh(this),this.Ii=new vl,this.Eo=function(t,e){return new Th(t,function(t){return n.mi.Zc(t)})}(this.Ii),this.Kt=new il(e),this.To=new Oh(this.Kt)}return t.prototype.start=function(){return Promise.resolve()},t.prototype.$o=function(){return this.oo=!1,Promise.resolve()},Object.defineProperty(t.prototype,"Ir",{get:function(){return this.oo},enumerable:!1,configurable:!0}),t.prototype.Vo=function(){},t.prototype.po=function(){},t.prototype.jo=function(){return this.Ii},t.prototype.Wo=function(t){var e=this.Xc[t.R()];return e||(e=new Eh(this.Ii,this.mi),this.Xc[t.R()]=e),e},t.prototype.Cr=function(){return this.wo},t.prototype.kr=function(){return this.Eo},t.prototype.Go=function(){return this.To},t.prototype.runTransaction=function(t,e,n){var r=this;To("MemoryPersistence","Starting transaction:",t);var i=new kh(this.ro.next());return this.mi.ta(),n(i).next(function(t){return r.mi.ea(i).next(function(){return t})}).Mn().then(function(t){return i.bs(),t})},t.prototype.na=function(t,e){return vc.Bn(Object.values(this.Xc).map(function(n){return function(){return n.Mi(t,e)}}))},t}(),kh=function(t){function e(e){var n=this;return(n=t.call(this)||this).Ss=e,n}return Object(So.c)(e,t),e}(Nc),jh=function(){function t(t){this.persistence=t,this.sa=new Sh,this.ia=null}return t.ra=function(e){return new t(e)},Object.defineProperty(t.prototype,"oa",{get:function(){if(this.ia)return this.ia;throw ko()},enumerable:!1,configurable:!0}),t.prototype.ir=function(t,e,n){return this.sa.ir(n,e),this.oa.delete(n.toString()),vc.resolve()},t.prototype.cr=function(t,e,n){return this.sa.cr(n,e),this.oa.add(n.toString()),vc.resolve()},t.prototype.Oi=function(t,e){return this.oa.add(e.toString()),vc.resolve()},t.prototype.removeTarget=function(t,e){var n=this;this.sa.kc(e.targetId).forEach(function(t){return n.oa.add(t.toString())});var r=this.persistence.Cr();return r.ar(t,e.targetId).next(function(t){t.forEach(function(t){return n.oa.add(t.toString())})}).next(function(){return r.Xi(t,e)})},t.prototype.ta=function(){this.ia=new Set},t.prototype.ea=function(t){var e=this,n=this.persistence.kr().Or();return vc.forEach(this.oa,function(r){var i=as.ft(r);return e.ca(t,i).next(function(t){t||n.fi(i)})}).next(function(){return e.ia=null,n.apply(t)})},t.prototype.Mr=function(t,e){var n=this;return this.ca(t,e).next(function(t){t?n.oa.delete(e.toString()):n.oa.add(e.toString())})},t.prototype.Zc=function(t){return 0},t.prototype.ca=function(t,e){var n=this;return vc.Bn([function(){return vc.resolve(n.sa.Mi(e))},function(){return n.persistence.Cr().Mi(t,e)},function(){return n.persistence.na(t,e)}])},t}();function Nh(t,e){return"firestore_clients_"+t+"_"+e}function Ph(t,e,n){var r="firestore_mutations_"+t+"_"+n;return e.A()&&(r+="_"+e.uid),r}function Dh(t,e){return"firestore_targets_"+t+"_"+e}var Mh=function(){function t(t,e,n,r){this.user=t,this.batchId=e,this.state=n,this.error=r}return t.aa=function(e,n,r){var i=JSON.parse(r),o="object"==typeof i&&-1!==["pending","acknowledged","rejected"].indexOf(i.state)&&(void 0===i.error||"object"==typeof i.error),s=void 0;return o&&i.error&&(o="string"==typeof i.error.message&&"string"==typeof i.error.code)&&(s=new Uo(i.error.code,i.error.message)),o?new t(e,n,i.state,s):(Io("SharedClientState","Failed to parse mutation state for ID '"+n+"': "+r),null)},t.prototype.ua=function(){var t={state:this.state,updateTimeMs:Date.now()};return this.error&&(t.error={code:this.error.code,message:this.error.message}),JSON.stringify(t)},t}(),Rh=function(){function t(t,e,n){this.targetId=t,this.state=e,this.error=n}return t.aa=function(e,n){var r=JSON.parse(n),i="object"==typeof r&&-1!==["not-current","current","rejected"].indexOf(r.state)&&(void 0===r.error||"object"==typeof r.error),o=void 0;return i&&r.error&&(i="string"==typeof r.error.message&&"string"==typeof r.error.code)&&(o=new Uo(r.error.code,r.error.message)),i?new t(e,r.state,o):(Io("SharedClientState","Failed to parse target state for ID '"+e+"': "+n),null)},t.prototype.ua=function(){var t={state:this.state,updateTimeMs:Date.now()};return this.error&&(t.error={code:this.error.code,message:this.error.message}),JSON.stringify(t)},t}(),Vh=function(){function t(t,e){this.clientId=t,this.activeTargetIds=e}return t.aa=function(e,n){for(var r=JSON.parse(n),i="object"==typeof r&&r.activeTargetIds instanceof Array,o=Eu(),s=0;i&&s<r.activeTargetIds.length;++s)i=_s(r.activeTargetIds[s]),o=o.add(r.activeTargetIds[s]);return i?new t(e,o):(Io("SharedClientState","Failed to parse client data for instance '"+e+"': "+n),null)},t}(),Lh=function(){function t(t,e){this.clientId=t,this.onlineState=e}return t.aa=function(e){var n=JSON.parse(e);return"object"==typeof n&&-1!==["Unknown","Online","Offline"].indexOf(n.onlineState)&&"string"==typeof n.clientId?new t(n.clientId,n.onlineState):(Io("SharedClientState","Failed to parse online state: "+e),null)},t}(),Fh=function(){function t(){this.activeTargetIds=Eu()}return t.prototype.ha=function(t){this.activeTargetIds=this.activeTargetIds.add(t)},t.prototype.la=function(t){this.activeTargetIds=this.activeTargetIds.delete(t)},t.prototype.ua=function(){var t={activeTargetIds:this.activeTargetIds.rt(),updateTimeMs:Date.now()};return JSON.stringify(t)},t}(),Uh=function(){function t(t,e,n,r,i){this.window=t,this.no=e,this.persistenceKey=n,this._a=r,this.fa=null,this.da=null,this.L=null,this.wa=this.Ea.bind(this),this.Ta=new lu(Mo),this.Ir=!1,this.Ia=[];var o=n.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=i,this.ma=Nh(this.persistenceKey,this._a),this.Aa=function(t){return"firestore_sequence_number_"+t}(this.persistenceKey),this.Ta=this.Ta.Ht(this._a,new Fh),this.Ra=new RegExp("^firestore_clients_"+o+"_([^_]*)$"),this.Pa=new RegExp("^firestore_mutations_"+o+"_(\\d+)(?:_(.*))?$"),this.ya=new RegExp("^firestore_targets_"+o+"_(\\d+)$"),this.ga=function(t){return"firestore_online_state_"+t}(this.persistenceKey),this.Va=function(t){return"firestore_bundle_loaded_"+t}(this.persistenceKey),this.window.addEventListener("storage",this.wa)}return t.Wn=function(t){return!(!t||!t.localStorage)},t.prototype.start=function(){return Object(So.b)(this,void 0,void 0,function(){var t,e,n,r,i,o,s,a,u,c,l=this;return Object(So.d)(this,function(h){switch(h.label){case 0:return[4,this.fa.Ko()];case 1:for(t=h.sent(),e=0,n=t;e<n.length;e++)(r=n[e])!==this._a&&(i=this.getItem(Nh(this.persistenceKey,r)))&&(o=Vh.aa(r,i))&&(this.Ta=this.Ta.Ht(o.clientId,o));for(this.pa(),(s=this.storage.getItem(this.ga))&&(a=this.ba(s))&&this.va(a),u=0,c=this.Ia;u<c.length;u++)this.Ea(c[u]);return this.Ia=[],this.window.addEventListener("unload",function(){return l.$o()}),this.Ir=!0,[2]}})})},t.prototype.q=function(t){this.setItem(this.Aa,JSON.stringify(t))},t.prototype.Sa=function(){return this.Da(this.Ta)},t.prototype.Ca=function(t){var e=!1;return this.Ta.forEach(function(n,r){r.activeTargetIds.has(t)&&(e=!0)}),e},t.prototype.xa=function(t){this.Na(t,"pending")},t.prototype.Fa=function(t,e,n){this.Na(t,e,n),this.Oa(t)},t.prototype.ka=function(t){var e="not-current";if(this.Ca(t)){var n=this.storage.getItem(Dh(this.persistenceKey,t));if(n){var r=Rh.aa(t,n);r&&(e=r.state)}}return this.Ma.ha(t),this.pa(),e},t.prototype.La=function(t){this.Ma.la(t),this.pa()},t.prototype.$a=function(t){return this.Ma.activeTargetIds.has(t)},t.prototype.Ba=function(t){this.removeItem(Dh(this.persistenceKey,t))},t.prototype.qa=function(t,e,n){this.Ua(t,e,n)},t.prototype.Qa=function(t,e,n){var r=this;e.forEach(function(t){r.Oa(t)}),this.currentUser=t,n.forEach(function(t){r.xa(t)})},t.prototype.Ka=function(t){this.Wa(t)},t.prototype.ja=function(){this.Ga()},t.prototype.$o=function(){this.Ir&&(this.window.removeEventListener("storage",this.wa),this.removeItem(this.ma),this.Ir=!1)},t.prototype.getItem=function(t){var e=this.storage.getItem(t);return To("SharedClientState","READ",t,e),e},t.prototype.setItem=function(t,e){To("SharedClientState","SET",t,e),this.storage.setItem(t,e)},t.prototype.removeItem=function(t){To("SharedClientState","REMOVE",t),this.storage.removeItem(t)},t.prototype.Ea=function(t){var e=this,n=t;if(n.storageArea===this.storage){if(To("SharedClientState","EVENT",n.key,n.newValue),n.key===this.ma)return void Io("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.no.vo(function(){return Object(So.b)(e,void 0,void 0,function(){var t,e,r,i,o,s;return Object(So.d)(this,function(a){if(this.Ir){if(null!==n.key)if(this.Ra.test(n.key)){if(null==n.newValue)return t=this.za(n.key),[2,this.Ha(t,null)];if(e=this.Ja(n.key,n.newValue))return[2,this.Ha(e.clientId,e)]}else if(this.Pa.test(n.key)){if(null!==n.newValue&&(r=this.Ya(n.key,n.newValue)))return[2,this.Xa(r)]}else if(this.ya.test(n.key)){if(null!==n.newValue&&(i=this.Za(n.key,n.newValue)))return[2,this.tu(i)]}else if(n.key===this.ga){if(null!==n.newValue&&(o=this.ba(n.newValue)))return[2,this.va(o)]}else if(n.key===this.Aa)(s=function(t){var e=ts.U;if(null!=t)try{var n=JSON.parse(t);jo("number"==typeof n),e=n}catch(t){Io("SharedClientState","Failed to read sequence number from WebStorage",t)}return e}(n.newValue))!==ts.U&&this.L(s);else if(n.key===this.Va)return[2,this.fa.eu()]}else this.Ia.push(n);return[2]})})})}},Object.defineProperty(t.prototype,"Ma",{get:function(){return this.Ta.get(this._a)},enumerable:!1,configurable:!0}),t.prototype.pa=function(){this.setItem(this.ma,this.Ma.ua())},t.prototype.Na=function(t,e,n){var r=new Mh(this.currentUser,t,e,n),i=Ph(this.persistenceKey,this.currentUser,t);this.setItem(i,r.ua())},t.prototype.Oa=function(t){var e=Ph(this.persistenceKey,this.currentUser,t);this.removeItem(e)},t.prototype.Wa=function(t){this.storage.setItem(this.ga,JSON.stringify({clientId:this._a,onlineState:t}))},t.prototype.Ua=function(t,e,n){var r=Dh(this.persistenceKey,t),i=new Rh(t,e,n);this.setItem(r,i.ua())},t.prototype.Ga=function(){this.setItem(this.Va,"value-not-used")},t.prototype.za=function(t){var e=this.Ra.exec(t);return e?e[1]:null},t.prototype.Ja=function(t,e){var n=this.za(t);return Vh.aa(n,e)},t.prototype.Ya=function(t,e){var n=this.Pa.exec(t),r=Number(n[1]);return Mh.aa(new Jo(void 0!==n[2]?n[2]:null),r,e)},t.prototype.Za=function(t,e){var n=this.ya.exec(t),r=Number(n[1]);return Rh.aa(r,e)},t.prototype.ba=function(t){return Lh.aa(t)},t.prototype.Xa=function(t){return Object(So.b)(this,void 0,void 0,function(){return Object(So.d)(this,function(e){return t.user.uid===this.currentUser.uid?[2,this.fa.nu(t.batchId,t.state,t.error)]:(To("SharedClientState","Ignoring mutation for non-active user "+t.user.uid),[2])})})},t.prototype.tu=function(t){return this.fa.su(t.targetId,t.state,t.error)},t.prototype.Ha=function(t,e){var n=this,r=e?this.Ta.Ht(t,e):this.Ta.remove(t),i=this.Da(this.Ta),o=this.Da(r),s=[],a=[];return o.forEach(function(t){i.has(t)||s.push(t)}),i.forEach(function(t){o.has(t)||a.push(t)}),this.fa.iu(s,a).then(function(){n.Ta=r})},t.prototype.va=function(t){this.Ta.get(t.clientId)&&this.da(t.onlineState)},t.prototype.Da=function(t){var e=Eu();return t.forEach(function(t,n){e=e.ye(n.activeTargetIds)}),e},t}(),qh=function(){function t(){this.ru=new Fh,this.ou={},this.da=null,this.L=null}return t.prototype.xa=function(t){},t.prototype.Fa=function(t,e,n){},t.prototype.ka=function(t){return this.ru.ha(t),this.ou[t]||"not-current"},t.prototype.qa=function(t,e,n){this.ou[t]=e},t.prototype.La=function(t){this.ru.la(t)},t.prototype.$a=function(t){return this.ru.activeTargetIds.has(t)},t.prototype.Ba=function(t){delete this.ou[t]},t.prototype.Sa=function(){return this.ru.activeTargetIds},t.prototype.Ca=function(t){return this.ru.activeTargetIds.has(t)},t.prototype.start=function(){return this.ru=new Fh,Promise.resolve()},t.prototype.Qa=function(t,e,n){},t.prototype.Ka=function(t){},t.prototype.$o=function(){},t.prototype.q=function(t){},t.prototype.ja=function(){},t}(),Hh=function(){function t(){}return t.prototype.cu=function(t){},t.prototype.$o=function(){},t}(),zh=function(){function t(){var t=this;this.au=function(){return t.uu()},this.hu=function(){return t.lu()},this._u=[],this.fu()}return t.prototype.cu=function(t){this._u.push(t)},t.prototype.$o=function(){window.removeEventListener("online",this.au),window.removeEventListener("offline",this.hu)},t.prototype.fu=function(){window.addEventListener("online",this.au),window.addEventListener("offline",this.hu)},t.prototype.uu=function(){To("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(var t=0,e=this._u;t<e.length;t++)(0,e[t])(0)},t.prototype.lu=function(){To("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(var t=0,e=this._u;t<e.length;t++)(0,e[t])(1)},t.Wn=function(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener},t}(),Bh={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery"},Gh=function(){function t(t){this.du=t.du,this.wu=t.wu}return t.prototype.Eu=function(t){this.Tu=t},t.prototype.Iu=function(t){this.mu=t},t.prototype.onMessage=function(t){this.Au=t},t.prototype.close=function(){this.wu()},t.prototype.send=function(t){this.du(t)},t.prototype.Ru=function(){this.Tu()},t.prototype.Pu=function(t){this.mu(t)},t.prototype.yu=function(t){this.Au(t)},t}(),$h=function(t){function e(e){var n=this;return(n=t.call(this,e)||this).forceLongPolling=e.forceLongPolling,n.I=e.I,n}return Object(So.c)(e,t),e.prototype.Du=function(t,e,n,r){return new Promise(function(i,o){var s=new Oo;s.listenOnce(yo.COMPLETE,function(){try{switch(s.getLastErrorCode()){case vo.NO_ERROR:var e=s.getResponseJson();To("Connection","XHR received:",JSON.stringify(e)),i(e);break;case vo.TIMEOUT:To("Connection",'RPC "'+t+'" timed out'),o(new Uo(Fo.DEADLINE_EXCEEDED,"Request time out"));break;case vo.HTTP_ERROR:var n=s.getStatus();if(To("Connection",'RPC "'+t+'" failed with status:',n,"response text:",s.getResponseText()),n>0){var r=s.getResponseJson().error;if(r&&r.status&&r.message){var a=function(t){var e=t.toLowerCase().replace(/_/g,"-");return Object.values(Fo).indexOf(e)>=0?e:Fo.UNKNOWN}(r.status);o(new Uo(a,r.message))}else o(new Uo(Fo.UNKNOWN,"Server responded with status "+s.getStatus()))}else o(new Uo(Fo.UNAVAILABLE,"Connection failed."));break;default:ko()}}finally{To("Connection",'RPC "'+t+'" completed.')}});var a=JSON.stringify(r);s.send(e,"POST",a,n,15)})},e.prototype.xu=function(t,e){var n=[this.Vu,"/","google.firestore.v1.Firestore","/",t,"/channel"],r=new fo,i=gr(),o={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:"projects/"+this.T.projectId+"/databases/"+this.T.database},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.I};this.Su(o.initMessageHeaders,e),Object(ye.l)()||Object(ye.n)()||Object(ye.j)()||Object(ye.k)()||Object(ye.o)()||Object(ye.i)()||(o.httpHeadersOverwriteParam="$httpHeaders");var s=n.join("");To("Connection","Creating WebChannel: "+s,o);var a=r.createWebChannel(s,o),u=!1,c=!1,l=new Gh({du:function(t){c?To("Connection","Not sending because WebChannel is closed:",t):(u||(To("Connection","Opening WebChannel transport."),a.open(),u=!0),To("Connection","WebChannel sending:",t),a.send(t))},wu:function(){return a.close()}}),h=function(t,e,n){t.listen(e,function(t){try{n(t)}catch(t){setTimeout(function(){throw t},0)}})};return h(a,_o.EventType.OPEN,function(){c||To("Connection","WebChannel transport opened.")}),h(a,_o.EventType.CLOSE,function(){c||(c=!0,To("Connection","WebChannel transport closed"),l.Pu())}),h(a,_o.EventType.ERROR,function(t){c||(c=!0,xo("Connection","WebChannel transport errored:",t),l.Pu(new Uo(Fo.UNAVAILABLE,"The operation could not be completed")))}),h(a,_o.EventType.MESSAGE,function(t){var e;if(!c){var n=t.data[0];jo(!!n);var r=n.error||(null===(e=n[0])||void 0===e?void 0:e.error);if(r){To("Connection","WebChannel received error:",r);var i=r.status,o=function(t){var e=ru[t];if(void 0!==e)return cu(e)}(i),s=r.message;void 0===o&&(o=Fo.INTERNAL,s="Unknown error status: "+i+" with message "+r.message),c=!0,l.Pu(new Uo(o,s)),a.close()}else To("Connection","WebChannel received:",n),l.yu(n)}}),h(i,wo.STAT_EVENT,function(t){10===t.stat?To("Connection","Detected buffering proxy"):11===t.stat&&To("Connection","Detected no buffering proxy")}),setTimeout(function(){l.Ru()},0),l},e}(function(){function t(t){this.gu=t,this.T=t.T,this.Vu=(t.ssl?"https":"http")+"://"+t.host,this.pu="projects/"+this.T.projectId+"/databases/"+this.T.database+"/documents"}return t.prototype.bu=function(t,e,n,r){var i=this.vu(t,e);To("RestConnection","Sending: ",i,n);var o={};return this.Su(o,r),this.Du(t,i,o,n).then(function(t){return To("RestConnection","Received: ",t),t},function(e){throw xo("RestConnection",t+" failed with error: ",e,"url: ",i,"request:",n),e})},t.prototype.Cu=function(t,e,n,r){return this.bu(t,e,n,r)},t.prototype.Su=function(t,e){if(t["X-Goog-Api-Client"]="gl-js/ fire/8.2.1",t["Content-Type"]="text/plain",e)for(var n in e.V)e.V.hasOwnProperty(n)&&(t[n]=e.V[n])},t.prototype.vu=function(t,e){return this.Vu+"/v1/"+e+":"+Bh[t]},t}());function Wh(){return"undefined"!=typeof window?window:null}function Jh(){return"undefined"!=typeof document?document:null}function Kh(t){return new Uu(t,!0)}var Qh=function(){function t(t,e,n,r,i){void 0===n&&(n=1e3),void 0===r&&(r=1.5),void 0===i&&(i=6e4),this.no=t,this.ds=e,this.Nu=n,this.Fu=r,this.Ou=i,this.ku=0,this.Mu=null,this.Lu=Date.now(),this.reset()}return t.prototype.reset=function(){this.ku=0},t.prototype.$u=function(){this.ku=this.Ou},t.prototype.Bu=function(t){var e=this;this.cancel();var n=Math.floor(this.ku+this.qu()),r=Math.max(0,Date.now()-this.Lu),i=Math.max(0,n-r);i>0&&To("ExponentialBackoff","Backing off for "+i+" ms (base delay: "+this.ku+" ms, delay with jitter: "+n+" ms, last attempt: "+r+" ms ago)"),this.Mu=this.no.mr(this.ds,i,function(){return e.Lu=Date.now(),t()}),this.ku*=this.Fu,this.ku<this.Nu&&(this.ku=this.Nu),this.ku>this.Ou&&(this.ku=this.Ou)},t.prototype.Uu=function(){null!==this.Mu&&(this.Mu.Ps(),this.Mu=null)},t.prototype.cancel=function(){null!==this.Mu&&(this.Mu.cancel(),this.Mu=null)},t.prototype.qu=function(){return(Math.random()-.5)*this.ku},t}(),Yh=function(){function t(t,e,n,r,i,o){this.no=t,this.Qu=n,this.Ku=r,this.Wu=i,this.listener=o,this.state=0,this.ju=0,this.Gu=null,this.stream=null,this.zu=new Qh(t,e)}return t.prototype.Hu=function(){return 1===this.state||2===this.state||4===this.state},t.prototype.Ju=function(){return 2===this.state},t.prototype.start=function(){3!==this.state?this.auth():this.Yu()},t.prototype.stop=function(){return Object(So.b)(this,void 0,void 0,function(){return Object(So.d)(this,function(t){switch(t.label){case 0:return this.Hu()?[4,this.close(0)]:[3,2];case 1:t.sent(),t.label=2;case 2:return[2]}})})},t.prototype.Xu=function(){this.state=0,this.zu.reset()},t.prototype.Zu=function(){var t=this;this.Ju()&&null===this.Gu&&(this.Gu=this.no.mr(this.Qu,6e4,function(){return t.th()}))},t.prototype.eh=function(t){this.nh(),this.stream.send(t)},t.prototype.th=function(){return Object(So.b)(this,void 0,void 0,function(){return Object(So.d)(this,function(t){return this.Ju()?[2,this.close(0)]:[2]})})},t.prototype.nh=function(){this.Gu&&(this.Gu.cancel(),this.Gu=null)},t.prototype.close=function(t,e){return Object(So.b)(this,void 0,void 0,function(){return Object(So.d)(this,function(n){switch(n.label){case 0:return this.nh(),this.zu.cancel(),this.ju++,3!==t?this.zu.reset():e&&e.code===Fo.RESOURCE_EXHAUSTED?(Io(e.toString()),Io("Using maximum backoff delay to prevent overloading the backend."),this.zu.$u()):e&&e.code===Fo.UNAUTHENTICATED&&this.Wu.v(),null!==this.stream&&(this.sh(),this.stream.close(),this.stream=null),this.state=t,[4,this.listener.Iu(e)];case 1:return n.sent(),[2]}})})},t.prototype.sh=function(){},t.prototype.auth=function(){var t=this;this.state=1;var e=this.ih(this.ju),n=this.ju;this.Wu.getToken().then(function(e){t.ju===n&&t.rh(e)},function(n){e(function(){var e=new Uo(Fo.UNKNOWN,"Fetching auth token failed: "+n.message);return t.oh(e)})})},t.prototype.rh=function(t){var e=this,n=this.ih(this.ju);this.stream=this.ah(t),this.stream.Eu(function(){n(function(){return e.state=2,e.listener.Eu()})}),this.stream.Iu(function(t){n(function(){return e.oh(t)})}),this.stream.onMessage(function(t){n(function(){return e.onMessage(t)})})},t.prototype.Yu=function(){var t=this;this.state=4,this.zu.Bu(function(){return Object(So.b)(t,void 0,void 0,function(){return Object(So.d)(this,function(t){return this.state=0,this.start(),[2]})})})},t.prototype.oh=function(t){return To("PersistentStream","close with error: "+t),this.stream=null,this.close(3,t)},t.prototype.ih=function(t){var e=this;return function(n){e.no.ys(function(){return e.ju===t?n():(To("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())})}},t}(),Zh=function(t){function e(e,n,r,i,o){var s=this;return(s=t.call(this,e,"listen_stream_connection_backoff","listen_stream_idle",n,r,o)||this).Kt=i,s}return Object(So.c)(e,t),e.prototype.ah=function(t){return this.Ku.xu("Listen",t)},e.prototype.onMessage=function(t){this.zu.reset();var e=function(t,e){var n;if("targetChange"in e){var r=function(t){return"NO_CHANGE"===t?0:"ADD"===t?1:"REMOVE"===t?2:"CURRENT"===t?3:"RESET"===t?4:ko()}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],o=function(t,e){return t.qt?(jo(void 0===e||"string"==typeof e),Lo.fromBase64String(e||"")):(jo(void 0===e||e instanceof Uint8Array),Lo.fromUint8Array(e||new Uint8Array))}(t,e.targetChange.resumeToken),s=(a=e.targetChange.cause)&&function(t){var e=void 0===t.code?Fo.UNKNOWN:cu(t.code);return new Uo(e,t.message||"")}(a);n=new Pu(r,i,o,s||null)}else if("documentChange"in e){i=Ju(t,(r=e.documentChange).document.name),o=Bu(r.document.updateTime);var a=new Ms({mapValue:{fields:r.document.fields}}),u=(s=new Fs(i,o,a,{}),r.targetIds||[]);n=new ju(u,r.removedTargetIds||[],s.key,s)}else if("documentDelete"in e)i=Ju(t,(r=e.documentDelete).document),o=r.readTime?Bu(r.readTime):ns.min(),a=new Us(i,o),n=new ju([],s=r.removedTargetIds||[],a.key,a);else if("documentRemove"in e)i=Ju(t,(r=e.documentRemove).document),n=new ju([],o=r.removedTargetIds||[],i,null);else{if(!("filter"in e))return ko();var c=e.filter;i=new au(r=c.count||0),n=new Nu(o=c.targetId,i)}return n}(this.Kt,t),n=function(t){if(!("targetChange"in t))return ns.min();var e=t.targetChange;return e.targetIds&&e.targetIds.length?ns.min():e.readTime?Bu(e.readTime):ns.min()}(t);return this.listener.uh(e,n)},e.prototype.hh=function(t){var e={};e.database=Yu(this.Kt),e.addTarget=function(t,e){var n,r=e.target;return(n=$s(r)?{documents:rc(t,r)}:{query:ic(t,r)}).targetId=e.targetId,e.resumeToken.o()>0?n.resumeToken=Hu(t,e.resumeToken):e.Mt.u(ns.min())>0&&(n.readTime=qu(t,e.Mt.G())),n}(this.Kt,t);var n=function(t,e){var n=function(t,e){switch(e){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return ko()}}(0,e.kt);return null==n?null:{"goog-listen-tags":n}}(0,t);n&&(e.labels=n),this.eh(e)},e.prototype.lh=function(t){var e={};e.database=Yu(this.Kt),e.removeTarget=t,this.eh(e)},e}(Yh),Xh=function(t){function e(e,n,r,i,o){var s=this;return(s=t.call(this,e,"write_stream_connection_backoff","write_stream_idle",n,r,o)||this).Kt=i,s._h=!1,s}return Object(So.c)(e,t),Object.defineProperty(e.prototype,"fh",{get:function(){return this._h},enumerable:!1,configurable:!0}),e.prototype.start=function(){this._h=!1,this.lastStreamToken=void 0,t.prototype.start.call(this)},e.prototype.sh=function(){this._h&&this.dh([])},e.prototype.ah=function(t){return this.Ku.xu("Write",t)},e.prototype.onMessage=function(t){if(jo(!!t.streamToken),this.lastStreamToken=t.streamToken,this._h){this.zu.reset();var e=function(t,e){return t&&t.length>0?(jo(void 0!==e),t.map(function(t){return function(t,e){var n=Bu(t.updateTime?t.updateTime:e);n.isEqual(ns.min())&&(n=Bu(e));var r=null;return t.transformResults&&t.transformResults.length>0&&(r=t.transformResults),new Ha(n,r)}(t,e)})):[]}(t.writeResults,t.commitTime),n=Bu(t.commitTime);return this.listener.wh(n,e)}return jo(!t.writeResults||0===t.writeResults.length),this._h=!0,this.listener.Eh()},e.prototype.Th=function(){var t={};t.database=Yu(this.Kt),this.eh(t)},e.prototype.dh=function(t){var e=this,n={streamToken:this.lastStreamToken,writes:t.map(function(t){return ec(e.Kt,t)})};this.eh(n)},e}(Yh),tf=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).credentials=e,i.Ku=n,i.Kt=r,i.Ih=!1,i}return Object(So.c)(e,t),e.prototype.mh=function(){if(this.Ih)throw new Uo(Fo.FAILED_PRECONDITION,"The client has already been terminated.")},e.prototype.bu=function(t,e,n){var r=this;return this.mh(),this.credentials.getToken().then(function(i){return r.Ku.bu(t,e,n,i)}).catch(function(t){throw t.code===Fo.UNAUTHENTICATED&&r.credentials.v(),t})},e.prototype.Cu=function(t,e,n){var r=this;return this.mh(),this.credentials.getToken().then(function(i){return r.Ku.Cu(t,e,n,i)}).catch(function(t){throw t.code===Fo.UNAUTHENTICATED&&r.credentials.v(),t})},e.prototype.terminate=function(){this.Ih=!1},e}(function(){}),ef=function(){function t(t,e){this.fs=t,this.da=e,this.state="Unknown",this.Ah=0,this.Rh=null,this.Ph=!0}return t.prototype.yh=function(){var t=this;0===this.Ah&&(this.gh("Unknown"),this.Rh=this.fs.mr("online_state_timeout",1e4,function(){return t.Rh=null,t.Vh("Backend didn't respond within 10 seconds."),t.gh("Offline"),Promise.resolve()}))},t.prototype.ph=function(t){"Online"===this.state?this.gh("Unknown"):(this.Ah++,this.Ah>=1&&(this.bh(),this.Vh("Connection failed 1 times. Most recent error: "+t.toString()),this.gh("Offline")))},t.prototype.set=function(t){this.bh(),this.Ah=0,"Online"===t&&(this.Ph=!1),this.gh(t)},t.prototype.gh=function(t){t!==this.state&&(this.state=t,this.da(t))},t.prototype.Vh=function(t){var e="Could not reach Cloud Firestore backend. "+t+"\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.";this.Ph?(Io(e),this.Ph=!1):To("OnlineStateTracker",e)},t.prototype.bh=function(){null!==this.Rh&&(this.Rh.cancel(),this.Rh=null)},t}(),nf=function(t,e,n,r,i){var o=this;this.Sh=t,this.Dh=e,this.fs=n,this.Ch={},this.xh=[],this.Nh=new Map,this.Fh=new Set,this.Oh=[],this.kh=i,this.kh.cu(function(t){n.ys(function(){return Object(So.b)(o,void 0,void 0,function(){return Object(So.d)(this,function(t){switch(t.label){case 0:return ff(this)?(To("RemoteStore","Restarting streams for network reachability change."),[4,function(t){return Object(So.b)(this,void 0,void 0,function(){var e;return Object(So.d)(this,function(n){switch(n.label){case 0:return(e=No(t)).Fh.add(4),[4,of(e)];case 1:return n.sent(),e.Mh.set("Unknown"),e.Fh.delete(4),[4,rf(e)];case 2:return n.sent(),[2]}})})}(this)]):[3,2];case 1:t.sent(),t.label=2;case 2:return[2]}})})})}),this.Mh=new ef(n,r)};function rf(t){return Object(So.b)(this,void 0,void 0,function(){var e,n;return Object(So.d)(this,function(r){switch(r.label){case 0:if(!ff(t))return[3,4];e=0,n=t.Oh,r.label=1;case 1:return e<n.length?[4,(0,n[e])(!0)]:[3,4];case 2:r.sent(),r.label=3;case 3:return e++,[3,1];case 4:return[2]}})})}function of(t){return Object(So.b)(this,void 0,void 0,function(){var e,n;return Object(So.d)(this,function(r){switch(r.label){case 0:e=0,n=t.Oh,r.label=1;case 1:return e<n.length?[4,(0,n[e])(!1)]:[3,4];case 2:r.sent(),r.label=3;case 3:return e++,[3,1];case 4:return[2]}})})}function sf(t,e){var n=No(t);n.Nh.has(e.targetId)||(n.Nh.set(e.targetId,e),hf(n)?lf(n):If(n).Ju()&&uf(n,e))}function af(t,e){var n=No(t),r=If(n);n.Nh.delete(e),r.Ju()&&cf(n,e),0===n.Nh.size&&(r.Ju()?r.Zu():ff(n)&&n.Mh.set("Unknown"))}function uf(t,e){t.Lh.cn(e.targetId),If(t).hh(e)}function cf(t,e){t.Lh.cn(e),If(t).lh(e)}function lf(t){t.Lh=new Mu({Sn:function(e){return t.Ch.Sn(e)},Dn:function(e){return t.Nh.get(e)||null}}),If(t).start(),t.Mh.yh()}function hf(t){return ff(t)&&!If(t).Hu()&&t.Nh.size>0}function ff(t){return 0===No(t).Fh.size}function df(t){t.Lh=void 0}function pf(t){return Object(So.b)(this,void 0,void 0,function(){return Object(So.d)(this,function(e){return t.Nh.forEach(function(e,n){uf(t,e)}),[2]})})}function gf(t,e){return Object(So.b)(this,void 0,void 0,function(){return Object(So.d)(this,function(n){return df(t),hf(t)?(t.Mh.ph(e),lf(t)):t.Mh.set("Unknown"),[2]})})}function bf(t,e,n){return Object(So.b)(this,void 0,void 0,function(){var r,i,o;return Object(So.d)(this,function(s){switch(s.label){case 0:if(t.Mh.set("Online"),!(e instanceof Pu&&2===e.state&&e.cause))return[3,6];s.label=1;case 1:return s.trys.push([1,3,,5]),[4,function(t,e){return Object(So.b)(this,void 0,void 0,function(){var n,r,i,o;return Object(So.d)(this,function(s){switch(s.label){case 0:n=e.cause,r=0,i=e.targetIds,s.label=1;case 1:return r<i.length?t.Nh.has(o=i[r])?[4,t.Ch.$h(o,n)]:[3,3]:[3,5];case 2:s.sent(),t.Nh.delete(o),t.Lh.removeTarget(o),s.label=3;case 3:s.label=4;case 4:return r++,[3,1];case 5:return[2]}})})}(t,e)];case 2:return s.sent(),[3,5];case 3:return r=s.sent(),To("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),[4,mf(t,r)];case 4:return s.sent(),[3,5];case 5:return[3,13];case 6:if(e instanceof ju?t.Lh.wn(e):e instanceof Nu?t.Lh.yn(e):t.Lh.In(e),n.isEqual(ns.min()))return[3,13];s.label=7;case 7:return s.trys.push([7,11,,13]),[4,lh(t.Sh)];case 8:return i=s.sent(),n.u(i)>=0?[4,function(t,e){var n=t.Lh.pn(e);return n.Oe.forEach(function(n,r){if(n.resumeToken.o()>0){var i=t.Nh.get(r);i&&t.Nh.set(r,i.$t(n.resumeToken,e))}}),n.ke.forEach(function(e){var n=t.Nh.get(e);if(n){t.Nh.set(e,n.$t(Lo.h,n.Mt)),cf(t,e);var r=new Ea(n.target,e,1,n.sequenceNumber);uf(t,r)}}),t.Ch.Bh(n)}(t,n)]:[3,10];case 9:s.sent(),s.label=10;case 10:return[3,13];case 11:return To("RemoteStore","Failed to raise snapshot:",o=s.sent()),[4,mf(t,o)];case 12:return s.sent(),[3,13];case 13:return[2]}})})}function mf(t,e,n){return Object(So.b)(this,void 0,void 0,function(){var r=this;return Object(So.d)(this,function(i){switch(i.label){case 0:if(!Sc(e))throw e;return t.Fh.add(1),[4,of(t)];case 1:return i.sent(),t.Mh.set("Offline"),n||(n=function(){return lh(t.Sh)}),t.fs.vo(function(){return Object(So.b)(r,void 0,void 0,function(){return Object(So.d)(this,function(e){switch(e.label){case 0:return To("RemoteStore","Retrying IndexedDB access"),[4,n()];case 1:return e.sent(),t.Fh.delete(1),[4,rf(t)];case 2:return e.sent(),[2]}})})}),[2]}})})}function vf(t,e){return e().catch(function(n){return mf(t,n,e)})}function yf(t){return Object(So.b)(this,void 0,void 0,function(){var e,n,r,i,o;return Object(So.d)(this,function(s){switch(s.label){case 0:e=No(t),n=xf(e),r=e.xh.length>0?e.xh[e.xh.length-1].batchId:-1,s.label=1;case 1:if(!function(t){return ff(t)&&t.xh.length<10}(e))return[3,7];s.label=2;case 2:return s.trys.push([2,4,,6]),[4,dh(e.Sh,r)];case 3:return null===(i=s.sent())?(0===e.xh.length&&n.Zu(),[3,7]):(r=i.batchId,function(t,e){t.xh.push(e);var n=xf(t);n.Ju()&&n.fh&&n.dh(e.mutations)}(e,i),[3,6]);case 4:return o=s.sent(),[4,mf(e,o)];case 5:return s.sent(),[3,6];case 6:return[3,1];case 7:return wf(e)&&_f(e),[2]}})})}function wf(t){return ff(t)&&!xf(t).Hu()&&t.xh.length>0}function _f(t){xf(t).start()}function Of(t){return Object(So.b)(this,void 0,void 0,function(){return Object(So.d)(this,function(e){return xf(t).Th(),[2]})})}function Sf(t){return Object(So.b)(this,void 0,void 0,function(){var e,n,r;return Object(So.d)(this,function(i){for(e=xf(t),n=0,r=t.xh;n<r.length;n++)e.dh(r[n].mutations);return[2]})})}function Cf(t,e,n){return Object(So.b)(this,void 0,void 0,function(){var r,i;return Object(So.d)(this,function(o){switch(o.label){case 0:return r=t.xh.shift(),i=rl.from(r,e,n),[4,vf(t,function(){return t.Ch.qh(i)})];case 1:return o.sent(),[4,yf(t)];case 2:return o.sent(),[2]}})})}function Ef(t,e){return Object(So.b)(this,void 0,void 0,function(){return Object(So.d)(this,function(n){switch(n.label){case 0:return e&&xf(t).fh?[4,function(t,e){return Object(So.b)(this,void 0,void 0,function(){var n,r;return Object(So.d)(this,function(i){switch(i.label){case 0:return uu(r=e.code)&&r!==Fo.ABORTED?(n=t.xh.shift(),xf(t).Xu(),[4,vf(t,function(){return t.Ch.Uh(n.batchId,e)})]):[3,3];case 1:return i.sent(),[4,yf(t)];case 2:i.sent(),i.label=3;case 3:return[2]}})})}(t,e)]:[3,2];case 1:n.sent(),n.label=2;case 2:return wf(t)&&_f(t),[2]}})})}function Tf(t,e){return Object(So.b)(this,void 0,void 0,function(){var n;return Object(So.d)(this,function(r){switch(r.label){case 0:return n=No(t),e?(n.Fh.delete(2),[4,rf(n)]):[3,2];case 1:return r.sent(),[3,5];case 2:return e?[3,4]:(n.Fh.add(2),[4,of(n)]);case 3:r.sent(),n.Mh.set("Unknown"),r.label=4;case 4:r.label=5;case 5:return[2]}})})}function If(t){var e=this;return t.Qh||(t.Qh=function(t,e,n){var r=No(t);return r.mh(),new Zh(e,r.Ku,r.credentials,r.Kt,n)}(t.Dh,t.fs,{Eu:pf.bind(null,t),Iu:gf.bind(null,t),uh:bf.bind(null,t)}),t.Oh.push(function(n){return Object(So.b)(e,void 0,void 0,function(){return Object(So.d)(this,function(e){switch(e.label){case 0:return n?(t.Qh.Xu(),hf(t)?lf(t):t.Mh.set("Unknown"),[3,3]):[3,1];case 1:return[4,t.Qh.stop()];case 2:e.sent(),df(t),e.label=3;case 3:return[2]}})})})),t.Qh}function xf(t){var e=this;return t.Kh||(t.Kh=function(t,e,n){var r=No(t);return r.mh(),new Xh(e,r.Ku,r.credentials,r.Kt,n)}(t.Dh,t.fs,{Eu:Of.bind(null,t),Iu:Ef.bind(null,t),Eh:Sf.bind(null,t),wh:Cf.bind(null,t)}),t.Oh.push(function(n){return Object(So.b)(e,void 0,void 0,function(){return Object(So.d)(this,function(e){switch(e.label){case 0:return n?(t.Kh.Xu(),[4,yf(t)]):[3,2];case 1:return e.sent(),[3,4];case 2:return[4,t.Kh.stop()];case 3:e.sent(),t.xh.length>0&&(To("RemoteStore","Stopping write stream with "+t.xh.length+" pending writes"),t.xh=[]),e.label=4;case 4:return[2]}})})})),t.Kh}var Af=function(){this.Wh=void 0,this.listeners=[]},kf=function(){this.queries=new El(function(t){return wa(t)},ya),this.onlineState="Unknown",this.jh=new Set};function jf(t,e){return Object(So.b)(this,void 0,void 0,function(){var n,r,i,o,s,a,u;return Object(So.d)(this,function(c){switch(c.label){case 0:if(n=No(t),i=!1,(o=n.queries.get(r=e.query))||(i=!0,o=new Af),!i)return[3,4];c.label=1;case 1:return c.trys.push([1,3,,4]),s=o,[4,n.Gh(r)];case 2:return s.Wh=c.sent(),[3,4];case 3:return a=c.sent(),u=Ac(a,"Initialization of query '"+_a(e.query)+"' failed"),[2,void e.onError(u)];case 4:return n.queries.set(r,o),o.listeners.push(e),e.zh(n.onlineState),o.Wh&&e.Hh(o.Wh)&&Mf(n),[2]}})})}function Nf(t,e){return Object(So.b)(this,void 0,void 0,function(){var n,r,i,o,s;return Object(So.d)(this,function(a){return n=No(t),i=!1,(o=n.queries.get(r=e.query))&&(s=o.listeners.indexOf(e))>=0&&(o.listeners.splice(s,1),i=0===o.listeners.length),i?[2,(n.queries.delete(r),n.Jh(r))]:[2]})})}function Pf(t,e){for(var n=No(t),r=!1,i=0,o=e;i<o.length;i++){var s=o[i],a=n.queries.get(s.query);if(a){for(var u=0,c=a.listeners;u<c.length;u++)c[u].Hh(s)&&(r=!0);a.Wh=s}}r&&Mf(n)}function Df(t,e,n){var r=No(t),i=r.queries.get(e);if(i)for(var o=0,s=i.listeners;o<s.length;o++)s[o].onError(n);r.queries.delete(e)}function Mf(t){t.jh.forEach(function(t){t.next()})}var Rf=function(){function t(t,e,n){this.query=t,this.Yh=e,this.Xh=!1,this.Zh=null,this.onlineState="Unknown",this.options=n||{}}return t.prototype.Hh=function(t){if(!this.options.includeMetadataChanges){for(var e=[],n=0,r=t.docChanges;n<r.length;n++){var i=r[n];3!==i.type&&e.push(i)}t=new xu(t.query,t.docs,t.De,e,t.Ce,t.fromCache,t.xe,!0)}var o=!1;return this.Xh?this.tl(t)&&(this.Yh.next(t),o=!0):this.el(t,this.onlineState)&&(this.nl(t),o=!0),this.Zh=t,o},t.prototype.onError=function(t){this.Yh.error(t)},t.prototype.zh=function(t){this.onlineState=t;var e=!1;return this.Zh&&!this.Xh&&this.el(this.Zh,t)&&(this.nl(this.Zh),e=!0),e},t.prototype.el=function(t,e){return!t.fromCache||!(this.options.sl&&"Offline"!==e||t.docs.nt()&&"Offline"!==e)},t.prototype.tl=function(t){return t.docChanges.length>0||!!(t.xe||this.Zh&&this.Zh.hasPendingWrites!==t.hasPendingWrites)&&!0===this.options.includeMetadataChanges},t.prototype.nl=function(t){t=xu.Fe(t.query,t.docs,t.Ce,t.fromCache),this.Xh=!0,this.Yh.next(t)},t}(),Vf=function(){function t(t,e){this.payload=t,this.byteLength=e}return t.prototype.il=function(){return"metadata"in this.payload},t}(),Lf=function(){function t(t){this.Kt=t}return t.prototype.yc=function(t){return Ju(this.Kt,t)},t.prototype.gc=function(t){return t.metadata.exists?tc(this.Kt,t.document,!1):new Us(this.yc(t.metadata.name),this.Vc(t.metadata.readTime))},t.prototype.Vc=function(t){return Bu(t)},t}();!function(){function t(t,e,n){this.rl=t,this.Sh=e,this.Kt=n,this.queries=[],this.documents=[],this.progress=function(t){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:t.totalDocuments,totalBytes:t.totalBytes}}(t)}t.prototype.ol=function(t){this.progress.bytesLoaded+=t.byteLength;var e=this.progress.documentsLoaded;return t.payload.namedQuery?this.queries.push(t.payload.namedQuery):t.payload.documentMetadata?(this.documents.push({metadata:t.payload.documentMetadata}),t.payload.documentMetadata.exists||++e):t.payload.document&&(this.documents[this.documents.length-1].document=t.payload.document,++e),e!==this.progress.documentsLoaded?(this.progress.documentsLoaded=e,Object.assign({},this.progress)):null},t.prototype.cl=function(t){for(var e=new Map,n=new Lf(this.Kt),r=0,i=t;r<i.length;r++){var o=i[r];if(o.metadata.queries)for(var s=n.yc(o.metadata.name),a=0,u=o.metadata.queries;a<u.length;a++){var c=u[a],l=(e.get(c)||Su()).add(s);e.set(c,l)}}return e},t.prototype.complete=function(){return Object(So.b)(this,void 0,void 0,function(){var t,e,n,r,i;return Object(So.d)(this,function(o){switch(o.label){case 0:return[4,wh(this.Sh,new Lf(this.Kt),this.documents,this.rl.id)];case 1:t=o.sent(),e=this.cl(this.documents),n=0,r=this.queries,o.label=2;case 2:return n<r.length?[4,_h(this.Sh,i=r[n],e.get(i.name))]:[3,5];case 3:o.sent(),o.label=4;case 4:return n++,[3,2];case 5:return[2,(this.progress.taskState="Success",new kc(Object.assign({},this.progress),t))]}})})}}();var Ff=function(t){this.key=t},Uf=function(t){this.key=t},qf=function(){function t(t,e){this.query=t,this.al=e,this.ul=null,this.qe=!1,this.hl=Su(),this.Ce=Su(),this.ll=Sa(t),this._l=new Tu(this.ll)}return Object.defineProperty(t.prototype,"fl",{get:function(){return this.al},enumerable:!1,configurable:!0}),t.prototype.dl=function(t,e){var n=this,r=e?e.wl:new Iu,i=e?e._l:this._l,o=e?e.Ce:this.Ce,s=i,a=!1,u=ha(this.query)&&i.size===this.query.limit?i.last():null,c=fa(this.query)&&i.size===this.query.limit?i.first():null;if(t.Zt(function(t,e){var l=i.get(t),h=e instanceof Fs?e:null;h&&(h=Oa(n.query,h)?h:null);var f=!!l&&n.Ce.has(l.key),d=!!h&&(h.bt||n.Ce.has(h.key)&&h.hasCommittedMutations),p=!1;l&&h?l.data().isEqual(h.data())?f!==d&&(r.track({type:3,doc:h}),p=!0):n.El(l,h)||(r.track({type:2,doc:h}),p=!0,(u&&n.ll(h,u)>0||c&&n.ll(h,c)<0)&&(a=!0)):!l&&h?(r.track({type:0,doc:h}),p=!0):l&&!h&&(r.track({type:1,doc:l}),p=!0,(u||c)&&(a=!0)),p&&(h?(s=s.add(h),o=d?o.add(t):o.delete(t)):(s=s.delete(t),o=o.delete(t)))}),ha(this.query)||fa(this.query))for(;s.size>this.query.limit;){var l=ha(this.query)?s.last():s.first();s=s.delete(l.key),o=o.delete(l.key),r.track({type:1,doc:l})}return{_l:s,wl:r,_c:a,Ce:o}},t.prototype.El=function(t,e){return t.bt&&e.hasCommittedMutations&&!e.bt},t.prototype.Ti=function(t,e,n){var r=this,i=this._l;this._l=t._l,this.Ce=t.Ce;var o=t.wl.Se();o.sort(function(t,e){return function(t,e){var n=function(t){switch(t){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return ko()}};return n(t)-n(e)}(t.type,e.type)||r.ll(t.doc,e.doc)}),this.Tl(n);var s=e?this.Il():[],a=0===this.hl.size&&this.qe?1:0,u=a!==this.ul;return this.ul=a,0!==o.length||u?{snapshot:new xu(this.query,t._l,i,o,t.Ce,0===a,u,!1),ml:s}:{ml:s}},t.prototype.zh=function(t){return this.qe&&"Offline"===t?(this.qe=!1,this.Ti({_l:this._l,wl:new Iu,Ce:this.Ce,_c:!1},!1)):{ml:[]}},t.prototype.Al=function(t){return!this.al.has(t)&&!!this._l.has(t)&&!this._l.get(t).bt},t.prototype.Tl=function(t){var e=this;t&&(t.Ue.forEach(function(t){return e.al=e.al.add(t)}),t.Qe.forEach(function(t){}),t.Ke.forEach(function(t){return e.al=e.al.delete(t)}),this.qe=t.qe)},t.prototype.Il=function(){var t=this;if(!this.qe)return[];var e=this.hl;this.hl=Su(),this._l.forEach(function(e){t.Al(e.key)&&(t.hl=t.hl.add(e.key))});var n=[];return e.forEach(function(e){t.hl.has(e)||n.push(new Uf(e))}),this.hl.forEach(function(t){e.has(t)||n.push(new Ff(t))}),n},t.prototype.Rl=function(t){this.al=t.Pc,this.hl=Su();var e=this.dl(t.documents);return this.Ti(e,!0)},t.prototype.Pl=function(){return xu.Fe(this.query,this._l,this.Ce,0===this.ul)},t}(),Hf=function(t,e,n){this.query=t,this.targetId=e,this.view=n},zf=function(t){this.key=t,this.yl=!1},Bf=function(){function t(t,e,n,r,i,o){this.Sh=t,this.gl=e,this.Vl=n,this.pl=r,this.currentUser=i,this.bl=o,this.vl={},this.Sl=new El(function(t){return wa(t)},ya),this.Dl=new Map,this.Cl=[],this.xl=new lu(as.J),this.Nl=new Map,this.Fl=new Sh,this.Ol={},this.kl=new Map,this.Ml=Dl.qi(),this.onlineState="Unknown",this.Ll=void 0}return Object.defineProperty(t.prototype,"$l",{get:function(){return!0===this.Ll},enumerable:!1,configurable:!0}),t}();function Gf(t,e){return Object(So.b)(this,void 0,void 0,function(){var n,r,i,o,s;return Object(So.d)(this,function(a){switch(a.label){case 0:return n=wd(t),(i=n.Sl.get(e))?(n.pl.ka(i.targetId),r=i.view.Pl(),[3,4]):[3,1];case 1:return[4,ph(n.Sh,ma(e))];case 2:return o=a.sent(),s=n.pl.ka(o.targetId),[4,$f(n,e,o.targetId,"current"===s)];case 3:r=a.sent(),n.$l&&sf(n.gl,o),a.label=4;case 4:return[2,r]}})})}function $f(t,e,n,r){return Object(So.b)(this,void 0,void 0,function(){var i,o,s,a,u,c;return Object(So.d)(this,function(l){switch(l.label){case 0:return t.Bl=function(e,n,r){return function(t,e,n,r){return Object(So.b)(this,void 0,void 0,function(){var i,o,s;return Object(So.d)(this,function(a){switch(a.label){case 0:return(i=e.view.dl(n))._c?[4,bh(t.Sh,e.query,!1).then(function(t){return e.view.dl(t.documents,i)})]:[3,2];case 1:i=a.sent(),a.label=2;case 2:return o=r&&r.Oe.get(e.targetId),s=e.view.Ti(i,t.$l,o),[2,(od(t,e.targetId,s.ml),s.snapshot)]}})})}(t,e,n,r)},[4,bh(t.Sh,e,!0)];case 1:return i=l.sent(),o=new qf(e,i.Pc),s=o.dl(i.documents),a=ku.Be(n,r&&"Offline"!==t.onlineState),u=o.Ti(s,t.$l,a),od(t,n,u.ml),c=new Hf(e,n,o),[2,(t.Sl.set(e,c),t.Dl.has(n)?t.Dl.get(n).push(e):t.Dl.set(n,[e]),u.snapshot)]}})})}function Wf(t,e){return Object(So.b)(this,void 0,void 0,function(){var n,r,i;return Object(So.d)(this,function(o){switch(o.label){case 0:return n=No(t),r=n.Sl.get(e),(i=n.Dl.get(r.targetId)).length>1?[2,(n.Dl.set(r.targetId,i.filter(function(t){return!ya(t,e)})),void n.Sl.delete(e))]:n.$l?(n.pl.La(r.targetId),n.pl.Ca(r.targetId)?[3,2]:[4,gh(n.Sh,r.targetId,!1).then(function(){n.pl.Ba(r.targetId),af(n.gl,r.targetId),rd(n,r.targetId)}).catch(Cl)]):[3,3];case 1:o.sent(),o.label=2;case 2:return[3,5];case 3:return rd(n,r.targetId),[4,gh(n.Sh,r.targetId,!0)];case 4:o.sent(),o.label=5;case 5:return[2]}})})}function Jf(t,e,n){return Object(So.b)(this,void 0,void 0,function(){var r,i,o,s;return Object(So.d)(this,function(a){switch(a.label){case 0:r=_d(t),a.label=1;case 1:return a.trys.push([1,5,,6]),[4,function(t,e){var n,r=No(t),i=es.now(),o=e.reduce(function(t,e){return t.add(e.key)},Su());return r.persistence.runTransaction("Locally write mutations","readwrite",function(t){return r.Ic.Zo(t,o).next(function(o){n=o;for(var s=[],a=0,u=e;a<u.length;a++){var c=u[a],l=Ja(c,n.get(c.key));null!=l&&s.push(new Za(c.key,l,Vs(l.proto.mapValue),za.exists(!0)))}return r.Ho.yi(t,i,s,e)})}).then(function(t){var e=t.Fs(n);return{batchId:t.batchId,ci:e}})}(r.Sh,e)];case 2:return i=a.sent(),r.pl.xa(i.batchId),function(t,e,n){var r=t.Ol[t.currentUser.R()];r||(r=new lu(Mo)),r=r.Ht(e,n),t.Ol[t.currentUser.R()]=r}(r,i.batchId,n),[4,ud(r,i.ci)];case 3:return a.sent(),[4,yf(r.gl)];case 4:return a.sent(),[3,6];case 5:return o=a.sent(),s=Ac(o,"Failed to persist write"),n.reject(s),[3,6];case 6:return[2]}})})}function Kf(t,e){return Object(So.b)(this,void 0,void 0,function(){var n,r;return Object(So.d)(this,function(i){switch(i.label){case 0:n=No(t),i.label=1;case 1:return i.trys.push([1,4,,6]),[4,hh(n.Sh,e)];case 2:return r=i.sent(),e.Oe.forEach(function(t,e){var r=n.Nl.get(e);r&&(jo(t.Ue.size+t.Qe.size+t.Ke.size<=1),t.Ue.size>0?r.yl=!0:t.Qe.size>0?jo(r.yl):t.Ke.size>0&&(jo(r.yl),r.yl=!1))}),[4,ud(n,r,e)];case 3:return i.sent(),[3,6];case 4:return[4,Cl(i.sent())];case 5:return i.sent(),[3,6];case 6:return[2]}})})}function Qf(t,e,n){var r=No(t);if(r.$l&&0===n||!r.$l&&1===n){var i=[];r.Sl.forEach(function(t,n){var r=n.view.zh(e);r.snapshot&&i.push(r.snapshot)}),function(t,e){var n=No(t);n.onlineState=e;var r=!1;n.queries.forEach(function(t,n){for(var i=0,o=n.listeners;i<o.length;i++)o[i].zh(e)&&(r=!0)}),r&&Mf(n)}(r.Vl,e),i.length&&r.vl.uh(i),r.onlineState=e,r.$l&&r.pl.Ka(e)}}function Yf(t,e,n){return Object(So.b)(this,void 0,void 0,function(){var r,i,o,s,a,u;return Object(So.d)(this,function(c){switch(c.label){case 0:return(r=No(t)).pl.qa(e,"rejected",n),i=r.Nl.get(e),(o=i&&i.key)?(s=(s=new lu(as.J)).Ht(o,new Us(o,ns.min())),a=Su().add(o),u=new Au(ns.min(),new Map,new du(Mo),s,a),[4,Kf(r,u)]):[3,2];case 1:return c.sent(),r.xl=r.xl.remove(o),r.Nl.delete(e),ad(r),[3,4];case 2:return[4,gh(r.Sh,e,!1).then(function(){return rd(r,e,n)}).catch(Cl)];case 3:c.sent(),c.label=4;case 4:return[2]}})})}function Zf(t,e){return Object(So.b)(this,void 0,void 0,function(){var n,r,i;return Object(So.d)(this,function(o){switch(o.label){case 0:n=No(t),r=e.batch.batchId,o.label=1;case 1:return o.trys.push([1,4,,6]),[4,ch(n.Sh,e)];case 2:return i=o.sent(),nd(n,r,null),ed(n,r),n.pl.Fa(r,"acknowledged"),[4,ud(n,i)];case 3:return o.sent(),[3,6];case 4:return[4,Cl(o.sent())];case 5:return o.sent(),[3,6];case 6:return[2]}})})}function Xf(t,e,n){return Object(So.b)(this,void 0,void 0,function(){var r,i;return Object(So.d)(this,function(o){switch(o.label){case 0:r=No(t),o.label=1;case 1:return o.trys.push([1,4,,6]),[4,function(t,e){var n=No(t);return n.persistence.runTransaction("Reject batch","readwrite-primary",function(t){var r;return n.Ho.gi(t,e).next(function(e){return jo(null!==e),r=e.keys(),n.Ho.Ni(t,e)}).next(function(){return n.Ho.ki(t)}).next(function(){return n.Ic.Zo(t,r)})})}(r.Sh,e)];case 2:return i=o.sent(),nd(r,e,n),ed(r,e),r.pl.Fa(e,"rejected",n),[4,ud(r,i)];case 3:return o.sent(),[3,6];case 4:return[4,Cl(o.sent())];case 5:return o.sent(),[3,6];case 6:return[2]}})})}function td(t,e){return Object(So.b)(this,void 0,void 0,function(){var n,r,i,o,s;return Object(So.d)(this,function(a){switch(a.label){case 0:ff((n=No(t)).gl)||To("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled."),a.label=1;case 1:return a.trys.push([1,3,,4]),[4,function(t){var e=No(t);return e.persistence.runTransaction("Get highest unacknowledged batch id","readonly",function(t){return e.Ho.bi(t)})}(n.Sh)];case 2:return-1===(r=a.sent())?[2,void e.resolve()]:((i=n.kl.get(r)||[]).push(e),n.kl.set(r,i),[3,4]);case 3:return o=a.sent(),s=Ac(o,"Initialization of waitForPendingWrites() operation failed"),e.reject(s),[3,4];case 4:return[2]}})})}function ed(t,e){(t.kl.get(e)||[]).forEach(function(t){t.resolve()}),t.kl.delete(e)}function nd(t,e,n){var r=No(t),i=r.Ol[r.currentUser.R()];if(i){var o=i.get(e);o&&(n?o.reject(n):o.resolve(),i=i.remove(e)),r.Ol[r.currentUser.R()]=i}}function rd(t,e,n){void 0===n&&(n=null),t.pl.La(e);for(var r=0,i=t.Dl.get(e);r<i.length;r++){var o=i[r];t.Sl.delete(o),n&&t.vl.ql(o,n)}t.Dl.delete(e),t.$l&&t.Fl.kc(e).forEach(function(e){t.Fl.Mi(e)||id(t,e)})}function id(t,e){var n=t.xl.get(e);null!==n&&(af(t.gl,n),t.xl=t.xl.remove(e),t.Nl.delete(n),ad(t))}function od(t,e,n){for(var r=0,i=n;r<i.length;r++){var o=i[r];o instanceof Ff?(t.Fl.ir(o.key,e),sd(t,o)):o instanceof Uf?(To("SyncEngine","Document no longer in limbo: "+o.key),t.Fl.cr(o.key,e),t.Fl.Mi(o.key)||id(t,o.key)):ko()}}function sd(t,e){var n=e.key;t.xl.get(n)||(To("SyncEngine","New document in limbo: "+n),t.Cl.push(n),ad(t))}function ad(t){for(;t.Cl.length>0&&t.xl.size<t.bl;){var e=t.Cl.shift(),n=t.Ml.next();t.Nl.set(n,new zf(e)),t.xl=t.xl.Ht(e,n),sf(t.gl,new Ea(ma(la(e.path)),n,2,ts.U))}}function ud(t,e,n){return Object(So.b)(this,void 0,void 0,function(){var r,i,o,s;return Object(So.d)(this,function(a){switch(a.label){case 0:return r=No(t),i=[],o=[],s=[],r.Sl.nt()?[3,3]:(r.Sl.forEach(function(t,a){s.push(r.Bl(a,e,n).then(function(t){if(t){r.$l&&r.pl.qa(a.targetId,t.fromCache?"not-current":"current"),i.push(t);var e=ih.cc(a.targetId,t);o.push(e)}}))}),[4,Promise.all(s)]);case 1:return a.sent(),r.vl.uh(i),[4,function(t,e){return Object(So.b)(this,void 0,void 0,function(){var n,r,i,o,s,a,u,c;return Object(So.d)(this,function(l){switch(l.label){case 0:n=No(t),l.label=1;case 1:return l.trys.push([1,3,,4]),[4,n.persistence.runTransaction("notifyLocalViewChanges","readwrite",function(t){return vc.forEach(e,function(e){return vc.forEach(e.rc,function(r){return n.persistence.mi.ir(t,e.targetId,r)}).next(function(){return vc.forEach(e.oc,function(r){return n.persistence.mi.cr(t,e.targetId,r)})})})})];case 2:return l.sent(),[3,4];case 3:if(!Sc(r=l.sent()))throw r;return To("LocalStore","Failed to update sequence numbers: "+r),[3,4];case 4:for(i=0,o=e;i<o.length;i++)a=(s=o[i]).targetId,s.fromCache||(u=n.dc.get(a),c=u.Bt(u.Mt),n.dc=n.dc.Ht(a,c));return[2]}})})}(r.Sh,o)];case 2:a.sent(),a.label=3;case 3:return[2]}})})}function cd(t,e){return Object(So.b)(this,void 0,void 0,function(){var n,r;return Object(So.d)(this,function(i){switch(i.label){case 0:return(n=No(t)).currentUser.isEqual(e)?[3,3]:(To("SyncEngine","User change. New user:",e.R()),[4,uh(n.Sh,e)]);case 1:return r=i.sent(),n.currentUser=e,function(t,e){t.kl.forEach(function(t){t.forEach(function(t){t.reject(new Uo(Fo.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),t.kl.clear()}(n),n.pl.Qa(e,r.Ac,r.Rc),[4,ud(n,r.mc)];case 2:i.sent(),i.label=3;case 3:return[2]}})})}function ld(t,e){var n=No(t),r=n.Nl.get(e);if(r&&r.yl)return Su().add(r.key);var i=Su(),o=n.Dl.get(e);if(!o)return i;for(var s=0,a=o;s<a.length;s++){var u=n.Sl.get(a[s]);i=i.ye(u.view.fl)}return i}function hd(t,e){return Object(So.b)(this,void 0,void 0,function(){var n,r,i;return Object(So.d)(this,function(o){switch(o.label){case 0:return[4,bh((n=No(t)).Sh,e.query,!0)];case 1:return r=o.sent(),i=e.view.Rl(r),[2,(n.$l&&od(n,e.targetId,i.ml),i)]}})})}function fd(t){return Object(So.b)(this,void 0,void 0,function(){var e;return Object(So.d)(this,function(n){return[2,vh((e=No(t)).Sh).then(function(t){return ud(e,t)})]})})}function dd(t,e,n,r){return Object(So.b)(this,void 0,void 0,function(){var i,o;return Object(So.d)(this,function(s){switch(s.label){case 0:return[4,function(t,e){var n=No(t),r=No(n.Ho);return n.persistence.runTransaction("Lookup mutation documents","readonly",function(t){return r.Vi(t,e).next(function(e){return e?n.Ic.Zo(t,e):vc.resolve(null)})})}((i=No(t)).Sh,e)];case 1:return null===(o=s.sent())?[3,6]:"pending"!==n?[3,3]:[4,yf(i.gl)];case 2:return s.sent(),[3,4];case 3:"acknowledged"===n||"rejected"===n?(nd(i,e,r||null),ed(i,e),function(t,e){No(No(t).Ho).Fi(e)}(i.Sh,e)):ko(),s.label=4;case 4:return[4,ud(i,o)];case 5:return s.sent(),[3,7];case 6:To("SyncEngine","Cannot apply mutation batch with id: "+e),s.label=7;case 7:return[2]}})})}function pd(t,e){return Object(So.b)(this,void 0,void 0,function(){var n,r,i,o,s,a,u;return Object(So.d)(this,function(c){switch(c.label){case 0:return wd(n=No(t)),_d(n),!0!==e||!0===n.Ll?[3,3]:(r=n.pl.Sa(),[4,gd(n,r.rt())]);case 1:return i=c.sent(),n.Ll=!0,[4,Tf(n.gl,!0)];case 2:for(c.sent(),o=0,s=i;o<s.length;o++)sf(n.gl,s[o]);return[3,7];case 3:return!1!==e||!1===n.Ll?[3,7]:(a=[],u=Promise.resolve(),n.Dl.forEach(function(t,e){n.pl.$a(e)?a.push(e):u=u.then(function(){return rd(n,e),gh(n.Sh,e,!0)}),af(n.gl,e)}),[4,u]);case 4:return c.sent(),[4,gd(n,a)];case 5:return c.sent(),function(t){var e=No(t);e.Nl.forEach(function(t,n){af(e.gl,n)}),e.Fl.Mc(),e.Nl=new Map,e.xl=new lu(as.J)}(n),n.Ll=!1,[4,Tf(n.gl,!1)];case 6:c.sent(),c.label=7;case 7:return[2]}})})}function gd(t,e,n){return Object(So.b)(this,void 0,void 0,function(){var n,r,i,o,s,a,u,c,l,h,f,d,p;return Object(So.d)(this,function(g){switch(g.label){case 0:n=No(t),r=[],i=[],o=0,s=e,g.label=1;case 1:return o<s.length?(u=void 0,(c=n.Dl.get(a=s[o]))&&0!==c.length?[4,ph(n.Sh,ma(c[0]))]:[3,7]):[3,13];case 2:u=g.sent(),l=0,h=c,g.label=3;case 3:return l<h.length?(f=n.Sl.get(h[l]),[4,hd(n,f)]):[3,6];case 4:(d=g.sent()).snapshot&&i.push(d.snapshot),g.label=5;case 5:return l++,[3,3];case 6:return[3,11];case 7:return[4,mh(n.Sh,a)];case 8:return p=g.sent(),[4,ph(n.Sh,p)];case 9:return u=g.sent(),[4,$f(n,bd(p),a,!1)];case 10:g.sent(),g.label=11;case 11:r.push(u),g.label=12;case 12:return o++,[3,1];case 13:return[2,(n.vl.uh(i),r)]}})})}function bd(t){return ca(t.path,t.collectionGroup,t.orderBy,t.filters,t.limit,"F",t.startAt,t.endAt)}function md(t){var e=No(t);return No(No(e.Sh).persistence).Ko()}function vd(t,e,n,r){return Object(So.b)(this,void 0,void 0,function(){var i,o,s;return Object(So.d)(this,function(a){switch(a.label){case 0:return(i=No(t)).Ll?(To("SyncEngine","Ignoring unexpected query state notification."),[3,8]):[3,1];case 1:if(!i.Dl.has(e))return[3,8];switch(n){case"current":case"not-current":return[3,2];case"rejected":return[3,5]}return[3,7];case 2:return[4,vh(i.Sh)];case 3:return o=a.sent(),s=Au.$e(e,"current"===n),[4,ud(i,o,s)];case 4:return a.sent(),[3,8];case 5:return[4,gh(i.Sh,e,!0)];case 6:return a.sent(),rd(i,e,r),[3,8];case 7:ko(),a.label=8;case 8:return[2]}})})}function yd(t,e,n){return Object(So.b)(this,void 0,void 0,function(){var r,i,o,s,a,u,c,l,h;return Object(So.d)(this,function(f){switch(f.label){case 0:if(!(r=wd(t)).Ll)return[3,10];i=0,o=e,f.label=1;case 1:return i<o.length?r.Dl.has(s=o[i])?(To("SyncEngine","Adding an already active target "+s),[3,5]):[4,mh(r.Sh,s)]:[3,6];case 2:return a=f.sent(),[4,ph(r.Sh,a)];case 3:return u=f.sent(),[4,$f(r,bd(a),u.targetId,!1)];case 4:f.sent(),sf(r.gl,u),f.label=5;case 5:return i++,[3,1];case 6:c=function(t){return Object(So.d)(this,function(e){switch(e.label){case 0:return r.Dl.has(t)?[4,gh(r.Sh,t,!1).then(function(){af(r.gl,t),rd(r,t)}).catch(Cl)]:[3,2];case 1:e.sent(),e.label=2;case 2:return[2]}})},l=0,h=n,f.label=7;case 7:return l<h.length?[5,c(h[l])]:[3,10];case 8:f.sent(),f.label=9;case 9:return l++,[3,7];case 10:return[2]}})})}function wd(t){var e=No(t);return e.gl.Ch.Bh=Kf.bind(null,e),e.gl.Ch.Sn=ld.bind(null,e),e.gl.Ch.$h=Yf.bind(null,e),e.vl.uh=Pf.bind(null,e.Vl),e.vl.ql=Df.bind(null,e.Vl),e}function _d(t){var e=No(t);return e.gl.Ch.qh=Zf.bind(null,e),e.gl.Ch.Uh=Xf.bind(null,e),e}var Od=function(){function t(){this.synchronizeTabs=!1}return t.prototype.initialize=function(t){return Object(So.b)(this,void 0,void 0,function(){return Object(So.d)(this,function(e){switch(e.label){case 0:return this.Kt=Kh(t.gu.T),this.pl=this.jl(t),this.persistence=this.Gl(t),[4,this.persistence.start()];case 1:return e.sent(),this.zl=this.Hl(t),this.Sh=this.Jl(t),[2]}})})},t.prototype.Hl=function(t){return null},t.prototype.Jl=function(t){return ah(this.persistence,new oh,t.Yl,this.Kt)},t.prototype.Gl=function(t){return new Ah(jh.ra,this.Kt)},t.prototype.jl=function(t){return new qh},t.prototype.terminate=function(){return Object(So.b)(this,void 0,void 0,function(){return Object(So.d)(this,function(t){switch(t.label){case 0:return this.zl&&this.zl.stop(),[4,this.pl.$o()];case 1:return t.sent(),[4,this.persistence.$o()];case 2:return t.sent(),[2]}})})},t}(),Sd=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).Xl=e,i.cacheSizeBytes=n,i.forceOwnership=r,i.synchronizeTabs=!1,i}return Object(So.c)(e,t),e.prototype.initialize=function(e){return Object(So.b)(this,void 0,void 0,function(){return Object(So.d)(this,function(n){switch(n.label){case 0:return[4,t.prototype.initialize.call(this,e)];case 1:return n.sent(),[4,yh(this.Sh)];case 2:return n.sent(),[4,this.Xl.initialize(this,e)];case 3:return n.sent(),[4,_d(this.Xl.fa)];case 4:return n.sent(),[4,yf(this.Xl.gl)];case 5:return n.sent(),[2]}})})},e.prototype.Jl=function(t){return ah(this.persistence,new oh,t.Yl,this.Kt)},e.prototype.Hl=function(t){return new ql(this.persistence.mi.dr,t.fs)},e.prototype.Gl=function(t){var e=nh(t.gu.T,t.gu.persistenceKey),n=void 0!==this.cacheSizeBytes?Sl.Zs(this.cacheSizeBytes):Sl.ni;return new Xl(this.synchronizeTabs,e,t.clientId,n,t.fs,Wh(),Jh(),this.Kt,this.pl,!!this.forceOwnership)},e.prototype.jl=function(t){return new qh},e}(Od),Cd=function(t){function e(e,n){var r=this;return(r=t.call(this,e,n,!1)||this).Xl=e,r.cacheSizeBytes=n,r.synchronizeTabs=!0,r}return Object(So.c)(e,t),e.prototype.initialize=function(e){return Object(So.b)(this,void 0,void 0,function(){var n,r=this;return Object(So.d)(this,function(i){switch(i.label){case 0:return[4,t.prototype.initialize.call(this,e)];case 1:return i.sent(),n=this.Xl.fa,this.pl instanceof Uh?(this.pl.fa={nu:dd.bind(null,n),su:vd.bind(null,n),iu:yd.bind(null,n),Ko:md.bind(null,n),eu:fd.bind(null,n)},[4,this.pl.start()]):[3,3];case 2:i.sent(),i.label=3;case 3:return[4,this.persistence.yo(function(t){return Object(So.b)(r,void 0,void 0,function(){return Object(So.d)(this,function(e){switch(e.label){case 0:return[4,pd(this.Xl.fa,t)];case 1:return e.sent(),this.zl&&(t&&!this.zl.Ir?this.zl.start(this.Sh):t||this.zl.stop()),[2]}})})})];case 4:return i.sent(),[2]}})})},e.prototype.jl=function(t){var e=Wh();if(!Uh.Wn(e))throw new Uo(Fo.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");var n=nh(t.gu.T,t.gu.persistenceKey);return new Uh(e,t.fs,n,t.clientId,t.Yl)},e}(Sd),Ed=function(){function t(){}return t.prototype.initialize=function(t,e){return Object(So.b)(this,void 0,void 0,function(){var n=this;return Object(So.d)(this,function(r){switch(r.label){case 0:return this.Sh?[3,2]:(this.Sh=t.Sh,this.pl=t.pl,this.Dh=this.Zl(e),this.gl=this.t_(e),this.Vl=this.e_(e),this.fa=this.n_(e,!t.synchronizeTabs),this.pl.da=function(t){return Qf(n.fa,t,1)},this.gl.Ch.s_=cd.bind(null,this.fa),[4,Tf(this.gl,this.fa.$l)]);case 1:r.sent(),r.label=2;case 2:return[2]}})})},t.prototype.e_=function(t){return new kf},t.prototype.Zl=function(t){var e=Kh(t.gu.T),n=new $h(t.gu);return function(t,e,n){return new tf(t,e,n)}(t.credentials,n,e)},t.prototype.t_=function(t){var e,n,r,i,o,s=this;return e=this.Sh,n=this.Dh,r=t.fs,i=function(t){return Qf(s.fa,t,0)},o=zh.Wn()?new zh:new Hh,new nf(e,n,r,i,o)},t.prototype.n_=function(t,e){return function(t,e,n,r,i,o,s){var a=new Bf(t,e,n,r,i,o);return s&&(a.Ll=!0),a}(this.Sh,this.gl,this.Vl,this.pl,t.Yl,t.bl,e)},t.prototype.terminate=function(){return function(t){return Object(So.b)(this,void 0,void 0,function(){var e;return Object(So.d)(this,function(n){switch(n.label){case 0:return e=No(t),To("RemoteStore","RemoteStore shutting down."),e.Fh.add(5),[4,of(e)];case 1:return n.sent(),e.kh.$o(),e.Mh.set("Unknown"),[2]}})})}(this.gl)},t}(),Td=function(){function t(t){this.observer=t,this.muted=!1}return t.prototype.next=function(t){this.observer.next&&this.i_(this.observer.next,t)},t.prototype.error=function(t){this.observer.error?this.i_(this.observer.error,t):console.error("Uncaught Error in snapshot listener:",t)},t.prototype.r_=function(){this.muted=!0},t.prototype.i_=function(t,e){var n=this;this.muted||setTimeout(function(){n.muted||t(e)},0)},t}(),Id=(function(){function t(t,e){var n=this;this.o_=t,this.Kt=e,this.metadata=new mc,this.buffer=new Uint8Array,this.c_=new TextDecoder("utf-8"),this.a_().then(function(t){t&&t.il()?n.metadata.resolve(t.payload.metadata):n.metadata.reject(new Error("The first element of the bundle is not a metadata, it is\n             "+JSON.stringify(null==t?void 0:t.payload)))},function(t){return n.metadata.reject(t)})}t.prototype.close=function(){return this.o_.cancel()},t.prototype.getMetadata=function(){return Object(So.b)(this,void 0,void 0,function(){return Object(So.d)(this,function(t){return[2,this.metadata.promise]})})},t.prototype.Kl=function(){return Object(So.b)(this,void 0,void 0,function(){return Object(So.d)(this,function(t){switch(t.label){case 0:return[4,this.getMetadata()];case 1:return[2,(t.sent(),this.a_())]}})})},t.prototype.a_=function(){return Object(So.b)(this,void 0,void 0,function(){var t,e,n,r;return Object(So.d)(this,function(i){switch(i.label){case 0:return[4,this.u_()];case 1:return null===(t=i.sent())?[2,null]:(e=this.c_.decode(t),n=Number(e),isNaN(n)&&this.h_("length string ("+e+") is not valid number"),[4,this.l_(n)]);case 2:return r=i.sent(),[2,new Vf(JSON.parse(r),t.length+n)]}})})},t.prototype.__=function(){return this.buffer.findIndex(function(t){return t==="{".charCodeAt(0)})},t.prototype.u_=function(){return Object(So.b)(this,void 0,void 0,function(){var t,e;return Object(So.d)(this,function(n){switch(n.label){case 0:return this.__()<0?[4,this.f_()]:[3,3];case 1:if(n.sent())return[3,3];n.label=2;case 2:return[3,0];case 3:return 0===this.buffer.length?[2,null]:((t=this.__())<0&&this.h_("Reached the end of bundle when a length string is expected."),e=this.buffer.slice(0,t),[2,(this.buffer=this.buffer.slice(t),e)])}})})},t.prototype.l_=function(t){return Object(So.b)(this,void 0,void 0,function(){var e;return Object(So.d)(this,function(n){switch(n.label){case 0:return this.buffer.length<t?[4,this.f_()]:[3,3];case 1:n.sent()&&this.h_("Reached the end of bundle when more is expected."),n.label=2;case 2:return[3,0];case 3:return e=this.c_.decode(this.buffer.slice(0,t)),[2,(this.buffer=this.buffer.slice(t),e)]}})})},t.prototype.h_=function(t){throw this.o_.cancel(),new Error("Invalid bundle format: "+t)},t.prototype.f_=function(){return Object(So.b)(this,void 0,void 0,function(){var t,e;return Object(So.d)(this,function(n){switch(n.label){case 0:return[4,this.o_.read()];case 1:return(t=n.sent()).done||((e=new Uint8Array(this.buffer.length+t.value.length)).set(this.buffer),e.set(t.value,this.buffer.length),this.buffer=e),[2,t.done]}})})}}(),function(){function t(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];for(var n=0;n<t.length;++n)if(0===t[n].length)throw new Uo(Fo.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this.d_=new ss(t)}return t.prototype.isEqual=function(t){return this.d_.isEqual(t.d_)},t}()),xd=function(t){this._methodName=t};function Ad(t,e,n){if(!n)throw new Uo(Fo.INVALID_ARGUMENT,"Function "+t+"() cannot be called with an empty "+e+".")}function kd(t,e){if(void 0===e)return{merge:!1};if(void 0!==e.mergeFields&&void 0!==e.merge)throw new Uo(Fo.INVALID_ARGUMENT,"Invalid options passed to function "+t+'(): You cannot specify both "merge" and "mergeFields".');return e}function jd(t,e,n,r){if(!0===e&&!0===r)throw new Uo(Fo.INVALID_ARGUMENT,t+" and "+n+" cannot be used together.")}function Nd(t){if(!as.Et(t))throw new Uo(Fo.INVALID_ARGUMENT,"Invalid document reference. Document references must have an even number of segments, but "+t+" has "+t.length+".")}function Pd(t){if(as.Et(t))throw new Uo(Fo.INVALID_ARGUMENT,"Invalid collection reference. Collection references must have an odd number of segments, but "+t+" has "+t.length+".")}function Dd(t){if(void 0===t)return"undefined";if(null===t)return"null";if("string"==typeof t)return t.length>20&&(t=t.substring(0,20)+"..."),JSON.stringify(t);if("number"==typeof t||"boolean"==typeof t)return""+t;if("object"==typeof t){if(t instanceof Array)return"an array";var e=function(t){if(t.constructor){var e=/function\s+([^\s(]+)\s*\(/.exec(t.constructor.toString());if(e&&e.length>1)return e[1]}return null}(t);return e?"a custom "+e+" object":"an object"}return"function"==typeof t?"a function":ko()}function Md(t,e){if("_delegate"in t&&(t=t._),!(t instanceof e)){if(e.name===t.constructor.name)throw new Uo(Fo.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");var n=Dd(t);throw new Uo(Fo.INVALID_ARGUMENT,"Expected type '"+e.name+"', but it was: "+n)}return t}function Rd(t,e){if(e<=0)throw new Uo(Fo.INVALID_ARGUMENT,"Function "+t+"() requires a positive number, but it was: "+e+".")}var Vd=function(){function t(t){var e;if(void 0===t.host){if(void 0!==t.ssl)throw new Uo(Fo.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=t.host,this.ssl=null===(e=t.ssl)||void 0===e||e;if(this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,void 0===t.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==t.cacheSizeBytes&&t.cacheSizeBytes<1048576)throw new Uo(Fo.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,jd("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling)}return t.prototype.isEqual=function(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties},t}(),Ld=new Map,Fd=function(){function t(t,e){this.w_="(lite)",this.E_=new Vd({}),this.T_=!1,t instanceof Wo?(this.I_=t,this.m_=new Qo):(this.A_=t,this.I_=function(t){if(!Object.prototype.hasOwnProperty.apply(t.options,["projectId"]))throw new Uo(Fo.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Wo(t.options.projectId)}(t),this.m_=new Yo(e))}return Object.defineProperty(t.prototype,"app",{get:function(){if(!this.A_)throw new Uo(Fo.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this.A_},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"R_",{get:function(){return this.T_},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"P_",{get:function(){return void 0!==this.y_},enumerable:!1,configurable:!0}),t.prototype.g_=function(t){if(this.T_)throw new Uo(Fo.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this.E_=new Vd(t),void 0!==t.credentials&&(this.m_=function(t){if(!t)return new Qo;switch(t.type){case"gapi":var e=t.client;return jo(!("object"!=typeof e||null===e||!e.auth||!e.auth.getAuthHeaderValueForFirstParty)),new Xo(e,t.sessionIndex||"0");case"provider":return t.client;default:throw new Uo(Fo.INVALID_ARGUMENT,"makeCredentialsProvider failed due to invalid credential type")}}(t.credentials))},t.prototype.V_=function(){return this.E_},t.prototype.p_=function(){return this.T_=!0,this.E_},t.prototype._delete=function(){return this.y_||(this.y_=this.b_()),this.y_},t.prototype.b_=function(){return(t=Ld.get(this))&&(To("ComponentProvider","Removing Datastore"),Ld.delete(this),t.terminate()),Promise.resolve();var t},t}(),Ud=function(){function t(t,e,n){this.v_=e,this.S_=n,this.type="document",this.firestore=t}return Object.defineProperty(t.prototype,"D_",{get:function(){return this.S_.path},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"id",{get:function(){return this.S_.path.et()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"path",{get:function(){return this.S_.path.ot()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"parent",{get:function(){return new Hd(this.firestore,this.v_,this.S_.path.Z())},enumerable:!1,configurable:!0}),t.prototype.withConverter=function(e){return new t(this.firestore,e,this.S_)},t}(),qd=function(){function t(t,e,n){this.v_=e,this.C_=n,this.type="query",this.firestore=t}return t.prototype.withConverter=function(e){return new t(this.firestore,e,this.C_)},t}(),Hd=function(t){function e(e,n,r){var i=this;return(i=t.call(this,e,n,la(r))||this).firestore=e,i.D_=r,i.type="collection",i}return Object(So.c)(e,t),Object.defineProperty(e.prototype,"id",{get:function(){return this.C_.path.et()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"path",{get:function(){return this.C_.path.ot()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"parent",{get:function(){var t=this.D_.Z();return t.nt()?null:new Ud(this.firestore,null,new as(t))},enumerable:!1,configurable:!0}),e.prototype.withConverter=function(t){return new e(this.firestore,t,this.D_)},e}(qd);function zd(t,e){for(var n,r=[],i=2;i<arguments.length;i++)r[i-2]=arguments[i];if(t instanceof Ho&&(t=t._),Ad("collection","path",e),t instanceof Fd)return Pd(n=is.ct.apply(is,Object(So.g)([e],r))),new Hd(t,null,n);if(!(t instanceof Ud||t instanceof Hd))throw new Uo(Fo.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");return Pd(n=is.ct.apply(is,Object(So.g)([t.path],r)).child(is.ct(e))),new Hd(t.firestore,null,n)}function Bd(t,e){for(var n,r=[],i=2;i<arguments.length;i++)r[i-2]=arguments[i];if(t instanceof Ho&&(t=t._),1===arguments.length&&(e=Do.t()),Ad("doc","path",e),t instanceof Fd)return Nd(n=is.ct.apply(is,Object(So.g)([e],r))),new Ud(t,null,new as(n));if(!(t instanceof Ud||t instanceof Hd))throw new Uo(Fo.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");return Nd(n=t.D_.child(is.ct.apply(is,Object(So.g)([e],r)))),new Ud(t.firestore,t instanceof Hd?t.v_:null,new as(n))}function Gd(t,e){return t instanceof Ho&&(t=t._),e instanceof Ho&&(e=e._),(t instanceof Ud||t instanceof Hd)&&(e instanceof Ud||e instanceof Hd)&&t.firestore===e.firestore&&t.path===e.path&&t.v_===e.v_}function $d(t,e){return t instanceof Ho&&(t=t._),e instanceof Ho&&(e=e._),t instanceof qd&&e instanceof qd&&t.firestore===e.firestore&&ya(t.C_,e.C_)&&t.v_===e.v_}var Wd=function(){function t(t,e){if(!isFinite(t)||t<-90||t>90)throw new Uo(Fo.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(e)||e<-180||e>180)throw new Uo(Fo.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+e);this.x_=t,this.N_=e}return Object.defineProperty(t.prototype,"latitude",{get:function(){return this.x_},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"longitude",{get:function(){return this.N_},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(t){return this.x_===t.x_&&this.N_===t.N_},t.prototype.toJSON=function(){return{latitude:this.x_,longitude:this.N_}},t.prototype.K=function(t){return Mo(this.x_,t.x_)||Mo(this.N_,t.N_)},t}(),Jd=/^__.*__$/,Kd=function(){function t(t,e,n){this.data=t,this.zt=e,this.fieldTransforms=n}return t.prototype.F_=function(t,e){return null!==this.zt?new Za(t,this.data,this.zt,e,this.fieldTransforms):new Ya(t,this.data,e,this.fieldTransforms)},t}(),Qd=function(){function t(t,e,n){this.data=t,this.zt=e,this.fieldTransforms=n}return t.prototype.F_=function(t,e){return new Za(t,this.data,this.zt,e,this.fieldTransforms)},t}();function Yd(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw ko()}}var Zd=function(){function t(t,e,n,r,i,o){this.settings=t,this.T=e,this.Kt=n,this.ignoreUndefinedProperties=r,void 0===i&&this.O_(),this.fieldTransforms=i||[],this.zt=o||[]}return Object.defineProperty(t.prototype,"path",{get:function(){return this.settings.path},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"k_",{get:function(){return this.settings.k_},enumerable:!1,configurable:!0}),t.prototype.M_=function(e){return new t(Object.assign(Object.assign({},this.settings),e),this.T,this.Kt,this.ignoreUndefinedProperties,this.fieldTransforms,this.zt)},t.prototype.L_=function(t){var e,n=null===(e=this.path)||void 0===e?void 0:e.child(t),r=this.M_({path:n,B_:!1});return r.q_(t),r},t.prototype.U_=function(t){var e,n=null===(e=this.path)||void 0===e?void 0:e.child(t),r=this.M_({path:n,B_:!1});return r.O_(),r},t.prototype.Q_=function(t){return this.M_({path:void 0,B_:!0})},t.prototype.K_=function(t){return vp(t,this.settings.methodName,this.settings.W_||!1,this.path,this.settings.j_)},t.prototype.contains=function(t){return void 0!==this.zt.find(function(e){return t.st(e)})||void 0!==this.fieldTransforms.find(function(e){return t.st(e.field)})},t.prototype.O_=function(){if(this.path)for(var t=0;t<this.path.length;t++)this.q_(this.path.get(t))},t.prototype.q_=function(t){if(0===t.length)throw this.K_("Document fields must not be empty");if(Yd(this.k_)&&Jd.test(t))throw this.K_('Document fields cannot begin and end with "__"')},t}(),Xd=function(){function t(t,e,n){this.T=t,this.ignoreUndefinedProperties=e,this.Kt=n||Kh(t)}return t.prototype.G_=function(t,e,n,r){return void 0===r&&(r=!1),new Zd({k_:t,methodName:e,j_:n,path:ss.at(),B_:!1,W_:r},this.T,this.Kt,this.ignoreUndefinedProperties)},t}();function tp(t){var e=t.p_(),n=Kh(t.I_);return new Xd(t.I_,!!e.ignoreUndefinedProperties,n)}function ep(t,e,n,r,i,o){void 0===o&&(o={});var s=t.G_(o.merge||o.mergeFields?2:0,e,n,i);pp("Data must be an object, but it was:",s,r);var a,u,c=fp(r,s);if(o.merge)a=new hs(s.zt),u=s.fieldTransforms;else if(o.mergeFields){for(var l=[],h=0,f=o.mergeFields;h<f.length;h++){var d=gp(e,f[h],n);if(!s.contains(d))throw new Uo(Fo.INVALID_ARGUMENT,"Field '"+d+"' is specified in your field mask but missing from your input data.");yp(l,d)||l.push(d)}a=new hs(l),u=s.fieldTransforms.filter(function(t){return a.It(t.field)})}else a=null,u=s.fieldTransforms;return new Kd(new Ms(c),a,u)}var np=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(So.c)(e,t),e.prototype.z_=function(t){if(2!==t.k_)throw t.K_(1===t.k_?this._methodName+"() can only appear at the top level of your update data":this._methodName+"() cannot be used with set() unless you pass {merge:true}");return t.zt.push(t.path),null},e.prototype.isEqual=function(t){return t instanceof e},e}(xd);function rp(t,e,n){return new Zd({k_:3,j_:e.settings.j_,methodName:t._methodName,B_:n},e.T,e.Kt,e.ignoreUndefinedProperties)}var ip=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(So.c)(e,t),e.prototype.z_=function(t){return new qa(t.path,new Pa)},e.prototype.isEqual=function(t){return t instanceof e},e}(xd),op=function(t){function e(e,n){var r=this;return(r=t.call(this,e)||this).H_=n,r}return Object(So.c)(e,t),e.prototype.z_=function(t){var e=rp(this,t,!0),n=this.H_.map(function(t){return hp(t,e)}),r=new Da(n);return new qa(t.path,r)},e.prototype.isEqual=function(t){return this===t},e}(xd),sp=function(t){function e(e,n){var r=this;return(r=t.call(this,e)||this).H_=n,r}return Object(So.c)(e,t),e.prototype.z_=function(t){var e=rp(this,t,!0),n=this.H_.map(function(t){return hp(t,e)}),r=new Ra(n);return new qa(t.path,r)},e.prototype.isEqual=function(t){return this===t},e}(xd),ap=function(t){function e(e,n){var r=this;return(r=t.call(this,e)||this).J_=n,r}return Object(So.c)(e,t),e.prototype.z_=function(t){var e=new La(t.Kt,xa(t.Kt,this.J_));return new qa(t.path,e)},e.prototype.isEqual=function(t){return this===t},e}(xd);function up(t,e,n,r){var i=t.G_(1,e,n);pp("Data must be an object, but it was:",i,r);var o=[],s=new Rs;cs(r,function(t,r){var a=mp(e,t,n);r instanceof Ho&&(r=r._);var u=i.U_(a);if(r instanceof np)o.push(a);else{var c=hp(r,u);null!=c&&(o.push(a),s.set(a,c))}});var a=new hs(o);return new Qd(s.yt(),a,i.fieldTransforms)}function cp(t,e,n,r,i,o){var s=t.G_(1,e,n),a=[gp(e,r,n)],u=[i];if(o.length%2!=0)throw new Uo(Fo.INVALID_ARGUMENT,"Function "+e+"() needs to be called with an even number of arguments that alternate between field names and values.");for(var c=0;c<o.length;c+=2)a.push(gp(e,o[c])),u.push(o[c+1]);for(var l=[],h=new Rs,f=a.length-1;f>=0;--f)if(!yp(l,a[f])){var d=a[f],p=u[f];p instanceof Ho&&(p=p._);var g=s.U_(d);if(p instanceof np)l.push(d);else{var b=hp(p,g);null!=b&&(l.push(d),h.set(d,b))}}var m=new hs(l);return new Qd(h.yt(),m,s.fieldTransforms)}function lp(t,e,n,r){return void 0===r&&(r=!1),hp(n,t.G_(r?4:3,e))}function hp(t,e){if(t instanceof Ho&&(t=t._),dp(t))return pp("Unsupported field value:",e,t),fp(t,e);if(t instanceof xd)return function(t,e){if(!Yd(e.k_))throw e.K_(t._methodName+"() can only be used with update() and set()");if(!e.path)throw e.K_(t._methodName+"() is not currently supported inside arrays");var n=t.z_(e);n&&e.fieldTransforms.push(n)}(t,e),null;if(e.path&&e.zt.push(e.path),t instanceof Array){if(e.settings.B_&&4!==e.k_)throw e.K_("Nested arrays are not supported");return function(t,e){for(var n=[],r=0,i=0,o=t;i<o.length;i++){var s=hp(o[i],e.Q_(r));null==s&&(s={nullValue:"NULL_VALUE"}),n.push(s),r++}return{arrayValue:{values:n}}}(t,e)}return function(t,e){if(t instanceof Ho&&(t=t._),null===t)return{nullValue:"NULL_VALUE"};if("number"==typeof t)return xa(e.Kt,t);if("boolean"==typeof t)return{booleanValue:t};if("string"==typeof t)return{stringValue:t};if(t instanceof Date){var n=es.fromDate(t);return{timestampValue:qu(e.Kt,n)}}if(t instanceof es)return n=new es(t.seconds,1e3*Math.floor(t.nanoseconds/1e3)),{timestampValue:qu(e.Kt,n)};if(t instanceof Wd)return{geoPointValue:{latitude:t.latitude,longitude:t.longitude}};if(t instanceof qo)return{bytesValue:Hu(e.Kt,t.l)};if(t instanceof Ud){var r=t.firestore.I_;if(!r.isEqual(n=e.T))throw e.K_("Document reference is for database "+r.projectId+"/"+r.database+" but should be for database "+n.projectId+"/"+n.database);return{referenceValue:Gu(t.firestore.I_||e.T,t.S_.path)}}if(void 0===t&&e.ignoreUndefinedProperties)return null;throw e.K_("Unsupported field value: "+Dd(t))}(t,e)}function fp(t,e){var n={};return ls(t)?e.path&&e.path.length>0&&e.zt.push(e.path):cs(t,function(t,r){var i=hp(r,e.L_(t));null!=i&&(n[t]=i)}),{mapValue:{fields:n}}}function dp(t){return!("object"!=typeof t||null===t||t instanceof Array||t instanceof Date||t instanceof es||t instanceof Wd||t instanceof qo||t instanceof Ud||t instanceof xd)}function pp(t,e,n){if(!dp(n)||!function(t){return"object"==typeof t&&null!==t&&(Object.getPrototypeOf(t)===Object.prototype||null===Object.getPrototypeOf(t))}(n)){var r=Dd(n);throw e.K_("an object"===r?t+" a custom object":t+" "+r)}}function gp(t,e,n){if(e instanceof Ho&&(e=e._),e instanceof Id)return e.d_;if("string"==typeof e)return mp(t,e);throw vp("Field path arguments must be of type string or FieldPath.",t,!1,void 0,n)}var bp=new RegExp("[~\\*/\\[\\]]");function mp(t,e,n){if(e.search(bp)>=0)throw vp("Invalid field path ("+e+"). Paths must not contain '~', '*', '/', '[', or ']'",t,!1,void 0,n);try{return(new(Id.bind.apply(Id,Object(So.g)([void 0],e.split("."))))).d_}catch(r){throw vp("Invalid field path ("+e+"). Paths must not be empty, begin with '.', end with '.', or contain '..'",t,!1,void 0,n)}}function vp(t,e,n,r,i){var o=r&&!r.nt(),s=void 0!==i,a="Function "+e+"() called with invalid data";n&&(a+=" (via `toFirestore()`)");var u="";return(o||s)&&(u+=" (found",o&&(u+=" in field "+r),s&&(u+=" in document "+i),u+=")"),new Uo(Fo.INVALID_ARGUMENT,(a+=". ")+t+u)}function yp(t,e){return t.some(function(t){return t.isEqual(e)})}var wp=function(){function t(t){this.Dh=t,this.Y_=new Map,this.mutations=[],this.X_=!1,this.Z_=null,this.tf=new Set}return t.prototype.ef=function(t){return Object(So.b)(this,void 0,void 0,function(){var e,n=this;return Object(So.d)(this,function(r){switch(r.label){case 0:if(this.nf(),this.mutations.length>0)throw new Uo(Fo.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");return[4,function(t,e){return Object(So.b)(this,void 0,void 0,function(){var n,r,i,o,s,a;return Object(So.d)(this,function(u){switch(u.label){case 0:return n=No(t),r=Yu(n.Kt)+"/documents",i={documents:e.map(function(t){return Wu(n.Kt,t)})},[4,n.Cu("BatchGetDocuments",r,i)];case 1:return o=u.sent(),s=new Map,o.forEach(function(t){var e=function(t,e){return"found"in e?function(t,e){jo(!!e.found);var n=Ju(t,e.found.name),r=Bu(e.found.updateTime),i=new Ms({mapValue:{fields:e.found.fields}});return new Fs(n,r,i,{})}(t,e):"missing"in e?function(t,e){jo(!!e.missing),jo(!!e.readTime);var n=Ju(t,e.missing),r=Bu(e.readTime);return new Us(n,r)}(t,e):ko()}(n.Kt,t);s.set(e.key.toString(),e)}),a=[],[2,(e.forEach(function(t){var e=s.get(t.toString());jo(!!e),a.push(e)}),a)]}})})}(this.Dh,t)];case 1:return[2,((e=r.sent()).forEach(function(t){t instanceof Us||t instanceof Fs?n.sf(t):ko()}),e)]}})})},t.prototype.set=function(t,e){this.write(e.F_(t,this.Gt(t))),this.tf.add(t.toString())},t.prototype.update=function(t,e){try{this.write(e.F_(t,this.rf(t)))}catch(t){this.Z_=t}this.tf.add(t.toString())},t.prototype.delete=function(t){this.write(new ou(t,this.Gt(t))),this.tf.add(t.toString())},t.prototype.commit=function(){return Object(So.b)(this,void 0,void 0,function(){var t,e=this;return Object(So.d)(this,function(n){switch(n.label){case 0:if(this.nf(),this.Z_)throw this.Z_;return t=this.Y_,this.mutations.forEach(function(e){t.delete(e.key.toString())}),t.forEach(function(t,n){var r=as.ft(n);e.mutations.push(new su(r,e.Gt(r)))}),[4,function(t,e){return Object(So.b)(this,void 0,void 0,function(){var n,r,i;return Object(So.d)(this,function(o){switch(o.label){case 0:return n=No(t),r=Yu(n.Kt)+"/documents",i={writes:e.map(function(t){return ec(n.Kt,t)})},[4,n.bu("Commit",r,i)];case 1:return o.sent(),[2]}})})}(this.Dh,this.mutations)];case 1:return n.sent(),this.X_=!0,[2]}})})},t.prototype.sf=function(t){var e;if(t instanceof Fs)e=t.version;else{if(!(t instanceof Us))throw ko();e=ns.min()}var n=this.Y_.get(t.key.toString());if(n){if(!e.isEqual(n))throw new Uo(Fo.ABORTED,"Document version changed between two reads.")}else this.Y_.set(t.key.toString(),e)},t.prototype.Gt=function(t){var e=this.Y_.get(t.toString());return!this.tf.has(t.toString())&&e?za.updateTime(e):za.Wt()},t.prototype.rf=function(t){var e=this.Y_.get(t.toString());if(!this.tf.has(t.toString())&&e){if(e.isEqual(ns.min()))throw new Uo(Fo.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return za.updateTime(e)}return za.exists(!0)},t.prototype.write=function(t){this.nf(),this.mutations.push(t)},t.prototype.nf=function(){},t}(),_p=function(){function t(t,e,n,r){this.fs=t,this.Dh=e,this.updateFunction=n,this.Ts=r,this.cf=5,this.zu=new Qh(this.fs,"transaction_retry")}return t.prototype.run=function(){this.af()},t.prototype.af=function(){var t=this;this.zu.Bu(function(){return Object(So.b)(t,void 0,void 0,function(){var t,e,n=this;return Object(So.d)(this,function(r){return t=new wp(this.Dh),(e=this.uf(t))&&e.then(function(e){n.fs.ys(function(){return t.commit().then(function(){n.Ts.resolve(e)}).catch(function(t){n.hf(t)})})}).catch(function(t){n.hf(t)}),[2]})})})},t.prototype.uf=function(t){try{var e=this.updateFunction(t);return!ys(e)&&e.catch&&e.then?e:(this.Ts.reject(Error("Transaction callback must return a Promise")),null)}catch(t){return this.Ts.reject(t),null}},t.prototype.hf=function(t){var e=this;this.cf>0&&this.lf(t)?(this.cf-=1,this.fs.ys(function(){return e.af(),Promise.resolve()})):this.Ts.reject(t)},t.prototype.lf=function(t){if("FirebaseError"===t.name){var e=t.code;return"aborted"===e||"failed-precondition"===e||!uu(e)}return!1},t}(),Op=function(){function t(t,e,n){var r=this;this.credentials=t,this.fs=e,this.gu=n,this.user=Jo.UNAUTHENTICATED,this.clientId=Do.t(),this._f=function(){},this.N=new mc,this.credentials.S(function(t){To("FirestoreClient","Received user=",t.uid),r.user=t,r._f(t),r.N.resolve()})}return t.prototype.getConfiguration=function(){return Object(So.b)(this,void 0,void 0,function(){return Object(So.d)(this,function(t){switch(t.label){case 0:return[4,this.N.promise];case 1:return[2,(t.sent(),{fs:this.fs,gu:this.gu,clientId:this.clientId,credentials:this.credentials,Yl:this.user,bl:100})]}})})},t.prototype.ff=function(t){var e=this;this._f=t,this.N.promise.then(function(){return e._f(e.user)})},t.prototype.df=function(){if(this.fs.wf)throw new Uo(Fo.FAILED_PRECONDITION,"The client has already been terminated.")},t.prototype.terminate=function(){var t=this;this.fs.Ef();var e=new mc;return this.fs.Tf(function(){return Object(So.b)(t,void 0,void 0,function(){var t,n;return Object(So.d)(this,function(r){switch(r.label){case 0:return r.trys.push([0,5,,6]),this.If?[4,this.If.terminate()]:[3,2];case 1:r.sent(),r.label=2;case 2:return this.mf?[4,this.mf.terminate()]:[3,4];case 3:r.sent(),r.label=4;case 4:return this.credentials.D(),e.resolve(),[3,6];case 5:return t=r.sent(),n=Ac(t,"Failed to shutdown persistence"),e.reject(n),[3,6];case 6:return[2]}})})}),e.promise},t}();function Sp(t,e){return Object(So.b)(this,void 0,void 0,function(){var n,r,i=this;return Object(So.d)(this,function(o){switch(o.label){case 0:return t.fs.Af(),To("FirestoreClient","Initializing OfflineComponentProvider"),[4,t.getConfiguration()];case 1:return n=o.sent(),[4,e.initialize(n)];case 2:return o.sent(),r=n.Yl,t.ff(function(n){r.isEqual(n)||(r=n,t.fs.vo(function(){return Object(So.b)(i,void 0,void 0,function(){return Object(So.d)(this,function(t){switch(t.label){case 0:return[4,uh(e.Sh,n)];case 1:return t.sent(),[2]}})})}))}),e.persistence.Vo(function(){return t.terminate()}),t.mf=e,[2]}})})}function Cp(t,e){return Object(So.b)(this,void 0,void 0,function(){var n,r;return Object(So.d)(this,function(i){switch(i.label){case 0:return t.fs.Af(),[4,Ep(t)];case 1:return n=i.sent(),To("FirestoreClient","Initializing OnlineComponentProvider"),[4,t.getConfiguration()];case 2:return r=i.sent(),[4,e.initialize(n,r)];case 3:return i.sent(),t.ff(function(n){return t.fs.vo(function(){return function(t,e){return Object(So.b)(this,void 0,void 0,function(){var n,r;return Object(So.d)(this,function(i){switch(i.label){case 0:return(n=No(t)).fs.Af(),To("RemoteStore","RemoteStore received new credentials"),r=ff(n),n.Fh.add(3),[4,of(n)];case 1:return i.sent(),r&&n.Mh.set("Unknown"),[4,n.Ch.s_(e)];case 2:return i.sent(),n.Fh.delete(3),[4,rf(n)];case 3:return i.sent(),[2]}})})}(e.gl,n)})}),t.If=e,[2]}})})}function Ep(t){return Object(So.b)(this,void 0,void 0,function(){return Object(So.d)(this,function(e){switch(e.label){case 0:return t.mf?[3,2]:(To("FirestoreClient","Using default OfflineComponentProvider"),[4,Sp(t,new Od)]);case 1:e.sent(),e.label=2;case 2:return[2,t.mf]}})})}function Tp(t){return Object(So.b)(this,void 0,void 0,function(){return Object(So.d)(this,function(e){switch(e.label){case 0:return t.If?[3,2]:(To("FirestoreClient","Using default OnlineComponentProvider"),[4,Cp(t,new Ed)]);case 1:e.sent(),e.label=2;case 2:return[2,t.If]}})})}function Ip(t){return Ep(t).then(function(t){return t.persistence})}function xp(t){return Ep(t).then(function(t){return t.Sh})}function Ap(t){return Tp(t).then(function(t){return t.gl})}function kp(t){return Tp(t).then(function(t){return t.fa})}function jp(t){return Object(So.b)(this,void 0,void 0,function(){var e,n;return Object(So.d)(this,function(r){switch(r.label){case 0:return[4,Tp(t)];case 1:return e=r.sent(),[2,((n=e.Vl).Gh=Gf.bind(null,e.fa),n.Jh=Wf.bind(null,e.fa),n)]}})})}function Np(t,e,n){var r=this;void 0===n&&(n={});var i=new mc;return t.fs.ys(function(){return Object(So.b)(r,void 0,void 0,function(){var r;return Object(So.d)(this,function(o){switch(o.label){case 0:return r=function(t,e,n,r,i){var o=new Td({next:function(o){e.ys(function(){return Nf(t,s)});var a=o.docs.has(n);!a&&o.fromCache?i.reject(new Uo(Fo.UNAVAILABLE,"Failed to get document because the client is offline.")):a&&o.fromCache&&r&&"server"===r.source?i.reject(new Uo(Fo.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):i.resolve(o)},error:function(t){return i.reject(t)}}),s=new Rf(la(n.path),o,{includeMetadataChanges:!0,sl:!0});return jf(t,s)},[4,jp(t)];case 1:return[2,r.apply(void 0,[o.sent(),t.fs,e,n,i])]}})})}),i.promise}function Pp(t,e,n){var r=this;void 0===n&&(n={});var i=new mc;return t.fs.ys(function(){return Object(So.b)(r,void 0,void 0,function(){var r;return Object(So.d)(this,function(o){switch(o.label){case 0:return r=function(t,e,n,r,i){var o=new Td({next:function(n){e.ys(function(){return Nf(t,s)}),n.fromCache&&"server"===r.source?i.reject(new Uo(Fo.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):i.resolve(n)},error:function(t){return i.reject(t)}}),s=new Rf(n,o,{includeMetadataChanges:!0,sl:!0});return jf(t,s)},[4,jp(t)];case 1:return[2,r.apply(void 0,[o.sent(),t.fs,e,n,i])]}})})}),i.promise}var Dp=function(){function t(){var t=this;this.Rf=Promise.resolve(),this.Pf=[],this.yf=!1,this.gf=[],this.Vf=null,this.pf=!1,this.bf=[],this.zu=new Qh(this,"async_queue_retry"),this.vf=function(){var e=Jh();e&&To("AsyncQueue","Visibility state changed to "+e.visibilityState),t.zu.Uu()};var e=Jh();e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this.vf)}return Object.defineProperty(t.prototype,"wf",{get:function(){return this.yf},enumerable:!1,configurable:!0}),t.prototype.ys=function(t){this.enqueue(t)},t.prototype.Tf=function(t){this.Sf(),this.Df(t)},t.prototype.Ef=function(){if(!this.yf){this.yf=!0;var t=Jh();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.vf)}},t.prototype.enqueue=function(t){return this.Sf(),this.yf?new Promise(function(t){}):this.Df(t)},t.prototype.vo=function(t){var e=this;this.ys(function(){return e.Pf.push(t),e.Cf()})},t.prototype.Cf=function(){return Object(So.b)(this,void 0,void 0,function(){var t,e=this;return Object(So.d)(this,function(n){switch(n.label){case 0:if(0===this.Pf.length)return[3,5];n.label=1;case 1:return n.trys.push([1,3,,4]),[4,this.Pf[0]()];case 2:return n.sent(),this.Pf.shift(),this.zu.reset(),[3,4];case 3:if(!Sc(t=n.sent()))throw t;return To("AsyncQueue","Operation failed with retryable error: "+t),[3,4];case 4:this.Pf.length>0&&this.zu.Bu(function(){return e.Cf()}),n.label=5;case 5:return[2]}})})},t.prototype.Df=function(t){var e=this,n=this.Rf.then(function(){return e.pf=!0,t().catch(function(t){throw e.Vf=t,e.pf=!1,Io("INTERNAL UNHANDLED ERROR: ",function(t){var e=t.message||"";return t.stack&&(e=t.stack.includes(t.message)?t.stack:t.message+"\n"+t.stack),e}(t)),t}).then(function(t){return e.pf=!1,t})});return this.Rf=n,n},t.prototype.mr=function(t,e,n){var r=this;this.Sf(),this.bf.indexOf(t)>-1&&(e=0);var i=xc.Is(this,t,e,n,function(t){return r.xf(t)});return this.gf.push(i),i},t.prototype.Sf=function(){this.Vf&&ko()},t.prototype.Af=function(){},t.prototype.Nf=function(){return Object(So.b)(this,void 0,void 0,function(){var t;return Object(So.d)(this,function(e){switch(e.label){case 0:return[4,t=this.Rf];case 1:e.sent(),e.label=2;case 2:if(t!==this.Rf)return[3,0];e.label=3;case 3:return[2]}})})},t.prototype.Ff=function(t){for(var e=0,n=this.gf;e<n.length;e++)if(n[e].ds===t)return!0;return!1},t.prototype.Of=function(t){var e=this;return this.Nf().then(function(){e.gf.sort(function(t,e){return t.ws-e.ws});for(var n=0,r=e.gf;n<r.length;n++){var i=r[n];if(i.Ps(),"all"!==t&&i.ds===t)break}return e.Nf()})},t.prototype.kf=function(t){this.bf.push(t)},t.prototype.xf=function(t){var e=this.gf.indexOf(t);this.gf.splice(e,1)},t}(),Mp=function(t){function e(e,n){var r=this;return(r=t.call(this,e,n)||this).Mf=new Dp,r.w_="name"in e?e.name:"[DEFAULT]",r}return Object(So.c)(e,t),e.prototype.b_=function(){return this.Lf||Vp(this),this.Lf.terminate()},e}(Fd);function Rp(t){return t.Lf||Vp(t),t.Lf.df(),t.Lf}function Vp(t){var e=t.p_(),n=function(t,e,n){return new $o(t,e,n.host,n.ssl,n.experimentalForceLongPolling,n.experimentalAutoDetectLongPolling)}(t.I_,t.w_,e);t.Lf=new Op(t.m_,t.Mf,n)}function Lp(t,e,n){var r=this,i=new mc;return t.fs.enqueue(function(){return Object(So.b)(r,void 0,void 0,function(){var r;return Object(So.d)(this,function(o){switch(o.label){case 0:return o.trys.push([0,3,,4]),[4,Sp(t,n)];case 1:return o.sent(),[4,Cp(t,e)];case 2:return o.sent(),i.resolve(),[3,4];case 3:if(!function(t){return"FirebaseError"===t.name?t.code===Fo.FAILED_PRECONDITION||t.code===Fo.UNIMPLEMENTED:!("undefined"!=typeof DOMException&&t instanceof DOMException)||22===t.code||20===t.code||11===t.code}(r=o.sent()))throw r;return console.warn("Error enabling offline persistence. Falling back to persistence disabled: "+r),i.reject(r),[3,4];case 4:return[2]}})})}).then(function(){return i.promise})}function Fp(t){if(t.R_||t.P_)throw new Uo(Fo.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}var Up=function(){function t(){}return t.prototype.$f=function(t,e){switch(void 0===e&&(e="none"),Os(t)){case 0:return null;case 1:return t.booleanValue;case 2:return ps(t.integerValue||t.doubleValue);case 3:return this.Bf(t.timestampValue);case 4:return this.qf(t,e);case 5:return t.stringValue;case 6:return this.Uf(gs(t.bytesValue));case 7:return this.Qf(t.referenceValue);case 8:return this.Kf(t.geoPointValue);case 9:return this.Wf(t.arrayValue,e);case 10:return this.jf(t.mapValue,e);default:throw ko()}},t.prototype.jf=function(t,e){var n=this,r={};return cs(t.fields||{},function(t,i){r[t]=n.$f(i,e)}),r},t.prototype.Kf=function(t){return new Wd(ps(t.latitude),ps(t.longitude))},t.prototype.Wf=function(t,e){var n=this;return(t.values||[]).map(function(t){return n.$f(t,e)})},t.prototype.qf=function(t,e){switch(e){case"previous":var n=ms(t);return null==n?null:this.$f(n,e);case"estimate":return this.Bf(vs(t));default:return null}},t.prototype.Bf=function(t){var e=ds(t);return new es(e.seconds,e.nanos)},t.prototype.Gf=function(t,e){var n=is.ct(t);jo(bc(n));var r=new Wo(n.get(1),n.get(3)),i=new as(n.X(5));return r.isEqual(e)||Io("Document "+i+" contains a document reference within a different database ("+r.projectId+"/"+r.database+") which is not supported. It will be treated as a reference in the current database ("+e.projectId+"/"+e.database+") instead."),i},t}(),qp=function(){function t(t,e,n,r,i){this.zf=t,this.Hf=e,this.S_=n,this.Jf=r,this.v_=i}return Object.defineProperty(t.prototype,"id",{get:function(){return this.S_.path.et()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"ref",{get:function(){return new Ud(this.zf,this.v_,this.S_)},enumerable:!1,configurable:!0}),t.prototype.exists=function(){return null!==this.Jf},t.prototype.data=function(){if(this.Jf){if(this.v_){var t=new Hp(this.zf,this.Hf,this.S_,this.Jf,null);return this.v_.fromFirestore(t)}return this.Hf.$f(this.Jf.vt())}},t.prototype.get=function(t){if(this.Jf){var e=this.Jf.data().field(zp("DocumentSnapshot.get",t));if(null!==e)return this.Hf.$f(e)}},t}(),Hp=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(So.c)(e,t),e.prototype.data=function(){return t.prototype.data.call(this)},e}(qp);function zp(t,e){return"string"==typeof e?mp(t,e):e instanceof Ho?e._.d_:e.d_}function Bp(t){if(fa(t)&&0===t.Nt.length)throw new Uo(Fo.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}var Gp=function(){};function $p(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];for(var r=0,i=e;r<i.length;r++){var o=i[r];t=o.Yf(t)}return t}var Wp=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).Xf=e,i.Zf=n,i.td=r,i.type="where",i}return Object(So.c)(e,t),e.prototype.Yf=function(t){var e=tp(t.firestore),n=function(t,e,n,r,i,o,s){var a;if(i.ht()){if("array-contains"===o||"array-contains-any"===o)throw new Uo(Fo.INVALID_ARGUMENT,"Invalid Query. You can't perform '"+o+"' queries on FieldPath.documentId().");if("in"===o||"not-in"===o){tg(s,o);for(var u=[],c=0,l=s;c<l.length;c++)u.push(Xp(r,t,l[c]));a={arrayValue:{values:u}}}else a=Xp(r,t,s)}else"in"!==o&&"not-in"!==o&&"array-contains-any"!==o||tg(s,o),a=lp(n,"where",s,"in"===o||"not-in"===o);var h=Ws.create(i,o,a);return function(t,e){if(e.xt()){var n=pa(t);if(null!==n&&!n.isEqual(e.field))throw new Uo(Fo.INVALID_ARGUMENT,"Invalid query. All where filters with an inequality (<, <=, >, or >=) must be on the same field. But you have inequality filters on '"+n.toString()+"' and '"+e.field.toString()+"'");var r=da(t);null!==r&&eg(0,e.field,r)}var i=function(t,e){for(var n=0,r=t.filters;n<r.length;n++){var i=r[n];if(e.indexOf(i.op)>=0)return i.op}return null}(t,function(t){switch(t){case"!=":return["!=","not-in"];case"array-contains":return["array-contains","array-contains-any","not-in"];case"in":return["array-contains-any","in","not-in"];case"array-contains-any":return["array-contains","array-contains-any","in","not-in"];case"not-in":return["array-contains","array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(null!==i)throw new Uo(Fo.INVALID_ARGUMENT,i===e.op?"Invalid query. You cannot use more than one '"+e.op.toString()+"' filter.":"Invalid query. You cannot use '"+e.op.toString()+"' filters with '"+i.toString()+"' filters.")}(t,h),h}(t.C_,0,e,t.firestore.I_,this.Xf,this.Zf,this.td);return new qd(t.firestore,t.v_,function(t,e){var n=t.filters.concat([e]);return new ua(t.path,t.collectionGroup,t.Nt.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}(t.C_,n))},e}(Gp),Jp=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).Xf=e,r.ed=n,r.type="orderBy",r}return Object(So.c)(e,t),e.prototype.Yf=function(t){var e=function(t,e,n){if(null!==t.startAt)throw new Uo(Fo.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==t.endAt)throw new Uo(Fo.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");var r=new ia(e,n);return function(t,e){if(null===da(t)){var n=pa(t);null!==n&&eg(0,n,e.field)}}(t,r),r}(t.C_,this.Xf,this.ed);return new qd(t.firestore,t.v_,function(t,e){var n=t.Nt.concat([e]);return new ua(t.path,t.collectionGroup,n,t.filters.slice(),t.limit,t.limitType,t.startAt,t.endAt)}(t.C_,e))},e}(Gp),Kp=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).type=e,i.nd=n,i.sd=r,i}return Object(So.c)(e,t),e.prototype.Yf=function(t){return new qd(t.firestore,t.v_,va(t.C_,this.nd,this.sd))},e}(Gp),Qp=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).type=e,i.rd=n,i.od=r,i}return Object(So.c)(e,t),e.prototype.Yf=function(t){var e=Zp(t,this.type,this.rd,this.od);return new qd(t.firestore,t.v_,function(t,e){return new ua(t.path,t.collectionGroup,t.Nt.slice(),t.filters.slice(),t.limit,t.limitType,e,t.endAt)}(t.C_,e))},e}(Gp),Yp=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).type=e,i.rd=n,i.od=r,i}return Object(So.c)(e,t),e.prototype.Yf=function(t){var e=Zp(t,this.type,this.rd,this.od);return new qd(t.firestore,t.v_,function(t,e){return new ua(t.path,t.collectionGroup,t.Nt.slice(),t.filters.slice(),t.limit,t.limitType,t.startAt,e)}(t.C_,e))},e}(Gp);function Zp(t,e,n,r){if(n[0]instanceof Ho&&(n[0]=n[0]._),n[0]instanceof qp)return function(t,e,n,r,i){if(!r)throw new Uo(Fo.NOT_FOUND,"Can't use a DocumentSnapshot that doesn't exist for "+n+"().");for(var o=[],s=0,a=ba(t);s<a.length;s++){var u=a[s];if(u.field.ht())o.push(As(e,r.key));else{var c=r.field(u.field);if(bs(c))throw new Uo(Fo.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+u.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===c){var l=u.field.ot();throw new Uo(Fo.INVALID_ARGUMENT,"Invalid query. You are trying to start or end a query using a document for which the field '"+l+"' (used as the orderBy) does not exist.")}o.push(c)}}return new na(o,i)}(t.C_,t.firestore.I_,e,n[0].Jf,r);var i=tp(t.firestore);return function(t,e,n,r,i,o){var s=t.Nt;if(i.length>s.length)throw new Uo(Fo.INVALID_ARGUMENT,"Too many arguments provided to "+r+"(). The number of arguments must be less than or equal to the number of orderBy() clauses");for(var a=[],u=0;u<i.length;u++){var c=i[u];if(s[u].field.ht()){if("string"!=typeof c)throw new Uo(Fo.INVALID_ARGUMENT,"Invalid query. Expected a string for document ID in "+r+"(), but got a "+typeof c);if(!ga(t)&&-1!==c.indexOf("/"))throw new Uo(Fo.INVALID_ARGUMENT,"Invalid query. When querying a collection and ordering by FieldPath.documentId(), the value passed to "+r+"() must be a plain document ID, but '"+c+"' contains a slash.");var l=t.path.child(is.ct(c));if(!as.Et(l))throw new Uo(Fo.INVALID_ARGUMENT,"Invalid query. When querying a collection group and ordering by FieldPath.documentId(), the value passed to "+r+"() must result in a valid document path, but '"+l+"' is not because it contains an odd number of segments.");var h=new as(l);a.push(As(e,h))}else{var f=lp(n,r,c);a.push(f)}}return new na(a,o)}(t.C_,t.firestore.I_,i,e,n,r)}function Xp(t,e,n){if(n instanceof Ho&&(n=n._),"string"==typeof n){if(""===n)throw new Uo(Fo.INVALID_ARGUMENT,"Invalid query. When querying with FieldPath.documentId(), you must provide a valid document ID, but it was an empty string.");if(!ga(e)&&-1!==n.indexOf("/"))throw new Uo(Fo.INVALID_ARGUMENT,"Invalid query. When querying a collection by FieldPath.documentId(), you must provide a plain document ID, but '"+n+"' contains a '/' character.");var r=e.path.child(is.ct(n));if(!as.Et(r))throw new Uo(Fo.INVALID_ARGUMENT,"Invalid query. When querying a collection group by FieldPath.documentId(), the value provided must result in a valid document path, but '"+r+"' is not because it has an odd number of segments ("+r.length+").");return As(t,new as(r))}if(n instanceof Ud)return As(t,n.S_);throw new Uo(Fo.INVALID_ARGUMENT,"Invalid query. When querying with FieldPath.documentId(), you must provide a valid string or a DocumentReference, but it was: "+Dd(n)+".")}function tg(t,e){if(!Array.isArray(t)||0===t.length)throw new Uo(Fo.INVALID_ARGUMENT,"Invalid Query. A non-empty array is required for '"+e.toString()+"' filters.");if(t.length>10)throw new Uo(Fo.INVALID_ARGUMENT,"Invalid Query. '"+e.toString()+"' filters support a maximum of 10 elements in the value array.")}function eg(t,e,n){if(!n.isEqual(e))throw new Uo(Fo.INVALID_ARGUMENT,"Invalid query. You have a where filter with an inequality (<, <=, >, or >=) on field '"+e.toString()+"' and so you must also use '"+e.toString()+"' as your first argument to orderBy(), but your first orderBy() is on field '"+n.toString()+"' instead.")}function ng(t){return function(t,e){if("object"!=typeof t||null===t)return!1;for(var n=t,r=0,i=["next","error","complete"];r<i.length;r++){var o=i[r];if(o in n&&"function"==typeof n[o])return!0}return!1}(t)}function rg(t,e,n){return t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e}var ig=function(t){function e(e){var n=this;return(n=t.call(this)||this).firestore=e,n}return Object(So.c)(e,t),e.prototype.Uf=function(t){return new qo(t)},e.prototype.Qf=function(t){var e=this.Gf(t,this.firestore.I_);return new Ud(this.firestore,null,e)},e}(Up),og=function(){function t(t,e){this.hasPendingWrites=t,this.fromCache=e}return t.prototype.isEqual=function(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache},t}(),sg=function(t){function e(e,n,r,i,o,s){var a=this;return(a=t.call(this,e,n,r,i,s)||this).zf=e,a.ad=e,a.metadata=o,a}return Object(So.c)(e,t),e.prototype.exists=function(){return t.prototype.exists.call(this)},e.prototype.data=function(t){if(void 0===t&&(t={}),this.Jf){if(this.v_){var e=new ag(this.zf,this.Hf,this.S_,this.Jf,this.metadata,null);return this.v_.fromFirestore(e,t)}return this.Hf.$f(this.Jf.vt(),t.serverTimestamps)}},e.prototype.get=function(t,e){if(void 0===e&&(e={}),this.Jf){var n=this.Jf.data().field(zp("DocumentSnapshot.get",t));if(null!==n)return this.Hf.$f(n,e.serverTimestamps)}},e}(qp),ag=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(So.c)(e,t),e.prototype.data=function(e){return void 0===e&&(e={}),t.prototype.data.call(this,e)},e}(sg),ug=function(){function t(t,e,n,r){this.zf=t,this.Hf=e,this.ud=r,this.metadata=new og(r.hasPendingWrites,r.fromCache),this.query=n}return Object.defineProperty(t.prototype,"docs",{get:function(){var t=[];return this.forEach(function(e){return t.push(e)}),t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"size",{get:function(){return this.ud.docs.size},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"empty",{get:function(){return 0===this.size},enumerable:!1,configurable:!0}),t.prototype.forEach=function(t,e){var n=this;this.ud.docs.forEach(function(r){t.call(e,new ag(n.zf,n.Hf,r.key,r,new og(n.ud.Ce.has(r.key),n.ud.fromCache),n.query.v_))})},t.prototype.docChanges=function(t){void 0===t&&(t={});var e=!!t.includeMetadataChanges;if(e&&this.ud.Ne)throw new Uo(Fo.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this.hd&&this.ld===e||(this.hd=function(t,e){if(t.ud.De.nt()){var n=0;return t.ud.docChanges.map(function(e){return{type:"added",doc:new ag(t.zf,t.Hf,e.doc.key,e.doc,new og(t.ud.Ce.has(e.doc.key),t.ud.fromCache),t.query.v_),oldIndex:-1,newIndex:n++}})}var r=t.ud.De;return t.ud.docChanges.filter(function(t){return e||3!==t.type}).map(function(e){var n=new ag(t.zf,t.Hf,e.doc.key,e.doc,new og(t.ud.Ce.has(e.doc.key),t.ud.fromCache),t.query.v_),i=-1,o=-1;return 0!==e.type&&(i=r.indexOf(e.doc.key),r=r.delete(e.doc.key)),1!==e.type&&(o=(r=r.add(e.doc)).indexOf(e.doc.key)),{type:cg(e.type),doc:n,oldIndex:i,newIndex:o}})}(this,e),this.ld=e),this.hd},t}();function cg(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return ko()}}function lg(t,e){return t instanceof sg&&e instanceof sg?t.zf===e.zf&&t.S_.isEqual(e.S_)&&(null===t.Jf?null===e.Jf:t.Jf.isEqual(e.Jf))&&t.v_===e.v_:t instanceof ug&&e instanceof ug&&t.zf===e.zf&&$d(t.query,e.query)&&t.metadata.isEqual(e.metadata)&&t.ud.isEqual(e.ud)}var hg=function(t){function e(e){var n=this;return(n=t.call(this)||this).firestore=e,n}return Object(So.c)(e,t),e.prototype.Uf=function(t){return new qo(t)},e.prototype.Qf=function(t){var e=this.Gf(t,this.firestore.I_);return new Ud(this.firestore,null,e)},e}(Up);function fg(t,e,n){for(var r=[],i=3;i<arguments.length;i++)r[i-3]=arguments[i];t=Md(t,Ud);var o=Md(t.firestore,Mp),s=tp(o);return e instanceof Ho&&(e=e._),pg(o,[("string"==typeof e||e instanceof Id?cp(s,"updateDoc",t.S_,e,n,r):up(s,"updateDoc",t.S_,e)).F_(t.S_,za.exists(!0))])}function dg(t){for(var e,n,r,i=[],o=1;o<arguments.length;o++)i[o-1]=arguments[o];t instanceof Ho&&(t=t._);var s={includeMetadataChanges:!1},a=0;"object"!=typeof i[a]||ng(i[a])||(s=i[a],a++);var u,c,l,h={includeMetadataChanges:s.includeMetadataChanges};if(ng(i[a])){var f=i[a];i[a]=null===(e=f.next)||void 0===e?void 0:e.bind(f),i[a+1]=null===(n=f.error)||void 0===n?void 0:n.bind(f),i[a+2]=null===(r=f.complete)||void 0===r?void 0:r.bind(f)}if(t instanceof Ud)c=Md(t.firestore,Mp),l=la(t.S_.path),u={next:function(e){i[a]&&i[a](gg(c,t,e))},error:i[a+1],complete:i[a+2]};else{var d=Md(t,qd);c=Md(d.firestore,Mp),l=d.C_;var p=new hg(c);u={next:function(t){i[a]&&i[a](new ug(c,p,d,t))},error:i[a+1],complete:i[a+2]},Bp(t.C_)}return function(t,e,n,r){var i=this,o=new Td(r),s=new Rf(e,o,n);return t.fs.ys(function(){return Object(So.b)(i,void 0,void 0,function(){var e;return Object(So.d)(this,function(n){switch(n.label){case 0:return e=jf,[4,jp(t)];case 1:return[2,e.apply(void 0,[n.sent(),s])]}})})}),function(){o.r_(),t.fs.ys(function(){return Object(So.b)(i,void 0,void 0,function(){var e;return Object(So.d)(this,function(n){switch(n.label){case 0:return e=Nf,[4,jp(t)];case 1:return[2,e.apply(void 0,[n.sent(),s])]}})})})}}(Rp(c),l,h,u)}function pg(t,e){return function(t,e){var n=this,r=new mc;return t.fs.ys(function(){return Object(So.b)(n,void 0,void 0,function(){var n;return Object(So.d)(this,function(i){switch(i.label){case 0:return n=Jf,[4,kp(t)];case 1:return[2,n.apply(void 0,[i.sent(),e,r])]}})})}),r.promise}(Rp(t),e)}function gg(t,e,n){var r=n.docs.get(e.S_),i=new hg(t);return new sg(t,i,e.S_,r,new og(n.hasPendingWrites,n.fromCache),e.v_)}var bg=function(){function t(t,e){this.zf=t,this._d=e,this.fd=[],this.dd=!1,this.wd=tp(t)}return t.prototype.set=function(t,e,n){this.Ed();var r=mg(t,this.zf),i=rg(r.v_,e,n),o=ep(this.wd,"WriteBatch.set",r.S_,i,null!==r.v_,n);return this.fd.push(o.F_(r.S_,za.Wt())),this},t.prototype.update=function(t,e,n){for(var r=[],i=3;i<arguments.length;i++)r[i-3]=arguments[i];this.Ed();var o,s=mg(t,this.zf);return e instanceof Ho&&(e=e._),o="string"==typeof e||e instanceof Id?cp(this.wd,"WriteBatch.update",s.S_,e,n,r):up(this.wd,"WriteBatch.update",s.S_,e),this.fd.push(o.F_(s.S_,za.exists(!0))),this},t.prototype.delete=function(t){this.Ed();var e=mg(t,this.zf);return this.fd=this.fd.concat(new ou(e.S_,za.Wt())),this},t.prototype.commit=function(){return this.Ed(),this.dd=!0,this.fd.length>0?this._d(this.fd):Promise.resolve()},t.prototype.Ed=function(){if(this.dd)throw new Uo(Fo.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")},t}();function mg(t,e){if(t instanceof Ho&&(t=t._),t.firestore!==e)throw new Uo(Fo.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return t}var vg=function(t){function e(e,n){var r=this;return(r=t.call(this,e,n)||this).zf=e,r}return Object(So.c)(e,t),e.prototype.get=function(e){var n=this,r=mg(e,this.zf),i=new hg(this.zf);return t.prototype.get.call(this,e).then(function(t){return new sg(n.zf,i,r.S_,t.Jf,new og(!1,!1),r.v_)})},e}(function(){function t(t,e){this.zf=t,this.Td=e,this.wd=tp(t)}return t.prototype.get=function(t){var e=this,n=mg(t,this.zf),r=new ig(this.zf);return this.Td.ef([n.S_]).then(function(t){if(!t||1!==t.length)return ko();var i=t[0];if(i instanceof Us)return new qp(e.zf,r,n.S_,null,n.v_);if(i instanceof Fs)return new qp(e.zf,r,i.key,i,n.v_);throw ko()})},t.prototype.set=function(t,e,n){var r=mg(t,this.zf),i=rg(r.v_,e,n),o=ep(this.wd,"Transaction.set",r.S_,i,null!==r.v_,n);return this.Td.set(r.S_,o),this},t.prototype.update=function(t,e,n){for(var r=[],i=3;i<arguments.length;i++)r[i-3]=arguments[i];var o,s=mg(t,this.zf);return e instanceof Ho&&(e=e._),o="string"==typeof e||e instanceof Id?cp(this.wd,"Transaction.update",s.S_,e,n,r):up(this.wd,"Transaction.update",s.S_,e),this.Td.update(s.S_,o),this},t.prototype.delete=function(t){var e=mg(t,this.zf);return this.Td.delete(e.S_),this},t}()),yg=function(){function t(){}return t.prototype.enableIndexedDbPersistence=function(t,e){return function(t,e){Fp(t=Md(t,Mp));var n=Rp(t),r=t.p_(),i=new Ed;return Lp(n,i,new Sd(i,r.cacheSizeBytes,null==e?void 0:e.forceOwnership))}(t._,{forceOwnership:e})},t.prototype.enableMultiTabIndexedDbPersistence=function(t){return function(t){Fp(t=Md(t,Mp));var e=Rp(t),n=t.p_(),r=new Ed;return Lp(e,r,new Cd(r,n.cacheSizeBytes))}(t._)},t.prototype.clearIndexedDbPersistence=function(t){return function(t){var e=this;if(t.R_&&!t.P_)throw new Uo(Fo.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");var n=new mc;return t.Mf.Tf(function(){return Object(So.b)(e,void 0,void 0,function(){var e;return Object(So.d)(this,function(r){switch(r.label){case 0:return r.trys.push([0,2,,3]),[4,function(t){return Object(So.b)(this,void 0,void 0,function(){return Object(So.d)(this,function(e){switch(e.label){case 0:return wc.Wn()?[4,wc.delete(t+"main")]:[2,Promise.resolve()];case 1:return e.sent(),[2]}})})}(nh(t.I_,t.w_))];case 1:return r.sent(),n.resolve(),[3,3];case 2:return e=r.sent(),n.reject(e),[3,3];case 3:return[2]}})})}),n.promise}(t._)},t}(),wg=function(t){function e(e,n,r){var i=this;return(i=t.call(this,n)||this).Id=r,i.INTERNAL={delete:function(){return i.terminate()}},e instanceof Wo||(i.md=e),i}return Object(So.c)(e,t),Object.defineProperty(e.prototype,"I_",{get:function(){return this._.I_},enumerable:!1,configurable:!0}),e.prototype.settings=function(t){t.merge&&delete(t=Object.assign(Object.assign({},this._.V_()),t)).merge,this._.g_(t)},e.prototype.useEmulator=function(t,e){"firestore.googleapis.com"!==this._.V_().host&&xo("Host has been set in both settings() and useEmulator(), emulator host will be used"),this.settings({host:t+":"+e,ssl:!1,merge:!0})},e.prototype.enableNetwork=function(){return function(t){var e=this;return t.fs.enqueue(function(){return Object(So.b)(e,void 0,void 0,function(){var e,n;return Object(So.d)(this,function(r){switch(r.label){case 0:return[4,Ip(t)];case 1:return e=r.sent(),[4,Ap(t)];case 2:return n=r.sent(),[2,(e.po(!0),function(t){var e=No(t);return e.Fh.delete(0),rf(e)}(n))]}})})})}(Rp(Md(this._,Mp)))},e.prototype.disableNetwork=function(){return function(t){var e=this;return t.fs.enqueue(function(){return Object(So.b)(e,void 0,void 0,function(){var e,n;return Object(So.d)(this,function(r){switch(r.label){case 0:return[4,Ip(t)];case 1:return e=r.sent(),[4,Ap(t)];case 2:return n=r.sent(),[2,(e.po(!1),function(t){return Object(So.b)(this,void 0,void 0,function(){var e;return Object(So.d)(this,function(n){switch(n.label){case 0:return(e=No(t)).Fh.add(0),[4,of(e)];case 1:return n.sent(),e.Mh.set("Offline"),[2]}})})}(n))]}})})})}(Rp(Md(this._,Mp)))},e.prototype.enablePersistence=function(t){var e=!1,n=!1;return t&&jd("synchronizeTabs",e=!!t.synchronizeTabs,"experimentalForceOwningTab",n=!!t.experimentalForceOwningTab),e?this.Id.enableMultiTabIndexedDbPersistence(this):this.Id.enableIndexedDbPersistence(this,n)},e.prototype.clearPersistence=function(){return this.Id.clearIndexedDbPersistence(this)},e.prototype.terminate=function(){return this.app._removeServiceInstance("firestore"),this.app._removeServiceInstance("firestore-exp"),this._._delete()},e.prototype.waitForPendingWrites=function(){return function(t){var e=this,n=new mc;return t.fs.ys(function(){return Object(So.b)(e,void 0,void 0,function(){var e;return Object(So.d)(this,function(r){switch(r.label){case 0:return e=td,[4,kp(t)];case 1:return[2,e.apply(void 0,[r.sent(),n])]}})})}),n.promise}(Rp(Md(this._,Mp)))},e.prototype.onSnapshotsInSync=function(t){return function(t,e){return function(t,e){var n=this,r=new Td(e);return t.fs.ys(function(){return Object(So.b)(n,void 0,void 0,function(){var e;return Object(So.d)(this,function(n){switch(n.label){case 0:return e=function(t,e){No(t).jh.add(e),e.next()},[4,jp(t)];case 1:return[2,e.apply(void 0,[n.sent(),r])]}})})}),function(){r.r_(),t.fs.ys(function(){return Object(So.b)(n,void 0,void 0,function(){var e;return Object(So.d)(this,function(n){switch(n.label){case 0:return e=function(t,e){No(t).jh.delete(e)},[4,jp(t)];case 1:return[2,e.apply(void 0,[n.sent(),r])]}})})})}}(Rp(t=Md(t,Mp)),ng(e)?e:{next:e})}(this._,t)},Object.defineProperty(e.prototype,"app",{get:function(){if(!this.md)throw new Uo(Fo.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this.md},enumerable:!1,configurable:!0}),e.prototype.collection=function(t){try{return new Pg(this,zd(this._,t))}catch(t){throw Eg(t,"collection()","Firestore.collection()")}},e.prototype.doc=function(t){try{return new Cg(this,Bd(this._,t))}catch(t){throw Eg(t,"doc()","Firestore.doc()")}},e.prototype.collectionGroup=function(t){try{return new kg(this,function(t,e){if(t=Md(t,Fd),Ad("collectionGroup","collection id",e),e.indexOf("/")>=0)throw new Uo(Fo.INVALID_ARGUMENT,"Invalid collection ID '"+e+"' passed to function collectionGroup(). Collection IDs must not contain '/'.");return new qd(t,null,function(t){return new ua(is.at(),t)}(e))}(this._,t))}catch(t){throw Eg(t,"collectionGroup()","Firestore.collectionGroup()")}},e.prototype.runTransaction=function(t){var e=this;return function(t,e){return function(t,e){var n=this,r=new mc;return t.fs.ys(function(){return Object(So.b)(n,void 0,void 0,function(){var n;return Object(So.d)(this,function(i){switch(i.label){case 0:return[4,function(t){return Tp(t).then(function(t){return t.Dh})}(t)];case 1:return n=i.sent(),new _p(t.fs,n,e,r).run(),[2]}})})}),r.promise}(Rp(t),function(n){return e(new vg(t,n))})}(this._,function(n){return t(new Og(e,n))})},e.prototype.batch=function(){var t=this;return Rp(this._),new Sg(new bg(this._,function(e){return pg(t._,e)}))},e.prototype.loadBundle=function(t){throw new Uo(Fo.FAILED_PRECONDITION,'"loadBundle()" does not exist, have you imported "firebase/firestore/bundle"?')},e.prototype.namedQuery=function(t){throw new Uo(Fo.FAILED_PRECONDITION,'"namedQuery()" does not exist, have you imported "firebase/firestore/bundle"?')},e}(Ho),_g=function(t){function e(e){var n=this;return(n=t.call(this)||this).firestore=e,n}return Object(So.c)(e,t),e.prototype.Uf=function(t){return new Go(new qo(t))},e.prototype.Qf=function(t){var e=this.Gf(t,this.firestore.I_);return Cg.Ad(e,this.firestore,null)},e}(Up),Og=function(t){function e(e,n){var r=this;return(r=t.call(this,n)||this).zf=e,r}return Object(So.c)(e,t),e.prototype.get=function(t){var e=this,n=Dg(t);return this._.get(n).then(function(t){return new xg(e.zf,t)})},e.prototype.set=function(t,e,n){var r=Dg(t);return n?(kd("Transaction.set",n),this._.set(r,e,n)):this._.set(r,e),this},e.prototype.update=function(t,e,n){for(var r,i=[],o=3;o<arguments.length;o++)i[o-3]=arguments[o];var s=Dg(t);return 2===arguments.length?this._.update(s,e):(r=this._).update.apply(r,Object(So.g)([s,e,n],i)),this},e.prototype.delete=function(t){var e=Dg(t);return this._.delete(e),this},e}(Ho),Sg=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(So.c)(e,t),e.prototype.set=function(t,e,n){var r=Dg(t);return n?(kd("WriteBatch.set",n),this._.set(r,e,n)):this._.set(r,e),this},e.prototype.update=function(t,e,n){for(var r,i=[],o=3;o<arguments.length;o++)i[o-3]=arguments[o];var s=Dg(t);return 2===arguments.length?this._.update(s,e):(r=this._).update.apply(r,Object(So.g)([s,e,n],i)),this},e.prototype.delete=function(t){var e=Dg(t);return this._.delete(e),this},e.prototype.commit=function(){return this._.commit()},e}(Ho),Cg=function(t){function e(e,n){var r=this;return(r=t.call(this,n)||this).firestore=e,r.Hf=new _g(e),r}return Object(So.c)(e,t),e.Rd=function(t,n,r){if(t.length%2!=0)throw new Uo(Fo.INVALID_ARGUMENT,"Invalid document reference. Document references must have an even number of segments, but "+t.ot()+" has "+t.length);return new e(n,new Ud(n._,r,new as(t)))},e.Ad=function(t,n,r){return new e(n,new Ud(n._,r,t))},Object.defineProperty(e.prototype,"id",{get:function(){return this._.id},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"parent",{get:function(){return new Pg(this.firestore,this._.parent)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"path",{get:function(){return this._.path},enumerable:!1,configurable:!0}),e.prototype.collection=function(t){try{return new Pg(this.firestore,zd(this._,t))}catch(t){throw Eg(t,"collection()","DocumentReference.collection()")}},e.prototype.isEqual=function(t){return t instanceof Ho&&(t=t._),t instanceof Ud&&Gd(this._,t)},e.prototype.set=function(t,e){e=kd("DocumentReference.set",e);try{return function(t,e,n){t=Md(t,Ud);var r=Md(t.firestore,Mp),i=rg(t.v_,e,n);return pg(r,[ep(tp(r),"setDoc",t.S_,i,null!==t.v_,n).F_(t.S_,za.Wt())])}(this._,t,e)}catch(t){throw Eg(t,"setDoc()","DocumentReference.set()")}},e.prototype.update=function(t,e){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];try{return 1===arguments.length?fg(this._,t):fg.apply(void 0,Object(So.g)([this._,t,e],n))}catch(t){throw Eg(t,"updateDoc()","DocumentReference.update()")}},e.prototype.delete=function(){return pg(Md((t=this._).firestore,Mp),[new ou(t.S_,za.Wt())]);var t},e.prototype.onSnapshot=function(){for(var t=this,e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];var r=Tg(e),i=Ig(e,function(e){return new xg(t.firestore,new sg(t.firestore._,t.Hf,e.S_,e.Jf,e.metadata,t._.v_))});return dg(this._,r,i)},e.prototype.get=function(t){var e=this;return("cache"===(null==t?void 0:t.source)?function(t){t=Md(t,Ud);var e=Md(t.firestore,Mp),n=Rp(e),r=new hg(e);return function(t,e){var n=this,r=new mc;return t.fs.ys(function(){return Object(So.b)(n,void 0,void 0,function(){var n;return Object(So.d)(this,function(i){switch(i.label){case 0:return n=function(t,e,n){return Object(So.b)(this,void 0,void 0,function(){var r,i;return Object(So.d)(this,function(o){switch(o.label){case 0:return o.trys.push([0,2,,3]),[4,function(t,e){var n=No(t);return n.persistence.runTransaction("read document","readonly",function(t){return n.Ic.Jo(t,e)})}(t,e)];case 1:return(i=o.sent())instanceof Fs?n.resolve(i):i instanceof Us?n.resolve(null):n.reject(new Uo(Fo.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)")),[3,3];case 2:return r=o.sent(),i=Ac(r,"Failed to get document '"+e+" from cache"),n.reject(i),[3,3];case 3:return[2]}})})},[4,xp(t)];case 1:return[2,n.apply(void 0,[i.sent(),e,r])]}})})}),r.promise}(n,t.S_).then(function(n){return new sg(e,r,t.S_,n,new og(n instanceof Fs&&n.bt,!0),t.v_)})}(this._):"server"===(null==t?void 0:t.source)?function(t){t=Md(t,Ud);var e=Md(t.firestore,Mp);return Np(Rp(e),t.S_,{source:"server"}).then(function(n){return gg(e,t,n)})}(this._):function(t){t=Md(t,Ud);var e=Md(t.firestore,Mp);return Np(Rp(e),t.S_).then(function(n){return gg(e,t,n)})}(this._)).then(function(t){return new xg(e.firestore,new sg(e.firestore._,e.Hf,t.S_,t.Jf,t.metadata,e._.v_))})},e.prototype.withConverter=function(t){return new e(this.firestore,this._.withConverter(t))},e}(Ho);function Eg(t,e,n){return t.message=t.message.replace(e,n),t}function Tg(t){for(var e=0,n=t;e<n.length;e++){var r=n[e];if("object"==typeof r&&!ng(r))return r}return{}}function Ig(t,e){var n,r,i;return{next:function(t){i.next&&i.next(e(t))},error:null===(n=(i=ng(t[0])?t[0]:ng(t[1])?t[1]:"function"==typeof t[0]?{next:t[0],error:t[1],complete:t[2]}:{next:t[1],error:t[2],complete:t[3]}).error)||void 0===n?void 0:n.bind(i),complete:null===(r=i.complete)||void 0===r?void 0:r.bind(i)}}var xg=function(t){function e(e,n){var r=this;return(r=t.call(this,n)||this).zf=e,r}return Object(So.c)(e,t),Object.defineProperty(e.prototype,"ref",{get:function(){return new Cg(this.zf,this._.ref)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"id",{get:function(){return this._.id},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"metadata",{get:function(){return this._.metadata},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"exists",{get:function(){return this._.exists()},enumerable:!1,configurable:!0}),e.prototype.data=function(t){return this._.data(t)},e.prototype.get=function(t,e){return this._.get(t,e)},e.prototype.isEqual=function(t){return lg(this._,t._)},e}(Ho),Ag=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(So.c)(e,t),e.prototype.data=function(t){return this._.data(t)},e}(xg),kg=function(t){function e(e,n){var r=this;return(r=t.call(this,n)||this).firestore=e,r.Hf=new _g(e),r}return Object(So.c)(e,t),e.prototype.where=function(t,n,r){try{return new e(this.firestore,$p(this._,function(t,e,n){var r=e,i=zp("where",t);return new Wp(i,r,n)}(t,n,r)))}catch(t){throw Eg(t,/(orderBy|where)\(\)/,"Query.$1()")}},e.prototype.orderBy=function(t,n){try{return new e(this.firestore,$p(this._,function(t,e){void 0===e&&(e="asc");var n=e,r=zp("orderBy",t);return new Jp(r,n)}(t,n)))}catch(t){throw Eg(t,/(orderBy|where)\(\)/,"Query.$1()")}},e.prototype.limit=function(t){try{return new e(this.firestore,$p(this._,function(t){return Rd("limit",t),new Kp("limit",t,"F")}(t)))}catch(t){throw Eg(t,"limit()","Query.limit()")}},e.prototype.limitToLast=function(t){try{return new e(this.firestore,$p(this._,function(t){return Rd("limitToLast",t),new Kp("limitToLast",t,"L")}(t)))}catch(t){throw Eg(t,"limitToLast()","Query.limitToLast()")}},e.prototype.startAt=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];try{return new e(this.firestore,$p(this._,(function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return new Qp("startAt",t,!0)}).apply(void 0,t)))}catch(t){throw Eg(t,"startAt()","Query.startAt()")}},e.prototype.startAfter=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];try{return new e(this.firestore,$p(this._,(function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return new Qp("startAfter",t,!1)}).apply(void 0,t)))}catch(t){throw Eg(t,"startAfter()","Query.startAfter()")}},e.prototype.endBefore=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];try{return new e(this.firestore,$p(this._,(function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return new Yp("endBefore",t,!0)}).apply(void 0,t)))}catch(t){throw Eg(t,"endBefore()","Query.endBefore()")}},e.prototype.endAt=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];try{return new e(this.firestore,$p(this._,(function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return new Yp("endAt",t,!1)}).apply(void 0,t)))}catch(t){throw Eg(t,"endAt()","Query.endAt()")}},e.prototype.isEqual=function(t){return $d(this._,t._)},e.prototype.get=function(t){var e=this;return("cache"===(null==t?void 0:t.source)?function(t){t=Md(t,qd);var e=Md(t.firestore,Mp),n=Rp(e),r=new hg(e);return function(t,e){var n=this,r=new mc;return t.fs.ys(function(){return Object(So.b)(n,void 0,void 0,function(){var n;return Object(So.d)(this,function(i){switch(i.label){case 0:return n=function(t,e,n){return Object(So.b)(this,void 0,void 0,function(){var r,i,o,s,a;return Object(So.d)(this,function(u){switch(u.label){case 0:return u.trys.push([0,2,,3]),[4,bh(t,e,!0)];case 1:return a=u.sent(),r=new qf(e,a.Pc),i=r.dl(a.documents),o=r.Ti(i,!1),n.resolve(o.snapshot),[3,3];case 2:return s=u.sent(),a=Ac(s,"Failed to execute query '"+e+" against cache"),n.reject(a),[3,3];case 3:return[2]}})})},[4,xp(t)];case 1:return[2,n.apply(void 0,[i.sent(),e,r])]}})})}),r.promise}(n,t.C_).then(function(n){return new ug(e,r,t,n)})}(this._):"server"===(null==t?void 0:t.source)?function(t){t=Md(t,qd);var e=Md(t.firestore,Mp),n=Rp(e),r=new hg(e);return Pp(n,t.C_,{source:"server"}).then(function(n){return new ug(e,r,t,n)})}(this._):function(t){t=Md(t,qd);var e=Md(t.firestore,Mp),n=Rp(e),r=new hg(e);return Bp(t.C_),Pp(n,t.C_).then(function(n){return new ug(e,r,t,n)})}(this._)).then(function(t){return new Ng(e.firestore,new ug(e.firestore._,e.Hf,e._,t.ud))})},e.prototype.onSnapshot=function(){for(var t=this,e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];var r=Tg(e),i=Ig(e,function(e){return new Ng(t.firestore,new ug(t.firestore._,t.Hf,t._,e.ud))});return dg(this._,r,i)},e.prototype.withConverter=function(t){return new e(this.firestore,this._.withConverter(t))},e}(Ho),jg=function(t){function e(e,n){var r=this;return(r=t.call(this,n)||this).zf=e,r}return Object(So.c)(e,t),Object.defineProperty(e.prototype,"type",{get:function(){return this._.type},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"doc",{get:function(){return new Ag(this.zf,this._.doc)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"oldIndex",{get:function(){return this._.oldIndex},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"newIndex",{get:function(){return this._.newIndex},enumerable:!1,configurable:!0}),e}(Ho),Ng=function(t){function e(e,n){var r=this;return(r=t.call(this,n)||this).zf=e,r}return Object(So.c)(e,t),Object.defineProperty(e.prototype,"query",{get:function(){return new kg(this.zf,this._.query)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"metadata",{get:function(){return this._.metadata},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"size",{get:function(){return this._.size},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"empty",{get:function(){return this._.empty},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"docs",{get:function(){var t=this;return this._.docs.map(function(e){return new Ag(t.zf,e)})},enumerable:!1,configurable:!0}),e.prototype.docChanges=function(t){var e=this;return this._.docChanges(t).map(function(t){return new jg(e.zf,t)})},e.prototype.forEach=function(t,e){var n=this;this._.forEach(function(r){t.call(e,new Ag(n.zf,r))})},e.prototype.isEqual=function(t){return lg(this._,t._)},e}(Ho),Pg=function(t){function e(e,n){var r=this;return(r=t.call(this,e,n)||this).firestore=e,r._=n,r}return Object(So.c)(e,t),Object.defineProperty(e.prototype,"id",{get:function(){return this._.id},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"path",{get:function(){return this._.path},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"parent",{get:function(){var t=this._.parent;return t?new Cg(this.firestore,t):null},enumerable:!1,configurable:!0}),e.prototype.doc=function(t){try{return new Cg(this.firestore,void 0===t?Bd(this._):Bd(this._,t))}catch(t){throw Eg(t,"doc()","CollectionReference.doc()")}},e.prototype.add=function(t){var e=this;return function(t,e){var n=Md(t.firestore,Mp),r=Bd(t),i=rg(t.v_,e);return pg(n,[ep(tp(t.firestore),"addDoc",r.S_,i,null!==t.v_,{}).F_(r.S_,za.exists(!1))]).then(function(){return r})}(this._,t).then(function(t){return new Cg(e.firestore,t)})},e.prototype.isEqual=function(t){return Gd(this._,t._)},e.prototype.withConverter=function(t){return new e(this.firestore,this._.withConverter(t))},e}(kg);function Dg(t){return t instanceof Ho&&(t=t._),Md(t,Ud)}var Mg=function(t){function e(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];return t.call(this,new(Id.bind.apply(Id,Object(So.g)([void 0],e))))||this}return Object(So.c)(e,t),e.documentId=function(){return new e(ss.lt().ot())},e.prototype.isEqual=function(t){return t instanceof Ho&&(t=t._),t instanceof Id&&this._.d_.isEqual(t.d_)},e}(Ho),Rg=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(So.c)(e,t),e.serverTimestamp=function(){var t=new ip("serverTimestamp");return t._methodName="FieldValue.serverTimestamp",new e(t)},e.delete=function(){var t=new np("deleteField");return t._methodName="FieldValue.delete",new e(t)},e.arrayUnion=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];var r=(function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return new op("arrayUnion",t)}).apply(void 0,t);return r._methodName="FieldValue.arrayUnion",new e(r)},e.arrayRemove=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];var r=(function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return new sp("arrayRemove",t)}).apply(void 0,t);return r._methodName="FieldValue.arrayRemove",new e(r)},e.increment=function(t){var n=function(t){return new ap("increment",t)}(t);return n._methodName="FieldValue.increment",new e(n)},e.prototype.isEqual=function(t){return this._.isEqual(t._)},e}(Ho);!function(){function t(){this.Pd={},this.yd=new mc,this.gd={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}t.prototype.onProgress=function(t,e,n){this.Pd={next:t,error:e,complete:n}},t.prototype.catch=function(t){return this.yd.promise.catch(t)},t.prototype.then=function(t,e){return this.yd.promise.then(t,e)},t.prototype.Ul=function(t){this.Ql(t),this.Pd.complete&&this.Pd.complete(),this.yd.resolve(t)},t.prototype.Wl=function(t){this.gd.taskState="Error",this.Pd.next&&this.Pd.next(this.gd),this.Pd.error&&this.Pd.error(t),this.yd.reject(t)},t.prototype.Ql=function(t){this.gd=t,this.Pd.next&&this.Pd.next(t)}}();var Vg,Lg=n("/6Yf"),Fg={Firestore:wg,GeoPoint:Wd,Timestamp:es,Blob:Go,Transaction:Og,WriteBatch:Sg,DocumentReference:Cg,DocumentSnapshot:xg,Query:kg,QueryDocumentSnapshot:Ag,QuerySnapshot:Ng,CollectionReference:Pg,FieldPath:Mg,FieldValue:Rg,setLogLevel:function(t){Co.setLogLevel(t)},CACHE_SIZE_UNLIMITED:-1};(function(t,e){t.INTERNAL.registerComponent(new Lg.a("firestore",function(t){return function(t,e){return new wg(t,new Mp(t,e),new yg)}(t.getProvider("app").getImmediate(),t.getProvider("auth-internal"))},"PUBLIC").setServiceProps(Object.assign({},Fg)))})(Vg=me.a),Vg.registerVersion("@firebase/firestore","2.1.1");var Ug=n("XNiG"),qg=n("VRyK"),Hg=n("zx2A");function zg(t,e){return"function"==typeof e?n=>n.pipe(zg((n,r)=>Object(Kt.a)(t(n,r)).pipe(Object(se.a)((t,i)=>e(n,t,r,i))))):e=>e.lift(new Bg(t))}class Bg{constructor(t){this.project=t}call(t,e){return e.subscribe(new Gg(t,this.project))}}class Gg extends Hg.b{constructor(t,e){super(t),this.project=e,this.index=0}_next(t){let e;const n=this.index++;try{e=this.project(t,n)}catch(r){return void this.destination.error(r)}this._innerSub(e)}_innerSub(t){const e=this.innerSubscription;e&&e.unsubscribe();const n=new Hg.a(this),r=this.destination;r.add(n),this.innerSubscription=Object(Hg.c)(t,n),this.innerSubscription!==n&&r.add(this.innerSubscription)}_complete(){const{innerSubscription:t}=this;t&&!t.closed||super._complete(),this.unsubscribe()}_unsubscribe(){this.innerSubscription=void 0}notifyComplete(){this.innerSubscription=void 0,this.isStopped&&super._complete()}notifyNext(t){this.destination.next(t)}}var $g=n("qgXg"),Wg=n("quSY"),Jg=n("9ppp"),Kg=n("Ylt2");class Qg extends Ug.a{constructor(t=Number.POSITIVE_INFINITY,e=Number.POSITIVE_INFINITY,n){super(),this.scheduler=n,this._events=[],this._infiniteTimeWindow=!1,this._bufferSize=t<1?1:t,this._windowTime=e<1?1:e,e===Number.POSITIVE_INFINITY?(this._infiniteTimeWindow=!0,this.next=this.nextInfiniteTimeWindow):this.next=this.nextTimeWindow}nextInfiniteTimeWindow(t){if(!this.isStopped){const e=this._events;e.push(t),e.length>this._bufferSize&&e.shift()}super.next(t)}nextTimeWindow(t){this.isStopped||(this._events.push(new Yg(this._getNow(),t)),this._trimBufferThenGetEvents()),super.next(t)}_subscribe(t){const e=this._infiniteTimeWindow,n=e?this._events:this._trimBufferThenGetEvents(),r=this.scheduler,i=n.length;let o;if(this.closed)throw new Jg.a;if(this.isStopped||this.hasError?o=Wg.a.EMPTY:(this.observers.push(t),o=new Kg.a(this,t)),r&&t.add(t=new ge.a(t,r)),e)for(let s=0;s<i&&!t.closed;s++)t.next(n[s]);else for(let s=0;s<i&&!t.closed;s++)t.next(n[s].value);return this.hasError?t.error(this.thrownError):this.isStopped&&t.complete(),o}_getNow(){return(this.scheduler||$g.a).now()}_trimBufferThenGetEvents(){const t=this._getNow(),e=this._bufferSize,n=this._windowTime,r=this._events,i=r.length;let o=0;for(;o<i&&!(t-r[o].time<n);)o++;return i>e&&(o=Math.max(o,i-e)),o>0&&r.splice(0,o),r}}class Yg{constructor(t,e){this.time=t,this.value=e}}function Zg(t,e,n){let r;return r=t&&"object"==typeof t?t:{bufferSize:t,windowTime:e,refCount:!1,scheduler:n},t=>t.lift(function({bufferSize:t=Number.POSITIVE_INFINITY,windowTime:e=Number.POSITIVE_INFINITY,refCount:n,scheduler:r}){let i,o,s=0,a=!1,u=!1;return function(c){let l;s++,!i||a?(a=!1,i=new Qg(t,e,r),l=i.subscribe(this),o=c.subscribe({next(t){i.next(t)},error(t){a=!0,i.error(t)},complete(){u=!0,o=void 0,i.complete()}})):l=i.subscribe(this),this.add(()=>{s--,l.unsubscribe(),o&&!u&&n&&0===s&&(o.unsubscribe(),o=void 0,i=void 0)})}}(r))}const Xg=(()=>{function t(){return Error.call(this),this.message="no elements in sequence",this.name="EmptyError",this}return t.prototype=Object.create(Error.prototype),t})(),tb=(()=>{function t(){return Error.call(this),this.message="argument out of range",this.name="ArgumentOutOfRangeError",this}return t.prototype=Object.create(Error.prototype),t})();var eb=n("EY2u");function nb(t){return e=>0===t?Object(eb.b)():e.lift(new rb(t))}class rb{constructor(t){if(this.total=t,this.total<0)throw new tb}call(t,e){return e.subscribe(new ib(t,this.total))}}class ib extends ne.a{constructor(t,e){super(t),this.total=e,this.count=0}_next(t){const e=this.total,n=++this.count;n<=e&&(this.destination.next(t),n===e&&(this.destination.complete(),this.unsubscribe()))}}function ob(t=null){return e=>e.lift(new sb(t))}class sb{constructor(t){this.defaultValue=t}call(t,e){return e.subscribe(new ab(t,this.defaultValue))}}class ab extends ne.a{constructor(t,e){super(t),this.defaultValue=e,this.isEmpty=!0}_next(t){this.isEmpty=!1,this.destination.next(t)}_complete(){this.isEmpty&&this.destination.next(this.defaultValue),this.destination.complete()}}function ub(t=hb){return e=>e.lift(new cb(t))}class cb{constructor(t){this.errorFactory=t}call(t,e){return e.subscribe(new lb(t,this.errorFactory))}}class lb extends ne.a{constructor(t,e){super(t),this.errorFactory=e,this.hasValue=!1}_next(t){this.hasValue=!0,this.destination.next(t)}_complete(){if(this.hasValue)return this.destination.complete();{let t;try{t=this.errorFactory()}catch(Vg){t=Vg}this.destination.error(t)}}}function hb(){return new Xg}var fb=n("SpAZ");function db(t,e){const n=arguments.length>=2;return r=>r.pipe(t?fe((e,n)=>t(e,n,r)):fb.a,nb(1),n?ob(e):ub(()=>new Xg))}function pb(t,e){return e?zg(()=>t,e):zg(()=>t)}var gb=n("tf+s");const bb=new r.q("angularfire2.auth.use-emulator"),mb=new r.q("angularfire2.auth.settings"),vb=new r.q("angularfire2.auth.tenant-id"),yb=new r.q("angularfire2.auth.langugage-code"),wb=new r.q("angularfire2.auth.use-device-language"),_b=new r.q("angularfire.auth.persistence");let Ob=(()=>{class t{constructor(t,e,r,i,o,s,a,u,c,l){const h=new $t.d(i),f=Object($t.h)(h),d=new Ug.a,p=Object(Qt.a)(void 0).pipe(Object(ge.b)(h.outsideAngular),zg(()=>i.runOutsideAngular(()=>n.e(4).then(n.bind(null,"6nsN")))),Object(se.a)(()=>Object($t.g)(t,i,e)),Object(se.a)(t=>i.runOutsideAngular(()=>{const e=o,n=s;return Object($t.f)(t.name+".auth","AngularFireAuth",t,()=>{const r=i.runOutsideAngular(()=>t.auth());return e&&r.useEmulator("http://"+e.join(":")),a&&(r.tenantId=a),r.languageCode=u,c&&r.useDeviceLanguage(),n&&(r.settings=n),l&&r.setPersistence(l),r},[e,a,u,c,n,l])})),Zg({bufferSize:1,refCount:!1}));if(dt(r))this.authState=this.user=this.idToken=this.idTokenResult=this.credential=Object(Qt.a)(null);else{p.pipe(db()).subscribe();const t=p.pipe(zg(t=>t.getRedirectResult().then(t=>t,()=>null)),f,Zg({bufferSize:1,refCount:!1})),e=t=>new Jt.a(e=>({unsubscribe:i.runOutsideAngular(()=>t(e))})),n=p.pipe(zg(t=>e(t.onAuthStateChanged.bind(t)))),r=p.pipe(zg(t=>e(t.onIdTokenChanged.bind(t))));this.authState=t.pipe(pb(n),Object(gb.a)(h.outsideAngular),Object(ge.b)(h.insideAngular)),this.user=t.pipe(pb(r),Object(gb.a)(h.outsideAngular),Object(ge.b)(h.insideAngular)),this.idToken=this.user.pipe(zg(t=>t?Object(Kt.a)(t.getIdToken()):Object(Qt.a)(null))),this.idTokenResult=this.user.pipe(zg(t=>t?Object(Kt.a)(t.getIdTokenResult()):Object(Qt.a)(null))),this.credential=Object(qg.a)(t,d,this.authState.pipe(fe(t=>!t))).pipe(Object(se.a)(t=>(null==t?void 0:t.user)?t:null),Object(gb.a)(h.outsideAngular),Object(ge.b)(h.insideAngular))}return Object($t.i)(this,p,i,{spy:{apply:(t,e,n)=>{(t.startsWith("signIn")||t.startsWith("createUser"))&&n.then(t=>d.next(t))}}})}}return t.\u0275fac=function(e){return new(e||t)(r.Sb($t.c),r.Sb($t.b,8),r.Sb(r.B),r.Sb(r.z),r.Sb(bb,8),r.Sb(mb,8),r.Sb(vb,8),r.Sb(yb,8),r.Sb(wb,8),r.Sb(_b,8))},t.\u0275prov=Object(r.Fb)({factory:function(){return new t(Object(r.Sb)($t.c),Object(r.Sb)($t.b,8),Object(r.Sb)(r.B),Object(r.Sb)(r.z),Object(r.Sb)(bb,8),Object(r.Sb)(mb,8),Object(r.Sb)(vb,8),Object(r.Sb)(yb,8),Object(r.Sb)(wb,8),Object(r.Sb)(_b,8))},token:t,providedIn:"any"}),t})();Object($t.e)(Ob,[{app:null,applyActionCode:null,checkActionCode:null,confirmPasswordReset:null,createUserWithEmailAndPassword:null,currentUser:null,fetchSignInMethodsForEmail:null,isSignInWithEmailLink:null,getRedirectResult:null,languageCode:null,settings:null,onAuthStateChanged:null,onIdTokenChanged:null,sendSignInLinkToEmail:null,sendPasswordResetEmail:null,setPersistence:null,signInAndRetrieveDataWithCredential:null,signInAnonymously:null,signInWithCredential:null,signInWithCustomToken:null,signInWithEmailAndPassword:null,signInWithPhoneNumber:null,signInWithEmailLink:null,signInWithPopup:null,signInWithRedirect:null,signOut:null,tenantId:null,updateCurrentUser:null,useDeviceLanguage:null,useEmulator:null,verifyPasswordResetCode:null}]);let Sb=(()=>{class t{}return t.\u0275mod=r.Hb({type:t}),t.\u0275inj=r.Gb({factory:function(e){return new(e||t)},providers:[Ob]}),t})();function Cb(t,e){return function(t,e=Wt.a){return new Jt.a(n=>{let r;return null!=e?e.schedule(()=>{r=t.onSnapshot({includeMetadataChanges:!0},n)}):r=t.onSnapshot({includeMetadataChanges:!0},n),()=>{null!=r&&r()}})}(t,e)}function Eb(t,e){return Cb(t,e).pipe(Object(se.a)(t=>({payload:t,type:"query"})))}function Tb(t,e){return Eb(t,e).pipe(ee(void 0),re(),Object(se.a)(([t,e])=>{const n=e.payload.docChanges(),r=n.map(t=>({type:t.type,payload:t}));return t&&JSON.stringify(t.payload.metadata)!==JSON.stringify(e.payload.metadata)&&e.payload.docs.forEach((e,i)=>{const o=n.find(t=>t.doc.ref.isEqual(e.ref)),s=null==t?void 0:t.payload.docs.find(t=>t.ref.isEqual(e.ref));o&&JSON.stringify(o.doc.metadata)===JSON.stringify(e.metadata)||!o&&s&&JSON.stringify(s.metadata)===JSON.stringify(e.metadata)||r.push({type:"modified",payload:{oldIndex:i,newIndex:i,type:"modified",doc:e}})}),r}))}function Ib(t,e,n){return Tb(t,n).pipe(ae((t,n)=>function(t,e,n){return e.forEach(e=>{n.indexOf(e.type)>-1&&(t=function(t,e){switch(e.type){case"added":if(!t[e.newIndex]||!t[e.newIndex].doc.ref.isEqual(e.doc.ref))return xb(t,e.newIndex,0,e);break;case"modified":if(null==t[e.oldIndex]||t[e.oldIndex].doc.ref.isEqual(e.doc.ref)){if(e.oldIndex!==e.newIndex){const n=t.slice();return n.splice(e.oldIndex,1),n.splice(e.newIndex,0,e),n}return xb(t,e.newIndex,1,e)}break;case"removed":if(t[e.oldIndex]&&t[e.oldIndex].doc.ref.isEqual(e.doc.ref))return xb(t,e.oldIndex,1)}return t}(t,e))}),t}(t,n.map(t=>t.payload),e),[]),t=>t.lift(new le(void 0,void 0)),Object(se.a)(t=>t.map(t=>({type:t.type,payload:t}))))}function xb(t,e,n,...r){const i=t.slice();return i.splice(e,n,...r),i}function Ab(t){return t&&0!==t.length||(t=["added","removed","modified"]),t}class kb{constructor(t,e,n){this.ref=t,this.query=e,this.afs=n}stateChanges(t){let e=Tb(this.query,this.afs.schedulers.outsideAngular);return t&&t.length>0&&(e=e.pipe(Object(se.a)(e=>e.filter(e=>t.indexOf(e.type)>-1)))),e.pipe(ee(void 0),re(),fe(([t,e])=>e.length>0||!t),Object(se.a)(([t,e])=>e),this.afs.keepUnstableUntilFirst)}auditTrail(t){return this.stateChanges(t).pipe(ae((t,e)=>[...t,...e],[]))}snapshotChanges(t){const e=Ab(t);return Ib(this.query,e,this.afs.schedulers.outsideAngular).pipe(this.afs.keepUnstableUntilFirst)}valueChanges(t={}){return Eb(this.query,this.afs.schedulers.outsideAngular).pipe(Object(se.a)(e=>e.payload.docs.map(e=>t.idField?Object.assign(Object.assign({},e.data()),{[t.idField]:e.id}):e.data())),this.afs.keepUnstableUntilFirst)}get(t){return Object(Kt.a)(this.query.get(t)).pipe(Object(ge.b)(this.afs.schedulers.insideAngular))}add(t){return this.ref.add(t)}doc(t){return new jb(this.ref.doc(t),this.afs)}}class jb{constructor(t,e){this.ref=t,this.afs=e}set(t,e){return this.ref.set(t,e)}update(t){return this.ref.update(t)}delete(){return this.ref.delete()}collection(t,e){const n=this.ref.collection(t),{ref:r,query:i}=Vb(n,e);return new kb(r,i,this.afs)}snapshotChanges(){return Cb(this.ref,this.afs.schedulers.outsideAngular).pipe(ee(void 0),re(),Object(se.a)(([t,e])=>e.exists?(null==t?void 0:t.exists)?{payload:e,type:"modified"}:{payload:e,type:"added"}:{payload:e,type:"removed"})).pipe(this.afs.keepUnstableUntilFirst)}valueChanges(t={}){return this.snapshotChanges().pipe(Object(se.a)(({payload:e})=>t.idField?Object.assign(Object.assign({},e.data()),{[t.idField]:e.id}):e.data()))}get(t){return Object(Kt.a)(this.ref.get(t)).pipe(Object(ge.b)(this.afs.schedulers.insideAngular))}}class Nb{constructor(t,e){this.query=t,this.afs=e}stateChanges(t){return t&&0!==t.length?Tb(this.query,this.afs.schedulers.outsideAngular).pipe(Object(se.a)(e=>e.filter(e=>t.indexOf(e.type)>-1)),fe(t=>t.length>0),this.afs.keepUnstableUntilFirst):Tb(this.query,this.afs.schedulers.outsideAngular).pipe(this.afs.keepUnstableUntilFirst)}auditTrail(t){return this.stateChanges(t).pipe(ae((t,e)=>[...t,...e],[]))}snapshotChanges(t){const e=Ab(t);return Ib(this.query,e,this.afs.schedulers.outsideAngular).pipe(this.afs.keepUnstableUntilFirst)}valueChanges(t={}){return Eb(this.query,this.afs.schedulers.outsideAngular).pipe(Object(se.a)(e=>e.payload.docs.map(e=>t.idField?Object.assign({[t.idField]:e.id},e.data()):e.data())),this.afs.keepUnstableUntilFirst)}get(t){return Object(Kt.a)(this.query.get(t)).pipe(Object(ge.b)(this.afs.schedulers.insideAngular))}}const Pb=new r.q("angularfire2.enableFirestorePersistence"),Db=new r.q("angularfire2.firestore.persistenceSettings"),Mb=new r.q("angularfire2.firestore.settings"),Rb=new r.q("angularfire2.firestore.use-emulator");function Vb(t,e=(t=>t)){return{query:e(t),ref:t}}let Lb=(()=>{class t{constructor(t,e,n,r,i,o,s,a,u){this.schedulers=new $t.d(o),this.keepUnstableUntilFirst=Object($t.h)(this.schedulers);const c=Object($t.g)(t,o,e);!be.a.auth&&u&&Object($t.j)();const l=a;[this.firestore,this.persistenceEnabled$]=Object($t.f)(c.name+".firestore","AngularFirestore",c,()=>{const t=o.runOutsideAngular(()=>c.firestore());if(r&&t.settings(r),l&&t.useEmulator(...l),n&&!dt(i)){const e=()=>{try{return Object(Kt.a)(t.enablePersistence(s||void 0).then(()=>!0,()=>!1))}catch(Vg){return"undefined"!=typeof console&&console.warn(Vg),Object(Qt.a)(!1)}};return[t,o.runOutsideAngular(e)]}return[t,Object(Qt.a)(!1)]},[r,l,n])}collection(t,e){let n;n="string"==typeof t?this.firestore.collection(t):t;const{ref:r,query:i}=Vb(n,e),o=this.schedulers.ngZone.run(()=>r);return new kb(o,i,this)}collectionGroup(t,e){const n=e||(t=>t),r=this.firestore.collectionGroup(t);return new Nb(n(r),this)}doc(t){let e;e="string"==typeof t?this.firestore.doc(t):t;const n=this.schedulers.ngZone.run(()=>e);return new jb(n,this)}createId(){return this.firestore.collection("_").doc().id}}return t.\u0275fac=function(e){return new(e||t)(r.Sb($t.c),r.Sb($t.b,8),r.Sb(Pb,8),r.Sb(Mb,8),r.Sb(r.B),r.Sb(r.z),r.Sb(Db,8),r.Sb(Rb,8),r.Sb(bb,8))},t.\u0275prov=Object(r.Fb)({factory:function(){return new t(Object(r.Sb)($t.c),Object(r.Sb)($t.b,8),Object(r.Sb)(Pb,8),Object(r.Sb)(Mb,8),Object(r.Sb)(r.B),Object(r.Sb)(r.z),Object(r.Sb)(Db,8),Object(r.Sb)(Rb,8),Object(r.Sb)(bb,8))},token:t,providedIn:"any"}),t})(),Fb=(()=>{class t{static enablePersistence(e){return{ngModule:t,providers:[{provide:Pb,useValue:!0},{provide:Db,useValue:e}]}}}return t.\u0275mod=r.Hb({type:t}),t.\u0275inj=r.Gb({factory:function(e){return new(e||t)},providers:[Lb]}),t})();const Ub="https://www.pinclipart.com/picdir/big/193-1936817_shrek-silhouette-shrek-head-outline-clipart.png",qb="all",Hb="week",zb="month",Bb="new",Gb="tile",$b="light";class Wb extends Ug.a{constructor(t){super(),this._value=t}get value(){return this.getValue()}_subscribe(t){const e=super._subscribe(t);return e&&!e.closed&&t.next(this._value),e}getValue(){if(this.hasError)throw this.thrownError;if(this.closed)throw new Jg.a;return this._value}next(t){super.next(this._value=t)}}var Jb=n("DH7j");class Kb extends ne.a{notifyNext(t,e,n,r,i){this.destination.next(e)}notifyError(t,e){this.destination.error(t)}notifyComplete(t){this.destination.complete()}}class Qb extends ne.a{constructor(t,e,n){super(),this.parent=t,this.outerValue=e,this.outerIndex=n,this.index=0}_next(t){this.parent.notifyNext(this.outerValue,t,this.outerIndex,this.index++,this)}_error(t){this.parent.notifyError(t,this),this.unsubscribe()}_complete(){this.parent.notifyComplete(this),this.unsubscribe()}}var Yb=n("SeVD");function Zb(t,e,n,r,i=new Qb(t,n,r)){if(!i.closed)return e instanceof Jt.a?e.subscribe(i):Object(Yb.a)(e)(i)}var Xb=n("yCtX");const tm={};class em{constructor(t){this.resultSelector=t}call(t,e){return e.subscribe(new nm(t,this.resultSelector))}}class nm extends Kb{constructor(t,e){super(t),this.resultSelector=e,this.active=0,this.values=[],this.observables=[]}_next(t){this.values.push(tm),this.observables.push(t)}_complete(){const t=this.observables,e=t.length;if(0===e)this.destination.complete();else{this.active=e,this.toRespond=e;for(let n=0;n<e;n++)this.add(Zb(this,t[n],void 0,n))}}notifyComplete(t){0==(this.active-=1)&&this.destination.complete()}notifyNext(t,e,n){const r=this.values,i=this.toRespond?r[n]===tm?--this.toRespond:this.toRespond:0;r[n]=e,0===i&&(this.resultSelector?this._tryResultSelector(r):this.destination.next(r.slice()))}_tryResultSelector(t){let e;try{e=this.resultSelector.apply(this,t)}catch(n){return void this.destination.error(n)}this.destination.next(e)}}function rm(t){return new Jt.a(e=>{let n;try{n=t()}catch(r){return void e.error(r)}return(n?Object(Kt.a)(n):Object(eb.b)()).subscribe(e)})}function im(t){return function(e){return 0===t?Object(eb.b)():e.lift(new om(t))}}class om{constructor(t){if(this.total=t,this.total<0)throw new tb}call(t,e){return e.subscribe(new sm(t,this.total))}}class sm extends ne.a{constructor(t,e){super(t),this.total=e,this.ring=new Array,this.count=0}_next(t){const e=this.ring,n=this.total,r=this.count++;e.length<n?e.push(t):e[r%n]=t}_complete(){const t=this.destination;let e=this.count;if(e>0){const n=this.count>=this.total?this.total:this.count,r=this.ring;for(let i=0;i<n;i++){const i=e++%n;t.next(r[i])}}t.complete()}}function am(t){return function(e){const n=new um(t),r=e.lift(n);return n.caught=r}}class um{constructor(t){this.selector=t}call(t,e){return e.subscribe(new cm(t,this.selector,this.caught))}}class cm extends Hg.b{constructor(t,e,n){super(t),this.selector=e,this.caught=n}error(t){if(!this.isStopped){let n;try{n=this.selector(t,this.caught)}catch(e){return void super.error(e)}this._unsubscribeAndRecycle();const r=new Hg.a(this);this.add(r);const i=Object(Hg.c)(n,r);i!==r&&this.add(i)}}}var lm=n("5+tZ");function hm(t,e){return Object(lm.a)(t,e,1)}var fm=n("vkgz");class dm{constructor(t){this.callback=t}call(t,e){return e.subscribe(new pm(t,this.callback))}}class pm extends ne.a{constructor(t,e){super(t),this.add(new Wg.a(e))}}class gm{constructor(t,e){this.id=t,this.url=e}}class bm extends gm{constructor(t,e,n="imperative",r=null){super(t,e),this.navigationTrigger=n,this.restoredState=r}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class mm extends gm{constructor(t,e,n){super(t,e),this.urlAfterRedirects=n}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class vm extends gm{constructor(t,e,n){super(t,e),this.reason=n}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class ym extends gm{constructor(t,e,n){super(t,e),this.error=n}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class wm extends gm{constructor(t,e,n,r){super(t,e),this.urlAfterRedirects=n,this.state=r}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class _m extends gm{constructor(t,e,n,r){super(t,e),this.urlAfterRedirects=n,this.state=r}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Om extends gm{constructor(t,e,n,r,i){super(t,e),this.urlAfterRedirects=n,this.state=r,this.shouldActivate=i}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class Sm extends gm{constructor(t,e,n,r){super(t,e),this.urlAfterRedirects=n,this.state=r}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Cm extends gm{constructor(t,e,n,r){super(t,e),this.urlAfterRedirects=n,this.state=r}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Em{constructor(t){this.route=t}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class Tm{constructor(t){this.route=t}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class Im{constructor(t){this.snapshot=t}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class xm{constructor(t){this.snapshot=t}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Am{constructor(t){this.snapshot=t}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class km{constructor(t){this.snapshot=t}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class jm{constructor(t,e,n){this.routerEvent=t,this.position=e,this.anchor=n}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}const Nm="primary";class Pm{constructor(t){this.params=t||{}}has(t){return Object.prototype.hasOwnProperty.call(this.params,t)}get(t){if(this.has(t)){const e=this.params[t];return Array.isArray(e)?e[0]:e}return null}getAll(t){if(this.has(t)){const e=this.params[t];return Array.isArray(e)?e:[e]}return[]}get keys(){return Object.keys(this.params)}}function Dm(t){return new Pm(t)}function Mm(t){const e=Error("NavigationCancelingError: "+t);return e.ngNavigationCancelingError=!0,e}function Rm(t,e,n){const r=n.path.split("/");if(r.length>t.length)return null;if("full"===n.pathMatch&&(e.hasChildren()||r.length<t.length))return null;const i={};for(let o=0;o<r.length;o++){const e=r[o],n=t[o];if(e.startsWith(":"))i[e.substring(1)]=n;else if(e!==n.path)return null}return{consumed:t.slice(0,r.length),posParams:i}}function Vm(t,e){const n=Object.keys(t),r=Object.keys(e);if(!n||!r||n.length!=r.length)return!1;let i;for(let o=0;o<n.length;o++)if(i=n[o],!Lm(t[i],e[i]))return!1;return!0}function Lm(t,e){if(Array.isArray(t)&&Array.isArray(e)){if(t.length!==e.length)return!1;const n=[...t].sort(),r=[...e].sort();return n.every((t,e)=>r[e]===t)}return t===e}function Fm(t){return Array.prototype.concat.apply([],t)}function Um(t){return t.length>0?t[t.length-1]:null}function qm(t,e){for(const n in t)t.hasOwnProperty(n)&&e(t[n],n)}function Hm(t){return Object(r.pb)(t)?t:Object(r.qb)(t)?Object(Kt.a)(Promise.resolve(t)):Object(Qt.a)(t)}function zm(t,e,n){return n?function(t,e){return Vm(t,e)}(t.queryParams,e.queryParams)&&Bm(t.root,e.root):function(t,e){return Object.keys(e).length<=Object.keys(t).length&&Object.keys(e).every(n=>Lm(t[n],e[n]))}(t.queryParams,e.queryParams)&&Gm(t.root,e.root)}function Bm(t,e){if(!Qm(t.segments,e.segments))return!1;if(t.numberOfChildren!==e.numberOfChildren)return!1;for(const n in e.children){if(!t.children[n])return!1;if(!Bm(t.children[n],e.children[n]))return!1}return!0}function Gm(t,e){return $m(t,e,e.segments)}function $m(t,e,n){if(t.segments.length>n.length)return!!Qm(t.segments.slice(0,n.length),n)&&!e.hasChildren();if(t.segments.length===n.length){if(!Qm(t.segments,n))return!1;for(const n in e.children){if(!t.children[n])return!1;if(!Gm(t.children[n],e.children[n]))return!1}return!0}{const r=n.slice(0,t.segments.length),i=n.slice(t.segments.length);return!!Qm(t.segments,r)&&!!t.children.primary&&$m(t.children.primary,e,i)}}class Wm{constructor(t,e,n){this.root=t,this.queryParams=e,this.fragment=n}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Dm(this.queryParams)),this._queryParamMap}toString(){return tv.serialize(this)}}class Jm{constructor(t,e){this.segments=t,this.children=e,this.parent=null,qm(e,(t,e)=>t.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return ev(this)}}class Km{constructor(t,e){this.path=t,this.parameters=e}get parameterMap(){return this._parameterMap||(this._parameterMap=Dm(this.parameters)),this._parameterMap}toString(){return uv(this)}}function Qm(t,e){return t.length===e.length&&t.every((t,n)=>t.path===e[n].path)}function Ym(t,e){let n=[];return qm(t.children,(t,r)=>{r===Nm&&(n=n.concat(e(t,r)))}),qm(t.children,(t,r)=>{r!==Nm&&(n=n.concat(e(t,r)))}),n}class Zm{}class Xm{parse(t){const e=new dv(t);return new Wm(e.parseRootSegment(),e.parseQueryParams(),e.parseFragment())}serialize(t){return`${"/"+nv(t.root,!0)}${function(t){const e=Object.keys(t).map(e=>{const n=t[e];return Array.isArray(n)?n.map(t=>`${iv(e)}=${iv(t)}`).join("&"):`${iv(e)}=${iv(n)}`});return e.length?"?"+e.join("&"):""}(t.queryParams)}${"string"==typeof t.fragment?"#"+encodeURI(t.fragment):""}`}}const tv=new Xm;function ev(t){return t.segments.map(t=>uv(t)).join("/")}function nv(t,e){if(!t.hasChildren())return ev(t);if(e){const e=t.children.primary?nv(t.children.primary,!1):"",n=[];return qm(t.children,(t,e)=>{e!==Nm&&n.push(`${e}:${nv(t,!1)}`)}),n.length>0?`${e}(${n.join("//")})`:e}{const e=Ym(t,(e,n)=>n===Nm?[nv(t.children.primary,!1)]:[`${n}:${nv(e,!1)}`]);return 1===Object.keys(t.children).length&&null!=t.children.primary?`${ev(t)}/${e[0]}`:`${ev(t)}/(${e.join("//")})`}}function rv(t){return encodeURIComponent(t).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function iv(t){return rv(t).replace(/%3B/gi,";")}function ov(t){return rv(t).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function sv(t){return decodeURIComponent(t)}function av(t){return sv(t.replace(/\+/g,"%20"))}function uv(t){return`${ov(t.path)}${e=t.parameters,Object.keys(e).map(t=>`;${ov(t)}=${ov(e[t])}`).join("")}`;var e}const cv=/^[^\/()?;=#]+/;function lv(t){const e=t.match(cv);return e?e[0]:""}const hv=/^[^=?&#]+/,fv=/^[^?&#]+/;class dv{constructor(t){this.url=t,this.remaining=t}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new Jm([],{}):new Jm([],this.parseChildren())}parseQueryParams(){const t={};if(this.consumeOptional("?"))do{this.parseQueryParam(t)}while(this.consumeOptional("&"));return t}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const t=[];for(this.peekStartsWith("(")||t.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),t.push(this.parseSegment());let e={};this.peekStartsWith("/(")&&(this.capture("/"),e=this.parseParens(!0));let n={};return this.peekStartsWith("(")&&(n=this.parseParens(!1)),(t.length>0||Object.keys(e).length>0)&&(n.primary=new Jm(t,e)),n}parseSegment(){const t=lv(this.remaining);if(""===t&&this.peekStartsWith(";"))throw new Error(`Empty path url segment cannot have parameters: '${this.remaining}'.`);return this.capture(t),new Km(sv(t),this.parseMatrixParams())}parseMatrixParams(){const t={};for(;this.consumeOptional(";");)this.parseParam(t);return t}parseParam(t){const e=lv(this.remaining);if(!e)return;this.capture(e);let n="";if(this.consumeOptional("=")){const t=lv(this.remaining);t&&(n=t,this.capture(n))}t[sv(e)]=sv(n)}parseQueryParam(t){const e=function(t){const e=t.match(hv);return e?e[0]:""}(this.remaining);if(!e)return;this.capture(e);let n="";if(this.consumeOptional("=")){const t=function(t){const e=t.match(fv);return e?e[0]:""}(this.remaining);t&&(n=t,this.capture(n))}const r=av(e),i=av(n);if(t.hasOwnProperty(r)){let e=t[r];Array.isArray(e)||(e=[e],t[r]=e),e.push(i)}else t[r]=i}parseParens(t){const e={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const n=lv(this.remaining),r=this.remaining[n.length];if("/"!==r&&")"!==r&&";"!==r)throw new Error(`Cannot parse url '${this.url}'`);let i=void 0;n.indexOf(":")>-1?(i=n.substr(0,n.indexOf(":")),this.capture(i),this.capture(":")):t&&(i=Nm);const o=this.parseChildren();e[i]=1===Object.keys(o).length?o.primary:new Jm([],o),this.consumeOptional("//")}return e}peekStartsWith(t){return this.remaining.startsWith(t)}consumeOptional(t){return!!this.peekStartsWith(t)&&(this.remaining=this.remaining.substring(t.length),!0)}capture(t){if(!this.consumeOptional(t))throw new Error(`Expected "${t}".`)}}class pv{constructor(t){this._root=t}get root(){return this._root.value}parent(t){const e=this.pathFromRoot(t);return e.length>1?e[e.length-2]:null}children(t){const e=gv(t,this._root);return e?e.children.map(t=>t.value):[]}firstChild(t){const e=gv(t,this._root);return e&&e.children.length>0?e.children[0].value:null}siblings(t){const e=bv(t,this._root);return e.length<2?[]:e[e.length-2].children.map(t=>t.value).filter(e=>e!==t)}pathFromRoot(t){return bv(t,this._root).map(t=>t.value)}}function gv(t,e){if(t===e.value)return e;for(const n of e.children){const e=gv(t,n);if(e)return e}return null}function bv(t,e){if(t===e.value)return[e];for(const n of e.children){const r=bv(t,n);if(r.length)return r.unshift(e),r}return[]}class mv{constructor(t,e){this.value=t,this.children=e}toString(){return`TreeNode(${this.value})`}}function vv(t){const e={};return t&&t.children.forEach(t=>e[t.value.outlet]=t),e}class yv extends pv{constructor(t,e){super(t),this.snapshot=e,Ev(this,t)}toString(){return this.snapshot.toString()}}function wv(t,e){const n=function(t,e){const n=new Sv([],{},{},"",{},Nm,e,null,t.root,-1,{});return new Cv("",new mv(n,[]))}(t,e),r=new Wb([new Km("",{})]),i=new Wb({}),o=new Wb({}),s=new Wb({}),a=new Wb(""),u=new _v(r,i,s,a,o,Nm,e,n.root);return u.snapshot=n.root,new yv(new mv(u,[]),n)}class _v{constructor(t,e,n,r,i,o,s,a){this.url=t,this.params=e,this.queryParams=n,this.fragment=r,this.data=i,this.outlet=o,this.component=s,this._futureSnapshot=a}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe(Object(se.a)(t=>Dm(t)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe(Object(se.a)(t=>Dm(t)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function Ov(t,e="emptyOnly"){const n=t.pathFromRoot;let r=0;if("always"!==e)for(r=n.length-1;r>=1;){const t=n[r],e=n[r-1];if(t.routeConfig&&""===t.routeConfig.path)r--;else{if(e.component)break;r--}}return function(t){return t.reduce((t,e)=>({params:Object.assign(Object.assign({},t.params),e.params),data:Object.assign(Object.assign({},t.data),e.data),resolve:Object.assign(Object.assign({},t.resolve),e._resolvedData)}),{params:{},data:{},resolve:{}})}(n.slice(r))}class Sv{constructor(t,e,n,r,i,o,s,a,u,c,l){this.url=t,this.params=e,this.queryParams=n,this.fragment=r,this.data=i,this.outlet=o,this.component=s,this.routeConfig=a,this._urlSegment=u,this._lastPathIndex=c,this._resolve=l}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=Dm(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Dm(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(t=>t.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class Cv extends pv{constructor(t,e){super(e),this.url=t,Ev(this,e)}toString(){return Tv(this._root)}}function Ev(t,e){e.value._routerState=t,e.children.forEach(e=>Ev(t,e))}function Tv(t){const e=t.children.length>0?` { ${t.children.map(Tv).join(", ")} } `:"";return`${t.value}${e}`}function Iv(t){if(t.snapshot){const e=t.snapshot,n=t._futureSnapshot;t.snapshot=n,Vm(e.queryParams,n.queryParams)||t.queryParams.next(n.queryParams),e.fragment!==n.fragment&&t.fragment.next(n.fragment),Vm(e.params,n.params)||t.params.next(n.params),function(t,e){if(t.length!==e.length)return!1;for(let n=0;n<t.length;++n)if(!Vm(t[n],e[n]))return!1;return!0}(e.url,n.url)||t.url.next(n.url),Vm(e.data,n.data)||t.data.next(n.data)}else t.snapshot=t._futureSnapshot,t.data.next(t._futureSnapshot.data)}function xv(t,e){return Vm(t.params,e.params)&&function(t,e){return Qm(t,e)&&t.every((t,n)=>Vm(t.parameters,e[n].parameters))}(t.url,e.url)&&!(!t.parent!=!e.parent)&&(!t.parent||xv(t.parent,e.parent))}function Av(t,e,n){if(n&&t.shouldReuseRoute(e.value,n.value.snapshot)){const r=n.value;r._futureSnapshot=e.value;const i=function(t,e,n){return e.children.map(e=>{for(const r of n.children)if(t.shouldReuseRoute(e.value,r.value.snapshot))return Av(t,e,r);return Av(t,e)})}(t,e,n);return new mv(r,i)}{const n=t.retrieve(e.value);if(n){const t=n.route;return kv(e,t),t}{const n=new _v(new Wb((r=e.value).url),new Wb(r.params),new Wb(r.queryParams),new Wb(r.fragment),new Wb(r.data),r.outlet,r.component,r),i=e.children.map(e=>Av(t,e));return new mv(n,i)}}var r}function kv(t,e){if(t.value.routeConfig!==e.value.routeConfig)throw new Error("Cannot reattach ActivatedRouteSnapshot created from a different route");if(t.children.length!==e.children.length)throw new Error("Cannot reattach ActivatedRouteSnapshot with a different number of children");e.value._futureSnapshot=t.value;for(let n=0;n<t.children.length;++n)kv(t.children[n],e.children[n])}function jv(t){return"object"==typeof t&&null!=t&&!t.outlets&&!t.segmentPath}function Nv(t){return"object"==typeof t&&null!=t&&t.outlets}function Pv(t,e,n,r,i){let o={};return r&&qm(r,(t,e)=>{o[e]=Array.isArray(t)?t.map(t=>""+t):""+t}),new Wm(n.root===t?e:Dv(n.root,t,e),o,i)}function Dv(t,e,n){const r={};return qm(t.children,(t,i)=>{r[i]=t===e?n:Dv(t,e,n)}),new Jm(t.segments,r)}class Mv{constructor(t,e,n){if(this.isAbsolute=t,this.numberOfDoubleDots=e,this.commands=n,t&&n.length>0&&jv(n[0]))throw new Error("Root segment cannot have matrix parameters");const r=n.find(Nv);if(r&&r!==Um(n))throw new Error("{outlets:{}} has to be the last command")}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class Rv{constructor(t,e,n){this.segmentGroup=t,this.processChildren=e,this.index=n}}function Vv(t,e,n){if(t||(t=new Jm([],{})),0===t.segments.length&&t.hasChildren())return Lv(t,e,n);const r=function(t,e,n){let r=0,i=e;const o={match:!1,pathIndex:0,commandIndex:0};for(;i<t.segments.length;){if(r>=n.length)return o;const e=t.segments[i],s=n[r];if(Nv(s))break;const a=""+s,u=r<n.length-1?n[r+1]:null;if(i>0&&void 0===a)break;if(a&&u&&"object"==typeof u&&void 0===u.outlets){if(!Hv(a,u,e))return o;r+=2}else{if(!Hv(a,{},e))return o;r++}i++}return{match:!0,pathIndex:i,commandIndex:r}}(t,e,n),i=n.slice(r.commandIndex);if(r.match&&r.pathIndex<t.segments.length){const e=new Jm(t.segments.slice(0,r.pathIndex),{});return e.children.primary=new Jm(t.segments.slice(r.pathIndex),t.children),Lv(e,0,i)}return r.match&&0===i.length?new Jm(t.segments,{}):r.match&&!t.hasChildren()?Fv(t,e,n):r.match?Lv(t,0,i):Fv(t,e,n)}function Lv(t,e,n){if(0===n.length)return new Jm(t.segments,{});{const r=function(t){return Nv(t[0])?t[0].outlets:{[Nm]:t}}(n),i={};return qm(r,(n,r)=>{"string"==typeof n&&(n=[n]),null!==n&&(i[r]=Vv(t.children[r],e,n))}),qm(t.children,(t,e)=>{void 0===r[e]&&(i[e]=t)}),new Jm(t.segments,i)}}function Fv(t,e,n){const r=t.segments.slice(0,e);let i=0;for(;i<n.length;){const o=n[i];if(Nv(o)){const t=Uv(o.outlets);return new Jm(r,t)}if(0===i&&jv(n[0])){r.push(new Km(t.segments[e].path,n[0])),i++;continue}const s=Nv(o)?o.outlets.primary:""+o,a=i<n.length-1?n[i+1]:null;s&&a&&jv(a)?(r.push(new Km(s,qv(a))),i+=2):(r.push(new Km(s,{})),i++)}return new Jm(r,{})}function Uv(t){const e={};return qm(t,(t,n)=>{"string"==typeof t&&(t=[t]),null!==t&&(e[n]=Fv(new Jm([],{}),0,t))}),e}function qv(t){const e={};return qm(t,(t,n)=>e[n]=""+t),e}function Hv(t,e,n){return t==n.path&&Vm(e,n.parameters)}class zv{constructor(t,e,n,r){this.routeReuseStrategy=t,this.futureState=e,this.currState=n,this.forwardEvent=r}activate(t){const e=this.futureState._root,n=this.currState?this.currState._root:null;this.deactivateChildRoutes(e,n,t),Iv(this.futureState.root),this.activateChildRoutes(e,n,t)}deactivateChildRoutes(t,e,n){const r=vv(e);t.children.forEach(t=>{const e=t.value.outlet;this.deactivateRoutes(t,r[e],n),delete r[e]}),qm(r,(t,e)=>{this.deactivateRouteAndItsChildren(t,n)})}deactivateRoutes(t,e,n){const r=t.value,i=e?e.value:null;if(r===i)if(r.component){const i=n.getContext(r.outlet);i&&this.deactivateChildRoutes(t,e,i.children)}else this.deactivateChildRoutes(t,e,n);else i&&this.deactivateRouteAndItsChildren(e,n)}deactivateRouteAndItsChildren(t,e){this.routeReuseStrategy.shouldDetach(t.value.snapshot)?this.detachAndStoreRouteSubtree(t,e):this.deactivateRouteAndOutlet(t,e)}detachAndStoreRouteSubtree(t,e){const n=e.getContext(t.value.outlet);if(n&&n.outlet){const e=n.outlet.detach(),r=n.children.onOutletDeactivated();this.routeReuseStrategy.store(t.value.snapshot,{componentRef:e,route:t,contexts:r})}}deactivateRouteAndOutlet(t,e){const n=e.getContext(t.value.outlet);if(n){const r=vv(t),i=t.value.component?n.children:e;qm(r,(t,e)=>this.deactivateRouteAndItsChildren(t,i)),n.outlet&&(n.outlet.deactivate(),n.children.onOutletDeactivated())}}activateChildRoutes(t,e,n){const r=vv(e);t.children.forEach(t=>{this.activateRoutes(t,r[t.value.outlet],n),this.forwardEvent(new km(t.value.snapshot))}),t.children.length&&this.forwardEvent(new xm(t.value.snapshot))}activateRoutes(t,e,n){const r=t.value,i=e?e.value:null;if(Iv(r),r===i)if(r.component){const i=n.getOrCreateContext(r.outlet);this.activateChildRoutes(t,e,i.children)}else this.activateChildRoutes(t,e,n);else if(r.component){const e=n.getOrCreateContext(r.outlet);if(this.routeReuseStrategy.shouldAttach(r.snapshot)){const t=this.routeReuseStrategy.retrieve(r.snapshot);this.routeReuseStrategy.store(r.snapshot,null),e.children.onOutletReAttached(t.contexts),e.attachRef=t.componentRef,e.route=t.route.value,e.outlet&&e.outlet.attach(t.componentRef,t.route.value),Bv(t.route)}else{const n=function(t){for(let e=t.parent;e;e=e.parent){const t=e.routeConfig;if(t&&t._loadedConfig)return t._loadedConfig;if(t&&t.component)return null}return null}(r.snapshot),i=n?n.module.componentFactoryResolver:null;e.attachRef=null,e.route=r,e.resolver=i,e.outlet&&e.outlet.activateWith(r,i),this.activateChildRoutes(t,null,e.children)}}else this.activateChildRoutes(t,null,n)}}function Bv(t){Iv(t.value),t.children.forEach(Bv)}class Gv{constructor(t,e){this.routes=t,this.module=e}}function $v(t){return"function"==typeof t}function Wv(t){return t instanceof Wm}const Jv=Symbol("INITIAL_VALUE");function Kv(){return zg(t=>function(...t){let e=void 0,n=void 0;return Object(te.a)(t[t.length-1])&&(n=t.pop()),"function"==typeof t[t.length-1]&&(e=t.pop()),1===t.length&&Object(Jb.a)(t[0])&&(t=t[0]),Object(Xb.a)(t,n).lift(new em(e))}(...t.map(t=>t.pipe(nb(1),ee(Jv)))).pipe(ae((t,e)=>{let n=!1;return e.reduce((t,r,i)=>{if(t!==Jv)return t;if(r===Jv&&(n=!0),!n){if(!1===r)return r;if(i===e.length-1||Wv(r))return r}return t},t)},Jv),fe(t=>t!==Jv),Object(se.a)(t=>Wv(t)?t:!0===t),nb(1)))}let Qv=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=r.Db({type:t,selectors:[["ng-component"]],decls:1,vars:0,template:function(t,e){1&t&&r.Kb(0,"router-outlet")},directives:function(){return[Hy]},encapsulation:2}),t})();function Yv(t,e=""){for(let n=0;n<t.length;n++){const r=t[n];Zv(r,Xv(e,r))}}function Zv(t,e){t.children&&Yv(t.children,e)}function Xv(t,e){return e?t||e.path?t&&!e.path?t+"/":!t&&e.path?e.path:`${t}/${e.path}`:"":t}function ty(t){const e=t.children&&t.children.map(ty),n=e?Object.assign(Object.assign({},t),{children:e}):Object.assign({},t);return!n.component&&(e||n.loadChildren)&&n.outlet&&n.outlet!==Nm&&(n.component=Qv),n}function ey(t){return t.outlet||Nm}class ny{constructor(t){this.segmentGroup=t||null}}class ry{constructor(t){this.urlTree=t}}function iy(t){return new Jt.a(e=>e.error(new ny(t)))}function oy(t){return new Jt.a(e=>e.error(new ry(t)))}function sy(t){return new Jt.a(e=>e.error(new Error(`Only absolute redirects can have named outlets. redirectTo: '${t}'`)))}class ay{constructor(t,e,n,i,o){this.configLoader=e,this.urlSerializer=n,this.urlTree=i,this.config=o,this.allowRedirects=!0,this.ngModule=t.get(r.x)}apply(){return this.expandSegmentGroup(this.ngModule,this.config,this.urlTree.root,Nm).pipe(Object(se.a)(t=>this.createUrlTree(t,this.urlTree.queryParams,this.urlTree.fragment))).pipe(am(t=>{if(t instanceof ry)return this.allowRedirects=!1,this.match(t.urlTree);if(t instanceof ny)throw this.noMatchError(t);throw t}))}match(t){return this.expandSegmentGroup(this.ngModule,this.config,t.root,Nm).pipe(Object(se.a)(e=>this.createUrlTree(e,t.queryParams,t.fragment))).pipe(am(t=>{if(t instanceof ny)throw this.noMatchError(t);throw t}))}noMatchError(t){return new Error(`Cannot match any routes. URL Segment: '${t.segmentGroup}'`)}createUrlTree(t,e,n){const r=t.segments.length>0?new Jm([],{[Nm]:t}):t;return new Wm(r,e,n)}expandSegmentGroup(t,e,n,r){return 0===n.segments.length&&n.hasChildren()?this.expandChildren(t,e,n).pipe(Object(se.a)(t=>new Jm([],t))):this.expandSegment(t,n,e,n.segments,r,!0)}expandChildren(t,e,n){return function(t,e){if(0===Object.keys(t).length)return Object(Qt.a)({});const n=[],r=[],i={};return qm(t,(t,o)=>{const s=e(o,t).pipe(Object(se.a)(t=>i[o]=t));o===Nm?n.push(s):r.push(s)}),Qt.a.apply(null,n.concat(r)).pipe(Zt(),function(t,e){const n=arguments.length>=2;return r=>r.pipe(t?fe((e,n)=>t(e,n,r)):fb.a,im(1),n?ob(e):ub(()=>new Xg))}(),Object(se.a)(()=>i))}(n.children,(n,r)=>this.expandSegmentGroup(t,e,r,n))}expandSegment(t,e,n,r,i,o){const s=function(t){return t.reduce((t,e)=>{const n=ey(e);return t.has(n)?t.get(n).push(e):t.set(n,[e]),t},new Map)}(n);s.has(i)||s.set(i,[]);const a=n=>Object(Kt.a)(n).pipe(hm(s=>this.expandSegmentAgainstRoute(t,e,n,s,r,i,o).pipe(am(t=>{if(t instanceof ny)return Object(Qt.a)(null);throw t}))),db(t=>null!==t),am(t=>{if(t instanceof Xg||"EmptyError"===t.name){if(this.noLeftoversInUrl(e,r,i))return Object(Qt.a)(new Jm([],{}));throw new ny(e)}throw t})),u=Array.from(s.entries()).map(([t,e])=>{const n=a(e);return t===i?n:n.pipe(Object(se.a)(()=>null),am(()=>Object(Qt.a)(null)))});return Object(Kt.a)(u).pipe(t=>t.lift(new em(void 0)),db(),Object(se.a)(t=>t.find(t=>null!==t)))}noLeftoversInUrl(t,e,n){return 0===e.length&&!t.children[n]}expandSegmentAgainstRoute(t,e,n,r,i,o,s){return ey(r)!==o&&""!==r.path?iy(e):void 0===r.redirectTo?this.matchSegmentAgainstRoute(t,e,r,i):s&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(t,e,n,r,i,o):iy(e)}expandSegmentAgainstRouteUsingRedirect(t,e,n,r,i,o){return"**"===r.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(t,n,r,o):this.expandRegularSegmentAgainstRouteUsingRedirect(t,e,n,r,i,o)}expandWildCardWithParamsAgainstRouteUsingRedirect(t,e,n,r){const i=this.applyRedirectCommands([],n.redirectTo,{});return n.redirectTo.startsWith("/")?oy(i):this.lineralizeSegments(n,i).pipe(Object(lm.a)(n=>{const i=new Jm(n,{});return this.expandSegment(t,i,e,n,r,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(t,e,n,r,i,o){const{matched:s,consumedSegments:a,lastChild:u,positionalParamSegments:c}=uy(e,r,i);if(!s)return iy(e);const l=this.applyRedirectCommands(a,r.redirectTo,c);return r.redirectTo.startsWith("/")?oy(l):this.lineralizeSegments(r,l).pipe(Object(lm.a)(r=>this.expandSegment(t,e,n,r.concat(i.slice(u)),o,!1)))}matchSegmentAgainstRoute(t,e,n,r){if("**"===n.path)return n.loadChildren?this.configLoader.load(t.injector,n).pipe(Object(se.a)(t=>(n._loadedConfig=t,new Jm(r,{})))):Object(Qt.a)(new Jm(r,{}));const{matched:i,consumedSegments:o,lastChild:s}=uy(e,n,r);if(!i)return iy(e);const a=r.slice(s);return this.getChildConfig(t,n,r).pipe(Object(lm.a)(t=>{const n=t.module,r=t.routes,{segmentGroup:i,slicedSegments:s}=function(t,e,n,r){return n.length>0&&function(t,e,n){return n.some(n=>ly(t,e,n)&&ey(n)!==Nm)}(t,n,r)?{segmentGroup:cy(new Jm(e,function(t,e){const n={};n.primary=e;for(const r of t)""===r.path&&ey(r)!==Nm&&(n[ey(r)]=new Jm([],{}));return n}(r,new Jm(n,t.children)))),slicedSegments:[]}:0===n.length&&function(t,e,n){return n.some(n=>ly(t,e,n))}(t,n,r)?{segmentGroup:cy(new Jm(t.segments,function(t,e,n,r){const i={};for(const o of n)ly(t,e,o)&&!r[ey(o)]&&(i[ey(o)]=new Jm([],{}));return Object.assign(Object.assign({},r),i)}(t,n,r,t.children))),slicedSegments:n}:{segmentGroup:t,slicedSegments:n}}(e,o,a,r);return 0===s.length&&i.hasChildren()?this.expandChildren(n,r,i).pipe(Object(se.a)(t=>new Jm(o,t))):0===r.length&&0===s.length?Object(Qt.a)(new Jm(o,{})):this.expandSegment(n,i,r,s,Nm,!0).pipe(Object(se.a)(t=>new Jm(o.concat(t.segments),t.children)))}))}getChildConfig(t,e,n){return e.children?Object(Qt.a)(new Gv(e.children,t)):e.loadChildren?void 0!==e._loadedConfig?Object(Qt.a)(e._loadedConfig):this.runCanLoadGuards(t.injector,e,n).pipe(Object(lm.a)(n=>n?this.configLoader.load(t.injector,e).pipe(Object(se.a)(t=>(e._loadedConfig=t,t))):function(t){return new Jt.a(e=>e.error(Mm(`Cannot load children because the guard of the route "path: '${t.path}'" returned false`)))}(e))):Object(Qt.a)(new Gv([],t))}runCanLoadGuards(t,e,n){const r=e.canLoad;if(!r||0===r.length)return Object(Qt.a)(!0);const i=r.map(r=>{const i=t.get(r);let o;if(function(t){return t&&$v(t.canLoad)}(i))o=i.canLoad(e,n);else{if(!$v(i))throw new Error("Invalid CanLoad guard");o=i(e,n)}return Hm(o)});return Object(Qt.a)(i).pipe(Kv(),Object(fm.a)(t=>{if(!Wv(t))return;const e=Mm(`Redirecting to "${this.urlSerializer.serialize(t)}"`);throw e.url=t,e}),Object(se.a)(t=>!0===t))}lineralizeSegments(t,e){let n=[],r=e.root;for(;;){if(n=n.concat(r.segments),0===r.numberOfChildren)return Object(Qt.a)(n);if(r.numberOfChildren>1||!r.children.primary)return sy(t.redirectTo);r=r.children.primary}}applyRedirectCommands(t,e,n){return this.applyRedirectCreatreUrlTree(e,this.urlSerializer.parse(e),t,n)}applyRedirectCreatreUrlTree(t,e,n,r){const i=this.createSegmentGroup(t,e.root,n,r);return new Wm(i,this.createQueryParams(e.queryParams,this.urlTree.queryParams),e.fragment)}createQueryParams(t,e){const n={};return qm(t,(t,r)=>{if("string"==typeof t&&t.startsWith(":")){const i=t.substring(1);n[r]=e[i]}else n[r]=t}),n}createSegmentGroup(t,e,n,r){const i=this.createSegments(t,e.segments,n,r);let o={};return qm(e.children,(e,i)=>{o[i]=this.createSegmentGroup(t,e,n,r)}),new Jm(i,o)}createSegments(t,e,n,r){return e.map(e=>e.path.startsWith(":")?this.findPosParam(t,e,r):this.findOrReturn(e,n))}findPosParam(t,e,n){const r=n[e.path.substring(1)];if(!r)throw new Error(`Cannot redirect to '${t}'. Cannot find '${e.path}'.`);return r}findOrReturn(t,e){let n=0;for(const r of e){if(r.path===t.path)return e.splice(n),r;n++}return t}}function uy(t,e,n){if(""===e.path)return"full"===e.pathMatch&&(t.hasChildren()||n.length>0)?{matched:!1,consumedSegments:[],lastChild:0,positionalParamSegments:{}}:{matched:!0,consumedSegments:[],lastChild:0,positionalParamSegments:{}};const r=(e.matcher||Rm)(n,t,e);return r?{matched:!0,consumedSegments:r.consumed,lastChild:r.consumed.length,positionalParamSegments:r.posParams}:{matched:!1,consumedSegments:[],lastChild:0,positionalParamSegments:{}}}function cy(t){if(1===t.numberOfChildren&&t.children.primary){const e=t.children.primary;return new Jm(t.segments.concat(e.segments),e.children)}return t}function ly(t,e,n){return(!(t.hasChildren()||e.length>0)||"full"!==n.pathMatch)&&""===n.path&&void 0!==n.redirectTo}class hy{constructor(t){this.path=t,this.route=this.path[this.path.length-1]}}class fy{constructor(t,e){this.component=t,this.route=e}}function dy(t,e,n){const r=t._root;return gy(r,e?e._root:null,n,[r.value])}function py(t,e,n){const r=function(t){if(!t)return null;for(let e=t.parent;e;e=e.parent){const t=e.routeConfig;if(t&&t._loadedConfig)return t._loadedConfig}return null}(e);return(r?r.module.injector:n).get(t)}function gy(t,e,n,r,i={canDeactivateChecks:[],canActivateChecks:[]}){const o=vv(e);return t.children.forEach(t=>{!function(t,e,n,r,i={canDeactivateChecks:[],canActivateChecks:[]}){const o=t.value,s=e?e.value:null,a=n?n.getContext(t.value.outlet):null;if(s&&o.routeConfig===s.routeConfig){const u=function(t,e,n){if("function"==typeof n)return n(t,e);switch(n){case"pathParamsChange":return!Qm(t.url,e.url);case"pathParamsOrQueryParamsChange":return!Qm(t.url,e.url)||!Vm(t.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!xv(t,e)||!Vm(t.queryParams,e.queryParams);case"paramsChange":default:return!xv(t,e)}}(s,o,o.routeConfig.runGuardsAndResolvers);u?i.canActivateChecks.push(new hy(r)):(o.data=s.data,o._resolvedData=s._resolvedData),gy(t,e,o.component?a?a.children:null:n,r,i),u&&a&&a.outlet&&a.outlet.isActivated&&i.canDeactivateChecks.push(new fy(a.outlet.component,s))}else s&&by(e,a,i),i.canActivateChecks.push(new hy(r)),gy(t,null,o.component?a?a.children:null:n,r,i)}(t,o[t.value.outlet],n,r.concat([t.value]),i),delete o[t.value.outlet]}),qm(o,(t,e)=>by(t,n.getContext(e),i)),i}function by(t,e,n){const r=vv(t),i=t.value;qm(r,(t,r)=>{by(t,i.component?e?e.children.getContext(r):null:e,n)}),n.canDeactivateChecks.push(new fy(i.component&&e&&e.outlet&&e.outlet.isActivated?e.outlet.component:null,i))}function my(t,e){return null!==t&&e&&e(new Am(t)),Object(Qt.a)(!0)}function vy(t,e){return null!==t&&e&&e(new Im(t)),Object(Qt.a)(!0)}function yy(t,e,n){const r=e.routeConfig?e.routeConfig.canActivate:null;if(!r||0===r.length)return Object(Qt.a)(!0);const i=r.map(r=>rm(()=>{const i=py(r,e,n);let o;if(function(t){return t&&$v(t.canActivate)}(i))o=Hm(i.canActivate(e,t));else{if(!$v(i))throw new Error("Invalid CanActivate guard");o=Hm(i(e,t))}return o.pipe(db())}));return Object(Qt.a)(i).pipe(Kv())}function wy(t,e,n){const r=e[e.length-1],i=e.slice(0,e.length-1).reverse().map(t=>function(t){const e=t.routeConfig?t.routeConfig.canActivateChild:null;return e&&0!==e.length?{node:t,guards:e}:null}(t)).filter(t=>null!==t).map(e=>rm(()=>{const i=e.guards.map(i=>{const o=py(i,e.node,n);let s;if(function(t){return t&&$v(t.canActivateChild)}(o))s=Hm(o.canActivateChild(r,t));else{if(!$v(o))throw new Error("Invalid CanActivateChild guard");s=Hm(o(r,t))}return s.pipe(db())});return Object(Qt.a)(i).pipe(Kv())}));return Object(Qt.a)(i).pipe(Kv())}class _y{}class Oy{constructor(t,e,n,r,i,o){this.rootComponentType=t,this.config=e,this.urlTree=n,this.url=r,this.paramsInheritanceStrategy=i,this.relativeLinkResolution=o}recognize(){try{const t=Ey(this.urlTree.root,[],[],this.config,this.relativeLinkResolution).segmentGroup,e=this.processSegmentGroup(this.config,t,Nm),n=new Sv([],Object.freeze({}),Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,{},Nm,this.rootComponentType,null,this.urlTree.root,-1,{}),r=new mv(n,e),i=new Cv(this.url,r);return this.inheritParamsAndData(i._root),Object(Qt.a)(i)}catch(Vg){return new Jt.a(e=>e.error(Vg))}}inheritParamsAndData(t){const e=t.value,n=Ov(e,this.paramsInheritanceStrategy);e.params=Object.freeze(n.params),e.data=Object.freeze(n.data),t.children.forEach(t=>this.inheritParamsAndData(t))}processSegmentGroup(t,e,n){return 0===e.segments.length&&e.hasChildren()?this.processChildren(t,e):this.processSegment(t,e,e.segments,n)}processChildren(t,e){const n=Ym(e,(e,n)=>this.processSegmentGroup(t,e,n));return function(t){const e={};t.forEach(t=>{const n=e[t.value.outlet];if(n){const e=n.url.map(t=>t.toString()).join("/"),r=t.value.url.map(t=>t.toString()).join("/");throw new Error(`Two segments cannot have the same outlet name: '${e}' and '${r}'.`)}e[t.value.outlet]=t.value})}(n),n.sort((t,e)=>t.value.outlet===Nm?-1:e.value.outlet===Nm?1:t.value.outlet.localeCompare(e.value.outlet)),n}processSegment(t,e,n,r){for(const i of t)try{return this.processSegmentAgainstRoute(i,e,n,r)}catch(Vg){if(!(Vg instanceof _y))throw Vg}if(this.noLeftoversInUrl(e,n,r))return[];throw new _y}noLeftoversInUrl(t,e,n){return 0===e.length&&!t.children[n]}processSegmentAgainstRoute(t,e,n,r){if(t.redirectTo)throw new _y;if((t.outlet||Nm)!==r)throw new _y;let i,o=[],s=[];if("**"===t.path){const o=n.length>0?Um(n).parameters:{};i=new Sv(n,o,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,Iy(t),r,t.component,t,Sy(e),Cy(e)+n.length,xy(t))}else{const a=function(t,e,n){if(""===e.path){if("full"===e.pathMatch&&(t.hasChildren()||n.length>0))throw new _y;return{consumedSegments:[],lastChild:0,parameters:{}}}const r=(e.matcher||Rm)(n,t,e);if(!r)throw new _y;const i={};qm(r.posParams,(t,e)=>{i[e]=t.path});const o=r.consumed.length>0?Object.assign(Object.assign({},i),r.consumed[r.consumed.length-1].parameters):i;return{consumedSegments:r.consumed,lastChild:r.consumed.length,parameters:o}}(e,t,n);o=a.consumedSegments,s=n.slice(a.lastChild),i=new Sv(o,a.parameters,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,Iy(t),r,t.component,t,Sy(e),Cy(e)+o.length,xy(t))}const a=function(t){return t.children?t.children:t.loadChildren?t._loadedConfig.routes:[]}(t),{segmentGroup:u,slicedSegments:c}=Ey(e,o,s,a,this.relativeLinkResolution);if(0===c.length&&u.hasChildren()){const t=this.processChildren(a,u);return[new mv(i,t)]}if(0===a.length&&0===c.length)return[new mv(i,[])];const l=this.processSegment(a,u,c,Nm);return[new mv(i,l)]}}function Sy(t){let e=t;for(;e._sourceSegment;)e=e._sourceSegment;return e}function Cy(t){let e=t,n=e._segmentIndexShift?e._segmentIndexShift:0;for(;e._sourceSegment;)e=e._sourceSegment,n+=e._segmentIndexShift?e._segmentIndexShift:0;return n-1}function Ey(t,e,n,r,i){if(n.length>0&&function(t,e,n){return n.some(n=>Ty(t,e,n)&&ey(n)!==Nm)}(t,n,r)){const i=new Jm(e,function(t,e,n,r){const i={};i.primary=r,r._sourceSegment=t,r._segmentIndexShift=e.length;for(const o of n)if(""===o.path&&ey(o)!==Nm){const n=new Jm([],{});n._sourceSegment=t,n._segmentIndexShift=e.length,i[ey(o)]=n}return i}(t,e,r,new Jm(n,t.children)));return i._sourceSegment=t,i._segmentIndexShift=e.length,{segmentGroup:i,slicedSegments:[]}}if(0===n.length&&function(t,e,n){return n.some(n=>Ty(t,e,n))}(t,n,r)){const o=new Jm(t.segments,function(t,e,n,r,i,o){const s={};for(const a of r)if(Ty(t,n,a)&&!i[ey(a)]){const n=new Jm([],{});n._sourceSegment=t,n._segmentIndexShift="legacy"===o?t.segments.length:e.length,s[ey(a)]=n}return Object.assign(Object.assign({},i),s)}(t,e,n,r,t.children,i));return o._sourceSegment=t,o._segmentIndexShift=e.length,{segmentGroup:o,slicedSegments:n}}const o=new Jm(t.segments,t.children);return o._sourceSegment=t,o._segmentIndexShift=e.length,{segmentGroup:o,slicedSegments:n}}function Ty(t,e,n){return(!(t.hasChildren()||e.length>0)||"full"!==n.pathMatch)&&""===n.path&&void 0===n.redirectTo}function Iy(t){return t.data||{}}function xy(t){return t.resolve||{}}function Ay(t){return function(e){return e.pipe(zg(e=>{const n=t(e);return n?Object(Kt.a)(n).pipe(Object(se.a)(()=>e)):Object(Kt.a)([e])}))}}class ky extends class{shouldDetach(t){return!1}store(t,e){}shouldAttach(t){return!1}retrieve(t){return null}shouldReuseRoute(t,e){return t.routeConfig===e.routeConfig}}{}const jy=new r.q("ROUTES");class Ny{constructor(t,e,n,r){this.loader=t,this.compiler=e,this.onLoadStartListener=n,this.onLoadEndListener=r}load(t,e){return this.onLoadStartListener&&this.onLoadStartListener(e),this.loadModuleFactory(e.loadChildren).pipe(Object(se.a)(n=>{this.onLoadEndListener&&this.onLoadEndListener(e);const r=n.create(t);return new Gv(Fm(r.injector.get(jy)).map(ty),r)}))}loadModuleFactory(t){return"string"==typeof t?Object(Kt.a)(this.loader.load(t)):Hm(t()).pipe(Object(lm.a)(t=>t instanceof r.v?Object(Qt.a)(t):Object(Kt.a)(this.compiler.compileModuleAsync(t))))}}class Py{constructor(){this.outlet=null,this.route=null,this.resolver=null,this.children=new Dy,this.attachRef=null}}class Dy{constructor(){this.contexts=new Map}onChildOutletCreated(t,e){const n=this.getOrCreateContext(t);n.outlet=e,this.contexts.set(t,n)}onChildOutletDestroyed(t){const e=this.getContext(t);e&&(e.outlet=null)}onOutletDeactivated(){const t=this.contexts;return this.contexts=new Map,t}onOutletReAttached(t){this.contexts=t}getOrCreateContext(t){let e=this.getContext(t);return e||(e=new Py,this.contexts.set(t,e)),e}getContext(t){return this.contexts.get(t)||null}}class My{shouldProcessUrl(t){return!0}extract(t){return t}merge(t,e){return t}}function Ry(t){throw t}function Vy(t,e,n){return e.parse("/")}function Ly(t,e){return Object(Qt.a)(null)}let Fy=(()=>{class t{constructor(t,e,n,i,o,s,a,u){this.rootComponentType=t,this.urlSerializer=e,this.rootContexts=n,this.location=i,this.config=u,this.lastSuccessfulNavigation=null,this.currentNavigation=null,this.lastLocationChangeInfo=null,this.navigationId=0,this.isNgZoneEnabled=!1,this.events=new Ug.a,this.errorHandler=Ry,this.malformedUriErrorHandler=Vy,this.navigated=!1,this.lastSuccessfulId=-1,this.hooks={beforePreactivation:Ly,afterPreactivation:Ly},this.urlHandlingStrategy=new My,this.routeReuseStrategy=new ky,this.onSameUrlNavigation="ignore",this.paramsInheritanceStrategy="emptyOnly",this.urlUpdateStrategy="deferred",this.relativeLinkResolution="corrected",this.ngModule=o.get(r.x),this.console=o.get(r.X);const c=o.get(r.z);this.isNgZoneEnabled=c instanceof r.z,this.resetConfig(u),this.currentUrlTree=new Wm(new Jm([],{}),{},null),this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.configLoader=new Ny(s,a,t=>this.triggerEvent(new Em(t)),t=>this.triggerEvent(new Tm(t))),this.routerState=wv(this.currentUrlTree,this.rootComponentType),this.transitions=new Wb({id:0,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,extractedUrl:this.urlHandlingStrategy.extract(this.currentUrlTree),urlAfterRedirects:this.urlHandlingStrategy.extract(this.currentUrlTree),rawUrl:this.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:"imperative",restoredState:null,currentSnapshot:this.routerState.snapshot,targetSnapshot:null,currentRouterState:this.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.navigations=this.setupNavigations(this.transitions),this.processNavigations()}setupNavigations(t){const e=this.events;return t.pipe(fe(t=>0!==t.id),Object(se.a)(t=>Object.assign(Object.assign({},t),{extractedUrl:this.urlHandlingStrategy.extract(t.rawUrl)})),zg(t=>{let n=!1,r=!1;return Object(Qt.a)(t).pipe(Object(fm.a)(t=>{this.currentNavigation={id:t.id,initialUrl:t.currentRawUrl,extractedUrl:t.extractedUrl,trigger:t.source,extras:t.extras,previousNavigation:this.lastSuccessfulNavigation?Object.assign(Object.assign({},this.lastSuccessfulNavigation),{previousNavigation:null}):null}}),zg(t=>{const n=!this.navigated||t.extractedUrl.toString()!==this.browserUrlTree.toString();if(("reload"===this.onSameUrlNavigation||n)&&this.urlHandlingStrategy.shouldProcessUrl(t.rawUrl))return Object(Qt.a)(t).pipe(zg(t=>{const n=this.transitions.getValue();return e.next(new bm(t.id,this.serializeUrl(t.extractedUrl),t.source,t.restoredState)),n!==this.transitions.getValue()?eb.a:[t]}),zg(t=>Promise.resolve(t)),(r=this.ngModule.injector,i=this.configLoader,o=this.urlSerializer,s=this.config,function(t){return t.pipe(zg(t=>function(t,e,n,r,i){return new ay(t,e,n,r,i).apply()}(r,i,o,t.extractedUrl,s).pipe(Object(se.a)(e=>Object.assign(Object.assign({},t),{urlAfterRedirects:e})))))}),Object(fm.a)(t=>{this.currentNavigation=Object.assign(Object.assign({},this.currentNavigation),{finalUrl:t.urlAfterRedirects})}),function(t,e,n,r,i){return function(o){return o.pipe(Object(lm.a)(o=>function(t,e,n,r,i="emptyOnly",o="legacy"){return new Oy(t,e,n,r,i,o).recognize()}(t,e,o.urlAfterRedirects,n(o.urlAfterRedirects),r,i).pipe(Object(se.a)(t=>Object.assign(Object.assign({},o),{targetSnapshot:t})))))}}(this.rootComponentType,this.config,t=>this.serializeUrl(t),this.paramsInheritanceStrategy,this.relativeLinkResolution),Object(fm.a)(t=>{"eager"===this.urlUpdateStrategy&&(t.extras.skipLocationChange||this.setBrowserUrl(t.urlAfterRedirects,!!t.extras.replaceUrl,t.id,t.extras.state),this.browserUrlTree=t.urlAfterRedirects)}),Object(fm.a)(t=>{const n=new wm(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(t.urlAfterRedirects),t.targetSnapshot);e.next(n)}));var r,i,o,s;if(n&&this.rawUrlTree&&this.urlHandlingStrategy.shouldProcessUrl(this.rawUrlTree)){const{id:n,extractedUrl:r,source:i,restoredState:o,extras:s}=t,a=new bm(n,this.serializeUrl(r),i,o);e.next(a);const u=wv(r,this.rootComponentType).snapshot;return Object(Qt.a)(Object.assign(Object.assign({},t),{targetSnapshot:u,urlAfterRedirects:r,extras:Object.assign(Object.assign({},s),{skipLocationChange:!1,replaceUrl:!1})}))}return this.rawUrlTree=t.rawUrl,this.browserUrlTree=t.urlAfterRedirects,t.resolve(null),eb.a}),Ay(t=>{const{targetSnapshot:e,id:n,extractedUrl:r,rawUrl:i,extras:{skipLocationChange:o,replaceUrl:s}}=t;return this.hooks.beforePreactivation(e,{navigationId:n,appliedUrlTree:r,rawUrlTree:i,skipLocationChange:!!o,replaceUrl:!!s})}),Object(fm.a)(t=>{const e=new _m(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(t.urlAfterRedirects),t.targetSnapshot);this.triggerEvent(e)}),Object(se.a)(t=>Object.assign(Object.assign({},t),{guards:dy(t.targetSnapshot,t.currentSnapshot,this.rootContexts)})),function(t,e){return function(n){return n.pipe(Object(lm.a)(n=>{const{targetSnapshot:r,currentSnapshot:i,guards:{canActivateChecks:o,canDeactivateChecks:s}}=n;return 0===s.length&&0===o.length?Object(Qt.a)(Object.assign(Object.assign({},n),{guardsResult:!0})):function(t,e,n,r){return Object(Kt.a)(t).pipe(Object(lm.a)(t=>function(t,e,n,r,i){const o=e&&e.routeConfig?e.routeConfig.canDeactivate:null;if(!o||0===o.length)return Object(Qt.a)(!0);const s=o.map(o=>{const s=py(o,e,i);let a;if(function(t){return t&&$v(t.canDeactivate)}(s))a=Hm(s.canDeactivate(t,e,n,r));else{if(!$v(s))throw new Error("Invalid CanDeactivate guard");a=Hm(s(t,e,n,r))}return a.pipe(db())});return Object(Qt.a)(s).pipe(Kv())}(t.component,t.route,n,e,r)),db(t=>!0!==t,!0))}(s,r,i,t).pipe(Object(lm.a)(n=>n&&"boolean"==typeof n?function(t,e,n,r){return Object(Kt.a)(e).pipe(hm(e=>Object(Kt.a)([vy(e.route.parent,r),my(e.route,r),wy(t,e.path,n),yy(t,e.route,n)]).pipe(Zt(),db(t=>!0!==t,!0))),db(t=>!0!==t,!0))}(r,o,t,e):Object(Qt.a)(n)),Object(se.a)(t=>Object.assign(Object.assign({},n),{guardsResult:t})))}))}}(this.ngModule.injector,t=>this.triggerEvent(t)),Object(fm.a)(t=>{if(Wv(t.guardsResult)){const e=Mm(`Redirecting to "${this.serializeUrl(t.guardsResult)}"`);throw e.url=t.guardsResult,e}}),Object(fm.a)(t=>{const e=new Om(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(t.urlAfterRedirects),t.targetSnapshot,!!t.guardsResult);this.triggerEvent(e)}),fe(t=>{if(!t.guardsResult){this.resetUrlToCurrentUrlTree();const n=new vm(t.id,this.serializeUrl(t.extractedUrl),"");return e.next(n),t.resolve(!1),!1}return!0}),Ay(t=>{if(t.guards.canActivateChecks.length)return Object(Qt.a)(t).pipe(Object(fm.a)(t=>{const e=new Sm(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(t.urlAfterRedirects),t.targetSnapshot);this.triggerEvent(e)}),zg(t=>{let n=!1;return Object(Qt.a)(t).pipe((r=this.paramsInheritanceStrategy,i=this.ngModule.injector,function(t){return t.pipe(Object(lm.a)(t=>{const{targetSnapshot:e,guards:{canActivateChecks:n}}=t;if(!n.length)return Object(Qt.a)(t);let o=0;return Object(Kt.a)(n).pipe(hm(t=>function(t,e,n,r){return function(t,e,n,r){const i=Object.keys(t);if(0===i.length)return Object(Qt.a)({});const o={};return Object(Kt.a)(i).pipe(Object(lm.a)(i=>function(t,e,n,r){const i=py(t,e,r);return Hm(i.resolve?i.resolve(e,n):i(e,n))}(t[i],e,n,r).pipe(Object(fm.a)(t=>{o[i]=t}))),im(1),Object(lm.a)(()=>Object.keys(o).length===i.length?Object(Qt.a)(o):eb.a))}(t._resolve,t,e,r).pipe(Object(se.a)(e=>(t._resolvedData=e,t.data=Object.assign(Object.assign({},t.data),Ov(t,n).resolve),null)))}(t.route,e,r,i)),Object(fm.a)(()=>o++),im(1),Object(lm.a)(e=>o===n.length?Object(Qt.a)(t):eb.a))}))}),Object(fm.a)({next:()=>n=!0,complete:()=>{if(!n){const n=new vm(t.id,this.serializeUrl(t.extractedUrl),"At least one route resolver didn't emit any value.");e.next(n),t.resolve(!1)}}}));var r,i}),Object(fm.a)(t=>{const e=new Cm(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(t.urlAfterRedirects),t.targetSnapshot);this.triggerEvent(e)}))}),Ay(t=>{const{targetSnapshot:e,id:n,extractedUrl:r,rawUrl:i,extras:{skipLocationChange:o,replaceUrl:s}}=t;return this.hooks.afterPreactivation(e,{navigationId:n,appliedUrlTree:r,rawUrlTree:i,skipLocationChange:!!o,replaceUrl:!!s})}),Object(se.a)(t=>{const e=function(t,e,n){const r=Av(t,e._root,n?n._root:void 0);return new yv(r,e)}(this.routeReuseStrategy,t.targetSnapshot,t.currentRouterState);return Object.assign(Object.assign({},t),{targetRouterState:e})}),Object(fm.a)(t=>{this.currentUrlTree=t.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,t.rawUrl),this.routerState=t.targetRouterState,"deferred"===this.urlUpdateStrategy&&(t.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,!!t.extras.replaceUrl,t.id,t.extras.state),this.browserUrlTree=t.urlAfterRedirects)}),(o=this.rootContexts,s=this.routeReuseStrategy,a=t=>this.triggerEvent(t),Object(se.a)(t=>(new zv(s,t.targetRouterState,t.currentRouterState,a).activate(o),t))),Object(fm.a)({next(){n=!0},complete(){n=!0}}),(i=()=>{if(!n&&!r){this.resetUrlToCurrentUrlTree();const n=new vm(t.id,this.serializeUrl(t.extractedUrl),`Navigation ID ${t.id} is not equal to the current navigation id ${this.navigationId}`);e.next(n),t.resolve(!1)}this.currentNavigation=null},t=>t.lift(new dm(i))),am(n=>{if(r=!0,(i=n)&&i.ngNavigationCancelingError){const r=Wv(n.url);r||(this.navigated=!0,this.resetStateAndUrl(t.currentRouterState,t.currentUrlTree,t.rawUrl));const i=new vm(t.id,this.serializeUrl(t.extractedUrl),n.message);e.next(i),r?setTimeout(()=>{const e=this.urlHandlingStrategy.merge(n.url,this.rawUrlTree);return this.scheduleNavigation(e,"imperative",null,{skipLocationChange:t.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy},{resolve:t.resolve,reject:t.reject,promise:t.promise})},0):t.resolve(!1)}else{this.resetStateAndUrl(t.currentRouterState,t.currentUrlTree,t.rawUrl);const r=new ym(t.id,this.serializeUrl(t.extractedUrl),n);e.next(r);try{t.resolve(this.errorHandler(n))}catch(ia){t.reject(ia)}}var i;return eb.a}));var i,o,s,a}))}resetRootComponentType(t){this.rootComponentType=t,this.routerState.root.component=this.rootComponentType}getTransition(){const t=this.transitions.value;return t.urlAfterRedirects=this.browserUrlTree,t}setTransition(t){this.transitions.next(Object.assign(Object.assign({},this.getTransition()),t))}initialNavigation(){this.setUpLocationChangeListener(),0===this.navigationId&&this.navigateByUrl(this.location.path(!0),{replaceUrl:!0})}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(t=>{const e=this.extractLocationChangeInfoFromEvent(t);this.shouldScheduleNavigation(this.lastLocationChangeInfo,e)&&setTimeout(()=>{const{source:t,state:n,urlTree:r}=e,i={replaceUrl:!0};if(n){const t=Object.assign({},n);delete t.navigationId,0!==Object.keys(t).length&&(i.state=t)}this.scheduleNavigation(r,t,n,i)},0),this.lastLocationChangeInfo=e}))}extractLocationChangeInfoFromEvent(t){var e;return{source:"popstate"===t.type?"popstate":"hashchange",urlTree:this.parseUrl(t.url),state:(null===(e=t.state)||void 0===e?void 0:e.navigationId)?t.state:null,transitionId:this.getTransition().id}}shouldScheduleNavigation(t,e){if(!t)return!0;const n=e.urlTree.toString()===t.urlTree.toString();return!(e.transitionId===t.transitionId&&n&&("hashchange"===e.source&&"popstate"===t.source||"popstate"===e.source&&"hashchange"===t.source))}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.currentNavigation}triggerEvent(t){this.events.next(t)}resetConfig(t){Yv(t),this.config=t.map(ty),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0)}createUrlTree(t,e={}){const{relativeTo:n,queryParams:r,fragment:i,queryParamsHandling:o,preserveFragment:s}=e,a=n||this.routerState.root,u=s?this.currentUrlTree.fragment:i;let c=null;switch(o){case"merge":c=Object.assign(Object.assign({},this.currentUrlTree.queryParams),r);break;case"preserve":c=this.currentUrlTree.queryParams;break;default:c=r||null}return null!==c&&(c=this.removeEmptyProps(c)),function(t,e,n,r,i){if(0===n.length)return Pv(e.root,e.root,e,r,i);const o=function(t){if("string"==typeof t[0]&&1===t.length&&"/"===t[0])return new Mv(!0,0,t);let e=0,n=!1;const r=t.reduce((t,r,i)=>{if("object"==typeof r&&null!=r){if(r.outlets){const e={};return qm(r.outlets,(t,n)=>{e[n]="string"==typeof t?t.split("/"):t}),[...t,{outlets:e}]}if(r.segmentPath)return[...t,r.segmentPath]}return"string"!=typeof r?[...t,r]:0===i?(r.split("/").forEach((r,i)=>{0==i&&"."===r||(0==i&&""===r?n=!0:".."===r?e++:""!=r&&t.push(r))}),t):[...t,r]},[]);return new Mv(n,e,r)}(n);if(o.toRoot())return Pv(e.root,new Jm([],{}),e,r,i);const s=function(t,e,n){if(t.isAbsolute)return new Rv(e.root,!0,0);if(-1===n.snapshot._lastPathIndex){const t=n.snapshot._urlSegment;return new Rv(t,t===e.root,0)}const r=jv(t.commands[0])?0:1;return function(t,e,n){let r=t,i=e,o=n;for(;o>i;){if(o-=i,r=r.parent,!r)throw new Error("Invalid number of '../'");i=r.segments.length}return new Rv(r,!1,i-o)}(n.snapshot._urlSegment,n.snapshot._lastPathIndex+r,t.numberOfDoubleDots)}(o,e,t),a=s.processChildren?Lv(s.segmentGroup,s.index,o.commands):Vv(s.segmentGroup,s.index,o.commands);return Pv(s.segmentGroup,a,e,r,i)}(a,this.currentUrlTree,t,c,u)}navigateByUrl(t,e={skipLocationChange:!1}){const n=Wv(t)?t:this.parseUrl(t),r=this.urlHandlingStrategy.merge(n,this.rawUrlTree);return this.scheduleNavigation(r,"imperative",null,e)}navigate(t,e={skipLocationChange:!1}){return function(t){for(let e=0;e<t.length;e++){const n=t[e];if(null==n)throw new Error(`The requested path contains ${n} segment at index ${e}`)}}(t),this.navigateByUrl(this.createUrlTree(t,e),e)}serializeUrl(t){return this.urlSerializer.serialize(t)}parseUrl(t){let e;try{e=this.urlSerializer.parse(t)}catch(Vg){e=this.malformedUriErrorHandler(Vg,this.urlSerializer,t)}return e}isActive(t,e){if(Wv(t))return zm(this.currentUrlTree,t,e);const n=this.parseUrl(t);return zm(this.currentUrlTree,n,e)}removeEmptyProps(t){return Object.keys(t).reduce((e,n)=>{const r=t[n];return null!=r&&(e[n]=r),e},{})}processNavigations(){this.navigations.subscribe(t=>{this.navigated=!0,this.lastSuccessfulId=t.id,this.events.next(new mm(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(this.currentUrlTree))),this.lastSuccessfulNavigation=this.currentNavigation,this.currentNavigation=null,t.resolve(!0)},t=>{this.console.warn("Unhandled Navigation Error: ")})}scheduleNavigation(t,e,n,r,i){const o=this.getTransition(),s="imperative"!==e&&"imperative"===(null==o?void 0:o.source),a=(this.lastSuccessfulId===o.id||this.currentNavigation?o.rawUrl:o.urlAfterRedirects).toString()===t.toString();if(s&&a)return Promise.resolve(!0);let u,c,l;i?(u=i.resolve,c=i.reject,l=i.promise):l=new Promise((t,e)=>{u=t,c=e});const h=++this.navigationId;return this.setTransition({id:h,source:e,restoredState:n,currentUrlTree:this.currentUrlTree,currentRawUrl:this.rawUrlTree,rawUrl:t,extras:r,resolve:u,reject:c,promise:l,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),l.catch(t=>Promise.reject(t))}setBrowserUrl(t,e,n,r){const i=this.urlSerializer.serialize(t);r=r||{},this.location.isCurrentPathEqualTo(i)||e?this.location.replaceState(i,"",Object.assign(Object.assign({},r),{navigationId:n})):this.location.go(i,"",Object.assign(Object.assign({},r),{navigationId:n}))}resetStateAndUrl(t,e,n){this.routerState=t,this.currentUrlTree=e,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,n),this.resetUrlToCurrentUrlTree()}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",{navigationId:this.lastSuccessfulId})}}return t.\u0275fac=function(e){return new(e||t)(r.Sb(r.M),r.Sb(Zm),r.Sb(Dy),r.Sb(O),r.Sb(r.r),r.Sb(r.w),r.Sb(r.i),r.Sb(void 0))},t.\u0275prov=r.Fb({token:t,factory:t.\u0275fac}),t})(),Uy=(()=>{class t{constructor(t,e,n){this.router=t,this.route=e,this.locationStrategy=n,this.commands=[],this.onChanges=new Ug.a,this.subscription=t.events.subscribe(t=>{t instanceof mm&&this.updateTargetUrlAndHref()})}set routerLink(t){this.commands=null!=t?Array.isArray(t)?t:[t]:[]}ngOnChanges(t){this.updateTargetUrlAndHref(),this.onChanges.next(this)}ngOnDestroy(){this.subscription.unsubscribe()}onClick(t,e,n,r,i){if(0!==t||e||n||r||i)return!0;if("string"==typeof this.target&&"_self"!=this.target)return!0;const o={skipLocationChange:qy(this.skipLocationChange),replaceUrl:qy(this.replaceUrl),state:this.state};return this.router.navigateByUrl(this.urlTree,o),!1}updateTargetUrlAndHref(){this.href=this.locationStrategy.prepareExternalUrl(this.router.serializeUrl(this.urlTree))}get urlTree(){return this.router.createUrlTree(this.commands,{relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:qy(this.preserveFragment)})}}return t.\u0275fac=function(e){return new(e||t)(r.Jb(Fy),r.Jb(_v),r.Jb(m))},t.\u0275dir=r.Eb({type:t,selectors:[["a","routerLink",""],["area","routerLink",""]],hostVars:2,hostBindings:function(t,e){1&t&&r.Vb("click",function(t){return e.onClick(t.button,t.ctrlKey,t.shiftKey,t.altKey,t.metaKey)}),2&t&&(r.Rb("href",e.href,r.lc),r.zb("target",e.target))},inputs:{routerLink:"routerLink",target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",state:"state"},features:[r.wb]}),t})();function qy(t){return""===t||!!t}let Hy=(()=>{class t{constructor(t,e,n,i,o){this.parentContexts=t,this.location=e,this.resolver=n,this.changeDetector=o,this.activated=null,this._activatedRoute=null,this.activateEvents=new r.n,this.deactivateEvents=new r.n,this.name=i||Nm,t.onChildOutletCreated(this.name,this)}ngOnDestroy(){this.parentContexts.onChildOutletDestroyed(this.name)}ngOnInit(){if(!this.activated){const t=this.parentContexts.getContext(this.name);t&&t.route&&(t.attachRef?this.attach(t.attachRef,t.route):this.activateWith(t.route,t.resolver||null))}}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new Error("Outlet is not activated");return this.activated.instance}get activatedRoute(){if(!this.activated)throw new Error("Outlet is not activated");return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new Error("Outlet is not activated");this.location.detach();const t=this.activated;return this.activated=null,this._activatedRoute=null,t}attach(t,e){this.activated=t,this._activatedRoute=e,this.location.insert(t.hostView)}deactivate(){if(this.activated){const t=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(t)}}activateWith(t,e){if(this.isActivated)throw new Error("Cannot activate an already activated outlet");this._activatedRoute=t;const n=(e=e||this.resolver).resolveComponentFactory(t._futureSnapshot.routeConfig.component),r=this.parentContexts.getOrCreateContext(this.name).children,i=new zy(t,r,this.location.injector);this.activated=this.location.createComponent(n,this.location.length,i),this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}}return t.\u0275fac=function(e){return new(e||t)(r.Jb(Dy),r.Jb(r.P),r.Jb(r.j),r.Tb("name"),r.Jb(r.h))},t.\u0275dir=r.Eb({type:t,selectors:[["router-outlet"]],outputs:{activateEvents:"activate",deactivateEvents:"deactivate"},exportAs:["outlet"]}),t})();class zy{constructor(t,e,n){this.route=t,this.childContexts=e,this.parent=n}get(t,e){return t===_v?this.route:t===Dy?this.childContexts:this.parent.get(t,e)}}class By{}class Gy{preload(t,e){return Object(Qt.a)(null)}}let $y=(()=>{class t{constructor(t,e,n,r,i){this.router=t,this.injector=r,this.preloadingStrategy=i,this.loader=new Ny(e,n,e=>t.triggerEvent(new Em(e)),e=>t.triggerEvent(new Tm(e)))}setUpPreloading(){this.subscription=this.router.events.pipe(fe(t=>t instanceof mm),hm(()=>this.preload())).subscribe(()=>{})}preload(){const t=this.injector.get(r.x);return this.processRoutes(t,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(t,e){const n=[];for(const r of e)if(r.loadChildren&&!r.canLoad&&r._loadedConfig){const t=r._loadedConfig;n.push(this.processRoutes(t.module,t.routes))}else r.loadChildren&&!r.canLoad?n.push(this.preloadConfig(t,r)):r.children&&n.push(this.processRoutes(t,r.children));return Object(Kt.a)(n).pipe(Object(Yt.a)(),Object(se.a)(t=>{}))}preloadConfig(t,e){return this.preloadingStrategy.preload(e,()=>this.loader.load(t.injector,e).pipe(Object(lm.a)(t=>(e._loadedConfig=t,this.processRoutes(t.module,t.routes)))))}}return t.\u0275fac=function(e){return new(e||t)(r.Sb(Fy),r.Sb(r.w),r.Sb(r.i),r.Sb(r.r),r.Sb(By))},t.\u0275prov=r.Fb({token:t,factory:t.\u0275fac}),t})(),Wy=(()=>{class t{constructor(t,e,n={}){this.router=t,this.viewportScroller=e,this.options=n,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},n.scrollPositionRestoration=n.scrollPositionRestoration||"disabled",n.anchorScrolling=n.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.router.events.subscribe(t=>{t instanceof bm?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=t.navigationTrigger,this.restoredId=t.restoredState?t.restoredState.navigationId:0):t instanceof mm&&(this.lastId=t.id,this.scheduleScrollEvent(t,this.router.parseUrl(t.urlAfterRedirects).fragment))})}consumeScrollEvents(){return this.router.events.subscribe(t=>{t instanceof jm&&(t.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(t.position):t.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(t.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(t,e){this.router.triggerEvent(new jm(t,"popstate"===this.lastSource?this.store[this.restoredId]:null,e))}ngOnDestroy(){this.routerEventsSubscription&&this.routerEventsSubscription.unsubscribe(),this.scrollEventsSubscription&&this.scrollEventsSubscription.unsubscribe()}}return t.\u0275fac=function(e){return new(e||t)(r.Sb(Fy),r.Sb(pt),r.Sb(void 0))},t.\u0275prov=r.Fb({token:t,factory:t.\u0275fac}),t})();const Jy=new r.q("ROUTER_CONFIGURATION"),Ky=new r.q("ROUTER_FORROOT_GUARD"),Qy=[O,{provide:Zm,useClass:Xm},{provide:Fy,useFactory:function(t,e,n,r,i,o,a,u={},c,l){const h=new Fy(null,t,e,n,r,i,o,Fm(a));if(c&&(h.urlHandlingStrategy=c),l&&(h.routeReuseStrategy=l),function(t,e){t.errorHandler&&(e.errorHandler=t.errorHandler),t.malformedUriErrorHandler&&(e.malformedUriErrorHandler=t.malformedUriErrorHandler),t.onSameUrlNavigation&&(e.onSameUrlNavigation=t.onSameUrlNavigation),t.paramsInheritanceStrategy&&(e.paramsInheritanceStrategy=t.paramsInheritanceStrategy),t.relativeLinkResolution&&(e.relativeLinkResolution=t.relativeLinkResolution),t.urlUpdateStrategy&&(e.urlUpdateStrategy=t.urlUpdateStrategy)}(u,h),u.enableTracing){const t=s();h.events.subscribe(e=>{t.logGroup("Router Event: "+e.constructor.name),t.log(e.toString()),t.log(e),t.logGroupEnd()})}return h},deps:[Zm,Dy,O,r.r,r.w,r.i,jy,Jy,[class{},new r.A],[class{},new r.A]]},Dy,{provide:_v,useFactory:function(t){return t.routerState.root},deps:[Fy]},{provide:r.w,useClass:r.J},$y,Gy,class{preload(t,e){return e().pipe(am(()=>Object(Qt.a)(null)))}},{provide:Jy,useValue:{enableTracing:!1}}];function Yy(){return new r.y("Router",Fy)}let Zy=(()=>{class t{constructor(t,e){}static forRoot(e,n){return{ngModule:t,providers:[Qy,nw(e),{provide:Ky,useFactory:ew,deps:[[Fy,new r.A,new r.I]]},{provide:Jy,useValue:n||{}},{provide:m,useFactory:tw,deps:[u,[new r.p(y),new r.A],Jy]},{provide:Wy,useFactory:Xy,deps:[Fy,pt,Jy]},{provide:By,useExisting:n&&n.preloadingStrategy?n.preloadingStrategy:Gy},{provide:r.y,multi:!0,useFactory:Yy},[rw,{provide:r.d,multi:!0,useFactory:iw,deps:[rw]},{provide:sw,useFactory:ow,deps:[rw]},{provide:r.b,multi:!0,useExisting:sw}]]}}static forChild(e){return{ngModule:t,providers:[nw(e)]}}}return t.\u0275mod=r.Hb({type:t}),t.\u0275inj=r.Gb({factory:function(e){return new(e||t)(r.Sb(Ky,8),r.Sb(Fy,8))}}),t})();function Xy(t,e,n){return n.scrollOffset&&e.setOffset(n.scrollOffset),new Wy(t,e,n)}function tw(t,e,n={}){return n.useHash?new _(t,e):new w(t,e)}function ew(t){return"guarded"}function nw(t){return[{provide:r.a,multi:!0,useValue:t},{provide:jy,multi:!0,useValue:t}]}let rw=(()=>{class t{constructor(t){this.injector=t,this.initNavigation=!1,this.resultOfPreactivationDone=new Ug.a}appInitializer(){return this.injector.get(l,Promise.resolve(null)).then(()=>{let t=null;const e=new Promise(e=>t=e),n=this.injector.get(Fy),r=this.injector.get(Jy);return"disabled"===r.initialNavigation?(n.setUpLocationChangeListener(),t(!0)):"enabled"===r.initialNavigation||"enabledBlocking"===r.initialNavigation?(n.hooks.afterPreactivation=()=>this.initNavigation?Object(Qt.a)(null):(this.initNavigation=!0,t(!0),this.resultOfPreactivationDone),n.initialNavigation()):t(!0),e})}bootstrapListener(t){const e=this.injector.get(Jy),n=this.injector.get($y),i=this.injector.get(Wy),o=this.injector.get(Fy),s=this.injector.get(r.g);t===s.components[0]&&("enabledNonBlocking"!==e.initialNavigation&&void 0!==e.initialNavigation||o.initialNavigation(),n.setUpPreloading(),i.init(),o.resetRootComponentType(s.componentTypes[0]),this.resultOfPreactivationDone.next(null),this.resultOfPreactivationDone.complete())}}return t.\u0275fac=function(e){return new(e||t)(r.Sb(r.r))},t.\u0275prov=r.Fb({token:t,factory:t.\u0275fac}),t})();function iw(t){return t.appInitializer.bind(t)}function ow(t){return t.bootstrapListener.bind(t)}const sw=new r.q("Router Initializer");let aw=(()=>{class t{constructor(t,e){this.afAuth=t,this.router=e,this.user=void 0,this.admin=!1,this.afAuth.authState.subscribe(t=>{this.user=t,t&&this.getAdmins().then(e=>{e.map(e=>{this.admin=e===t.email})})})}getAuthState(){return this.afAuth.authState}SignUp(t,e){return this.afAuth.createUserWithEmailAndPassword(t,e)}SignIn(t,e){return this.afAuth.signInWithEmailAndPassword(t,e)}GoogleAuth(){const t=new be.a.auth.GoogleAuthProvider;return this.afAuth.signInWithPopup(t)}FacebookAuth(){const t=new be.a.auth.FacebookAuthProvider;return this.afAuth.signInWithPopup(t)}GithubAuth(){const t=new be.a.auth.GithubAuthProvider;return this.afAuth.signInWithPopup(t)}SignOut(){return this.afAuth.signOut()}getAdmins(){return be.a.firestore().collection("admins").get().then(t=>t.docs.map(t=>t.data().email))}}return t.\u0275fac=function(e){return new(e||t)(r.Sb(Ob),r.Sb(Fy))},t.\u0275prov=r.Fb({token:t,factory:t.\u0275fac,providedIn:"root"}),t})(),uw=(()=>{class t{constructor(){this.filters={resolved:"",categories:[],time:qb,onModeration:"",myQuestions:""},this.sort=Bb,this.theme=$b,this.display=Gb}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=r.Fb({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();function cw(t,e){1&t&&(r.Ob(0,"ul",5),r.Ob(1,"li",6),r.Ob(2,"a",7),r.pc(3,"Login"),r.Nb(),r.Nb(),r.Ob(4,"li",6),r.Ob(5,"a",8),r.pc(6,"Register"),r.Nb(),r.Nb(),r.Nb())}function lw(t,e){1&t&&(r.Ob(0,"span",19),r.pc(1,"ADMIN"),r.Nb())}function hw(t,e){if(1&t){const t=r.Pb();r.Ob(0,"ul",5),r.Ob(1,"li",6),r.Ob(2,"a",9),r.pc(3,"Add question"),r.Nb(),r.Nb(),r.Ob(4,"li",10),r.Ob(5,"div",11),r.Kb(6,"img",12),r.nc(7,lw,2,0,"span",13),r.Nb(),r.Ob(8,"div",14),r.Ob(9,"p",15),r.pc(10),r.Nb(),r.Ob(11,"div",16),r.Ob(12,"a",17),r.Vb("click",function(){return r.jc(t),r.Xb().signOut()}),r.pc(13,"Sign Out"),r.Nb(),r.Ob(14,"a",18),r.pc(15,"Profile"),r.Nb(),r.Nb(),r.Nb(),r.Nb(),r.Nb()}if(2&t){const t=r.Xb();r.yb(6),r.cc("src",t.profileImg,r.lc),r.yb(1),r.cc("ngIf",t.authService.admin),r.yb(3),r.rc(" ",t.authService.user.email.split("@")[0]," ")}}let fw=(()=>{class t{constructor(t,e){this.authService=t,this.filtersService=e,this.profileImg=Ub}ngOnInit(){}signOut(){this.authService.SignOut().then(()=>{this.authService.user=null,this.filtersService.filters={resolved:"",categories:[],time:qb,onModeration:"",myQuestions:""},this.filtersService.sort=Bb,this.filtersService.theme=$b,this.filtersService.display=Gb}).catch(t=>{console.error(t)})}}return t.\u0275fac=function(e){return new(e||t)(r.Jb(aw),r.Jb(uw))},t.\u0275cmp=r.Db({type:t,selectors:[["app-nav-bar"]],decls:6,vars:2,consts:[[1,"navbar","navbar-expand","navbar-dark","bg-danger"],["routerLink","",1,"navbar-brand"],["src","../../assets/smallLogo.png",1,"navLogo"],["id","navbarSupportedContent",1,"collapse","navbar-collapse"],["class","navbar-nav ml-auto",4,"ngIf"],[1,"navbar-nav","ml-auto"],[1,"nav-item"],["routerLink","/login",1,"nav-link"],["routerLink","/register",1,"nav-link"],["routerLink","/newquestion",1,"navAddQstnBtn","nav-link","btn","btn-light"],[1,"nav-item","d-flex","flex-wrap","justify-content-center","dropdown","ml-2"],[1,"d-flex","flex-column","align-items-center"],["alt","",1,"profileImg",3,"src"],["class","badge badge-warning",4,"ngIf"],[1,"dropdown"],["id","dropdownMenuButton","data-toggle","dropdown","aria-haspopup","true","aria-expanded","false",1,"navUserBtn","dropdown-toggle"],["aria-labelledby","dropdownMenuButton",1,"dropdown-menu","dropdown-menu-right"],["routerLink","login",1,"dropdown-item",3,"click"],["routerLink","#",1,"dropdown-item"],[1,"badge","badge-warning"]],template:function(t,e){1&t&&(r.Ob(0,"nav",0),r.Ob(1,"a",1),r.Kb(2,"img",2),r.Nb(),r.Ob(3,"div",3),r.nc(4,cw,7,0,"ul",4),r.nc(5,hw,16,3,"ul",4),r.Nb(),r.Nb()),2&t&&(r.yb(4),r.cc("ngIf",null===e.authService.user),r.yb(1),r.cc("ngIf",e.authService.user))},directives:[Uy,ut],styles:[".navbar-nav[_ngcontent-%COMP%]{float:right!important}.profileImg[_ngcontent-%COMP%]{width:45px;height:35px}.dropdown[_ngcontent-%COMP%]:hover{cursor:pointer}.navUserBtn[_ngcontent-%COMP%]{border:transparent;margin-top:2px;padding:6px;color:#ddd;overflow-wrap:break-word}.navAddQstnBtn[_ngcontent-%COMP%], .navUserBtn[_ngcontent-%COMP%]{background-color:initial;font-size:14px}.dropdown-menu[_ngcontent-%COMP%]{background-color:#fbfbfb}.navbar-brand[_ngcontent-%COMP%]{margin:0}"]}),t})(),dw=(()=>{class t{constructor(){this.title="DevIncubatorAngular"}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=r.Db({type:t,selectors:[["app-root"]],decls:2,vars:0,template:function(t,e){1&t&&(r.Kb(0,"app-nav-bar"),r.Kb(1,"router-outlet"))},directives:[fw,Hy],styles:[""]}),t})();var pw=n("XoHu");function gw(t,e){return new Jt.a(n=>{const r=t.length;if(0===r)return void n.complete();const i=new Array(r);let o=0,s=0;for(let a=0;a<r;a++){const u=Object(Kt.a)(t[a]);let c=!1;n.add(u.subscribe({next:t=>{c||(c=!0,s++),i[a]=t},error:t=>n.error(t),complete:()=>{o++,o!==r&&c||(s===r&&n.next(e?e.reduce((t,e,n)=>(t[e]=i[n],t),{}):i),n.complete())}}))}})}const bw=new r.q("NgValueAccessor"),mw={provide:bw,useExisting:Object(r.T)(()=>vw),multi:!0};let vw=(()=>{class t{constructor(t,e){this._renderer=t,this._elementRef=e,this.onChange=t=>{},this.onTouched=()=>{}}writeValue(t){this._renderer.setProperty(this._elementRef.nativeElement,"checked",t)}registerOnChange(t){this.onChange=t}registerOnTouched(t){this.onTouched=t}setDisabledState(t){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",t)}}return t.\u0275fac=function(e){return new(e||t)(r.Jb(r.D),r.Jb(r.l))},t.\u0275dir=r.Eb({type:t,selectors:[["input","type","checkbox","formControlName",""],["input","type","checkbox","formControl",""],["input","type","checkbox","ngModel",""]],hostBindings:function(t,e){1&t&&r.Vb("change",function(t){return e.onChange(t.target.checked)})("blur",function(){return e.onTouched()})},features:[r.xb([mw])]}),t})();const yw={provide:bw,useExisting:Object(r.T)(()=>_w),multi:!0},ww=new r.q("CompositionEventMode");let _w=(()=>{class t{constructor(t,e,n){this._renderer=t,this._elementRef=e,this._compositionMode=n,this.onChange=t=>{},this.onTouched=()=>{},this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function(){const t=s()?s().getUserAgent():"";return/android (\d+)/.test(t.toLowerCase())}())}writeValue(t){this._renderer.setProperty(this._elementRef.nativeElement,"value",null==t?"":t)}registerOnChange(t){this.onChange=t}registerOnTouched(t){this.onTouched=t}setDisabledState(t){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",t)}_handleInput(t){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(t)}_compositionStart(){this._composing=!0}_compositionEnd(t){this._composing=!1,this._compositionMode&&this.onChange(t)}}return t.\u0275fac=function(e){return new(e||t)(r.Jb(r.D),r.Jb(r.l),r.Jb(ww,8))},t.\u0275dir=r.Eb({type:t,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(t,e){1&t&&r.Vb("input",function(t){return e._handleInput(t.target.value)})("blur",function(){return e.onTouched()})("compositionstart",function(){return e._compositionStart()})("compositionend",function(t){return e._compositionEnd(t.target.value)})},features:[r.xb([yw])]}),t})();function Ow(t){return null==t||0===t.length}function Sw(t){return null!=t&&"number"==typeof t.length}const Cw=new r.q("NgValidators"),Ew=new r.q("NgAsyncValidators"),Tw=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/;class Iw{static min(t){return e=>{if(Ow(e.value)||Ow(t))return null;const n=parseFloat(e.value);return!isNaN(n)&&n<t?{min:{min:t,actual:e.value}}:null}}static max(t){return e=>{if(Ow(e.value)||Ow(t))return null;const n=parseFloat(e.value);return!isNaN(n)&&n>t?{max:{max:t,actual:e.value}}:null}}static required(t){return Ow(t.value)?{required:!0}:null}static requiredTrue(t){return!0===t.value?null:{required:!0}}static email(t){return Ow(t.value)||Tw.test(t.value)?null:{email:!0}}static minLength(t){return e=>Ow(e.value)||!Sw(e.value)?null:e.value.length<t?{minlength:{requiredLength:t,actualLength:e.value.length}}:null}static maxLength(t){return e=>Sw(e.value)&&e.value.length>t?{maxlength:{requiredLength:t,actualLength:e.value.length}}:null}static pattern(t){if(!t)return Iw.nullValidator;let e,n;return"string"==typeof t?(n="","^"!==t.charAt(0)&&(n+="^"),n+=t,"$"!==t.charAt(t.length-1)&&(n+="$"),e=new RegExp(n)):(n=t.toString(),e=t),t=>{if(Ow(t.value))return null;const r=t.value;return e.test(r)?null:{pattern:{requiredPattern:n,actualValue:r}}}}static nullValidator(t){return null}static compose(t){if(!t)return null;const e=t.filter(xw);return 0==e.length?null:function(t){return kw(jw(t,e))}}static composeAsync(t){if(!t)return null;const e=t.filter(xw);return 0==e.length?null:function(t){return function(...t){if(1===t.length){const e=t[0];if(Object(Jb.a)(e))return gw(e,null);if(Object(pw.a)(e)&&Object.getPrototypeOf(e)===Object.prototype){const t=Object.keys(e);return gw(t.map(t=>e[t]),t)}}if("function"==typeof t[t.length-1]){const e=t.pop();return gw(t=1===t.length&&Object(Jb.a)(t[0])?t[0]:t,null).pipe(Object(se.a)(t=>e(...t)))}return gw(t,null)}(jw(t,e).map(Aw)).pipe(Object(se.a)(kw))}}}function xw(t){return null!=t}function Aw(t){const e=Object(r.qb)(t)?Object(Kt.a)(t):t;return Object(r.pb)(e),e}function kw(t){let e={};return t.forEach(t=>{e=null!=t?Object.assign(Object.assign({},e),t):e}),0===Object.keys(e).length?null:e}function jw(t,e){return e.map(e=>e(t))}function Nw(t){return t.map(t=>function(t){return!t.validate}(t)?t:e=>t.validate(e))}function Pw(t){return null!=t?Iw.compose(Nw(t)):null}function Dw(t){return null!=t?Iw.composeAsync(Nw(t)):null}function Mw(t,e){return null===t?[e]:Array.isArray(t)?[...t,e]:[t,e]}function Rw(t){return t._rawValidators}function Vw(t){return t._rawAsyncValidators}let Lw=(()=>{class t{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(t){this._rawValidators=t||[],this._composedValidatorFn=Pw(this._rawValidators)}_setAsyncValidators(t){this._rawAsyncValidators=t||[],this._composedAsyncValidatorFn=Dw(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(t){this._onDestroyCallbacks.push(t)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(t=>t()),this._onDestroyCallbacks=[]}reset(t){this.control&&this.control.reset(t)}hasError(t,e){return!!this.control&&this.control.hasError(t,e)}getError(t,e){return this.control?this.control.getError(t,e):null}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275dir=r.Eb({type:t}),t})(),Fw=(()=>{class t extends Lw{get formDirective(){return null}get path(){return null}}return t.\u0275fac=function(e){return Uw(e||t)},t.\u0275dir=r.Eb({type:t,features:[r.vb]}),t})();const Uw=r.Qb(Fw);class qw extends Lw{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class Hw{constructor(t){this._cd=t}get ngClassUntouched(){return!!this._cd.control&&this._cd.control.untouched}get ngClassTouched(){return!!this._cd.control&&this._cd.control.touched}get ngClassPristine(){return!!this._cd.control&&this._cd.control.pristine}get ngClassDirty(){return!!this._cd.control&&this._cd.control.dirty}get ngClassValid(){return!!this._cd.control&&this._cd.control.valid}get ngClassInvalid(){return!!this._cd.control&&this._cd.control.invalid}get ngClassPending(){return!!this._cd.control&&this._cd.control.pending}}let zw=(()=>{class t extends Hw{constructor(t){super(t)}}return t.\u0275fac=function(e){return new(e||t)(r.Jb(qw,2))},t.\u0275dir=r.Eb({type:t,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(t,e){2&t&&r.Bb("ng-untouched",e.ngClassUntouched)("ng-touched",e.ngClassTouched)("ng-pristine",e.ngClassPristine)("ng-dirty",e.ngClassDirty)("ng-valid",e.ngClassValid)("ng-invalid",e.ngClassInvalid)("ng-pending",e.ngClassPending)},features:[r.vb]}),t})(),Bw=(()=>{class t extends Hw{constructor(t){super(t)}}return t.\u0275fac=function(e){return new(e||t)(r.Jb(Fw,2))},t.\u0275dir=r.Eb({type:t,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:14,hostBindings:function(t,e){2&t&&r.Bb("ng-untouched",e.ngClassUntouched)("ng-touched",e.ngClassTouched)("ng-pristine",e.ngClassPristine)("ng-dirty",e.ngClassDirty)("ng-valid",e.ngClassValid)("ng-invalid",e.ngClassInvalid)("ng-pending",e.ngClassPending)},features:[r.vb]}),t})();const Gw={provide:bw,useExisting:Object(r.T)(()=>$w),multi:!0};let $w=(()=>{class t{constructor(t,e){this._renderer=t,this._elementRef=e,this.onChange=t=>{},this.onTouched=()=>{}}writeValue(t){this._renderer.setProperty(this._elementRef.nativeElement,"value",null==t?"":t)}registerOnChange(t){this.onChange=e=>{t(""==e?null:parseFloat(e))}}registerOnTouched(t){this.onTouched=t}setDisabledState(t){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",t)}}return t.\u0275fac=function(e){return new(e||t)(r.Jb(r.D),r.Jb(r.l))},t.\u0275dir=r.Eb({type:t,selectors:[["input","type","number","formControlName",""],["input","type","number","formControl",""],["input","type","number","ngModel",""]],hostBindings:function(t,e){1&t&&r.Vb("input",function(t){return e.onChange(t.target.value)})("blur",function(){return e.onTouched()})},features:[r.xb([Gw])]}),t})();const Ww={provide:bw,useExisting:Object(r.T)(()=>Kw),multi:!0};let Jw=(()=>{class t{constructor(){this._accessors=[]}add(t,e){this._accessors.push([t,e])}remove(t){for(let e=this._accessors.length-1;e>=0;--e)if(this._accessors[e][1]===t)return void this._accessors.splice(e,1)}select(t){this._accessors.forEach(e=>{this._isSameGroup(e,t)&&e[1]!==t&&e[1].fireUncheck(t.value)})}_isSameGroup(t,e){return!!t[0].control&&t[0]._parent===e._control._parent&&t[1].name===e.name}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=r.Fb({token:t,factory:t.\u0275fac}),t})(),Kw=(()=>{class t{constructor(t,e,n,r){this._renderer=t,this._elementRef=e,this._registry=n,this._injector=r,this.onChange=()=>{},this.onTouched=()=>{}}ngOnInit(){this._control=this._injector.get(qw),this._checkName(),this._registry.add(this._control,this)}ngOnDestroy(){this._registry.remove(this)}writeValue(t){this._state=t===this.value,this._renderer.setProperty(this._elementRef.nativeElement,"checked",this._state)}registerOnChange(t){this._fn=t,this.onChange=()=>{t(this.value),this._registry.select(this)}}fireUncheck(t){this.writeValue(t)}registerOnTouched(t){this.onTouched=t}setDisabledState(t){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",t)}_checkName(){!this.name&&this.formControlName&&(this.name=this.formControlName)}}return t.\u0275fac=function(e){return new(e||t)(r.Jb(r.D),r.Jb(r.l),r.Jb(Jw),r.Jb(r.r))},t.\u0275dir=r.Eb({type:t,selectors:[["input","type","radio","formControlName",""],["input","type","radio","formControl",""],["input","type","radio","ngModel",""]],hostBindings:function(t,e){1&t&&r.Vb("change",function(){return e.onChange()})("blur",function(){return e.onTouched()})},inputs:{name:"name",formControlName:"formControlName",value:"value"},features:[r.xb([Ww])]}),t})();const Qw={provide:bw,useExisting:Object(r.T)(()=>Yw),multi:!0};let Yw=(()=>{class t{constructor(t,e){this._renderer=t,this._elementRef=e,this.onChange=t=>{},this.onTouched=()=>{}}writeValue(t){this._renderer.setProperty(this._elementRef.nativeElement,"value",parseFloat(t))}registerOnChange(t){this.onChange=e=>{t(""==e?null:parseFloat(e))}}registerOnTouched(t){this.onTouched=t}setDisabledState(t){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",t)}}return t.\u0275fac=function(e){return new(e||t)(r.Jb(r.D),r.Jb(r.l))},t.\u0275dir=r.Eb({type:t,selectors:[["input","type","range","formControlName",""],["input","type","range","formControl",""],["input","type","range","ngModel",""]],hostBindings:function(t,e){1&t&&r.Vb("change",function(t){return e.onChange(t.target.value)})("input",function(t){return e.onChange(t.target.value)})("blur",function(){return e.onTouched()})},features:[r.xb([Qw])]}),t})();const Zw={provide:bw,useExisting:Object(r.T)(()=>Xw),multi:!0};let Xw=(()=>{class t{constructor(t,e){this._renderer=t,this._elementRef=e,this._optionMap=new Map,this._idCounter=0,this.onChange=t=>{},this.onTouched=()=>{},this._compareWith=Object.is}set compareWith(t){this._compareWith=t}writeValue(t){this.value=t;const e=this._getOptionId(t);null==e&&this._renderer.setProperty(this._elementRef.nativeElement,"selectedIndex",-1);const n=function(t,e){return null==t?""+e:(e&&"object"==typeof e&&(e="Object"),`${t}: ${e}`.slice(0,50))}(e,t);this._renderer.setProperty(this._elementRef.nativeElement,"value",n)}registerOnChange(t){this.onChange=e=>{this.value=this._getOptionValue(e),t(this.value)}}registerOnTouched(t){this.onTouched=t}setDisabledState(t){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",t)}_registerOption(){return(this._idCounter++).toString()}_getOptionId(t){for(const e of Array.from(this._optionMap.keys()))if(this._compareWith(this._optionMap.get(e),t))return e;return null}_getOptionValue(t){const e=function(t){return t.split(":")[0]}(t);return this._optionMap.has(e)?this._optionMap.get(e):t}}return t.\u0275fac=function(e){return new(e||t)(r.Jb(r.D),r.Jb(r.l))},t.\u0275dir=r.Eb({type:t,selectors:[["select","formControlName","",3,"multiple",""],["select","formControl","",3,"multiple",""],["select","ngModel","",3,"multiple",""]],hostBindings:function(t,e){1&t&&r.Vb("change",function(t){return e.onChange(t.target.value)})("blur",function(){return e.onTouched()})},inputs:{compareWith:"compareWith"},features:[r.xb([Zw])]}),t})();const t_={provide:bw,useExisting:Object(r.T)(()=>e_),multi:!0};let e_=(()=>{class t{constructor(t,e){this._renderer=t,this._elementRef=e,this._optionMap=new Map,this._idCounter=0,this.onChange=t=>{},this.onTouched=()=>{},this._compareWith=Object.is}set compareWith(t){this._compareWith=t}writeValue(t){let e;if(this.value=t,Array.isArray(t)){const n=t.map(t=>this._getOptionId(t));e=(t,e)=>{t._setSelected(n.indexOf(e.toString())>-1)}}else e=(t,e)=>{t._setSelected(!1)};this._optionMap.forEach(e)}registerOnChange(t){this.onChange=e=>{const n=[];if(void 0!==e.selectedOptions){const t=e.selectedOptions;for(let e=0;e<t.length;e++){const r=t.item(e),i=this._getOptionValue(r.value);n.push(i)}}else{const t=e.options;for(let e=0;e<t.length;e++){const r=t.item(e);if(r.selected){const t=this._getOptionValue(r.value);n.push(t)}}}this.value=n,t(n)}}registerOnTouched(t){this.onTouched=t}setDisabledState(t){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",t)}_registerOption(t){const e=(this._idCounter++).toString();return this._optionMap.set(e,t),e}_getOptionId(t){for(const e of Array.from(this._optionMap.keys()))if(this._compareWith(this._optionMap.get(e)._value,t))return e;return null}_getOptionValue(t){const e=function(t){return t.split(":")[0]}(t);return this._optionMap.has(e)?this._optionMap.get(e)._value:t}}return t.\u0275fac=function(e){return new(e||t)(r.Jb(r.D),r.Jb(r.l))},t.\u0275dir=r.Eb({type:t,selectors:[["select","multiple","","formControlName",""],["select","multiple","","formControl",""],["select","multiple","","ngModel",""]],hostBindings:function(t,e){1&t&&r.Vb("change",function(t){return e.onChange(t.target)})("blur",function(){return e.onTouched()})},inputs:{compareWith:"compareWith"},features:[r.xb([t_])]}),t})();function n_(t,e){return[...e.path,t]}function r_(t,e){o_(t,e,!0),e.valueAccessor.writeValue(t.value),function(t,e){e.valueAccessor.registerOnChange(n=>{t._pendingValue=n,t._pendingChange=!0,t._pendingDirty=!0,"change"===t.updateOn&&a_(t,e)})}(t,e),function(t,e){const n=(t,n)=>{e.valueAccessor.writeValue(t),n&&e.viewToModelUpdate(t)};t.registerOnChange(n),e._registerOnDestroy(()=>{t._unregisterOnChange(n)})}(t,e),function(t,e){e.valueAccessor.registerOnTouched(()=>{t._pendingTouched=!0,"blur"===t.updateOn&&t._pendingChange&&a_(t,e),"submit"!==t.updateOn&&t.markAsTouched()})}(t,e),function(t,e){if(e.valueAccessor.setDisabledState){const n=t=>{e.valueAccessor.setDisabledState(t)};t.registerOnDisabledChange(n),e._registerOnDestroy(()=>{t._unregisterOnDisabledChange(n)})}}(t,e)}function i_(t,e){t.forEach(t=>{t.registerOnValidatorChange&&t.registerOnValidatorChange(e)})}function o_(t,e,n){const r=Rw(t);null!==e.validator?t.setValidators(Mw(r,e.validator)):"function"==typeof r&&t.setValidators([r]);const i=Vw(t);if(null!==e.asyncValidator?t.setAsyncValidators(Mw(i,e.asyncValidator)):"function"==typeof i&&t.setAsyncValidators([i]),n){const n=()=>t.updateValueAndValidity();i_(e._rawValidators,n),i_(e._rawAsyncValidators,n)}}function s_(t,e,n){if(null!==t){if(null!==e.validator){const n=Rw(t);Array.isArray(n)&&n.length>0&&t.setValidators(n.filter(t=>t!==e.validator))}if(null!==e.asyncValidator){const n=Vw(t);Array.isArray(n)&&n.length>0&&t.setAsyncValidators(n.filter(t=>t!==e.asyncValidator))}}if(n){const t=()=>{};i_(e._rawValidators,t),i_(e._rawAsyncValidators,t)}}function a_(t,e){t._pendingDirty&&t.markAsDirty(),t.setValue(t._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(t._pendingValue),t._pendingChange=!1}function u_(t,e){o_(t,e,!1)}function c_(t,e){if(!t.hasOwnProperty("model"))return!1;const n=t.model;return!!n.isFirstChange()||!Object.is(e,n.currentValue)}const l_=[vw,Yw,$w,Xw,e_,Kw];function h_(t,e){t._syncPendingControls(),e.forEach(t=>{const e=t.control;"submit"===e.updateOn&&e._pendingChange&&(t.viewToModelUpdate(e._pendingValue),e._pendingChange=!1)})}function f_(t,e){if(!e)return null;Array.isArray(e);let n=void 0,r=void 0,i=void 0;return e.forEach(t=>{var e;t.constructor===_w?n=t:(e=t,l_.some(t=>e.constructor===t)?r=t:i=t)}),i||r||n||null}function d_(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}const p_="VALID",g_="INVALID",b_="PENDING",m_="DISABLED";function v_(t){return(O_(t)?t.validators:t)||null}function y_(t){return Array.isArray(t)?Pw(t):t||null}function w_(t,e){return(O_(e)?e.asyncValidators:t)||null}function __(t){return Array.isArray(t)?Dw(t):t||null}function O_(t){return null!=t&&!Array.isArray(t)&&"object"==typeof t}class S_{constructor(t,e){this._hasOwnPendingAsyncValidator=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._rawValidators=t,this._rawAsyncValidators=e,this._composedValidatorFn=y_(this._rawValidators),this._composedAsyncValidatorFn=__(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn}set validator(t){this._rawValidators=this._composedValidatorFn=t}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(t){this._rawAsyncValidators=this._composedAsyncValidatorFn=t}get parent(){return this._parent}get valid(){return this.status===p_}get invalid(){return this.status===g_}get pending(){return this.status==b_}get disabled(){return this.status===m_}get enabled(){return this.status!==m_}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(t){this._rawValidators=t,this._composedValidatorFn=y_(t)}setAsyncValidators(t){this._rawAsyncValidators=t,this._composedAsyncValidatorFn=__(t)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(t={}){this.touched=!0,this._parent&&!t.onlySelf&&this._parent.markAsTouched(t)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(t=>t.markAllAsTouched())}markAsUntouched(t={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(t=>{t.markAsUntouched({onlySelf:!0})}),this._parent&&!t.onlySelf&&this._parent._updateTouched(t)}markAsDirty(t={}){this.pristine=!1,this._parent&&!t.onlySelf&&this._parent.markAsDirty(t)}markAsPristine(t={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(t=>{t.markAsPristine({onlySelf:!0})}),this._parent&&!t.onlySelf&&this._parent._updatePristine(t)}markAsPending(t={}){this.status=b_,!1!==t.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!t.onlySelf&&this._parent.markAsPending(t)}disable(t={}){const e=this._parentMarkedDirty(t.onlySelf);this.status=m_,this.errors=null,this._forEachChild(e=>{e.disable(Object.assign(Object.assign({},t),{onlySelf:!0}))}),this._updateValue(),!1!==t.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(Object.assign(Object.assign({},t),{skipPristineCheck:e})),this._onDisabledChange.forEach(t=>t(!0))}enable(t={}){const e=this._parentMarkedDirty(t.onlySelf);this.status=p_,this._forEachChild(e=>{e.enable(Object.assign(Object.assign({},t),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent}),this._updateAncestors(Object.assign(Object.assign({},t),{skipPristineCheck:e})),this._onDisabledChange.forEach(t=>t(!1))}_updateAncestors(t){this._parent&&!t.onlySelf&&(this._parent.updateValueAndValidity(t),t.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(t){this._parent=t}updateValueAndValidity(t={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),this.status!==p_&&this.status!==b_||this._runAsyncValidator(t.emitEvent)),!1!==t.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!t.onlySelf&&this._parent.updateValueAndValidity(t)}_updateTreeValidity(t={emitEvent:!0}){this._forEachChild(e=>e._updateTreeValidity(t)),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?m_:p_}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(t){if(this.asyncValidator){this.status=b_,this._hasOwnPendingAsyncValidator=!0;const e=Aw(this.asyncValidator(this));this._asyncValidationSubscription=e.subscribe(e=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(e,{emitEvent:t})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(t,e={}){this.errors=t,this._updateControlsErrors(!1!==e.emitEvent)}get(t){return function(t,e,n){if(null==e)return null;if(Array.isArray(e)||(e=e.split(".")),Array.isArray(e)&&0===e.length)return null;let r=t;return e.forEach(t=>{r=r instanceof E_?r.controls.hasOwnProperty(t)?r.controls[t]:null:r instanceof T_&&r.at(t)||null}),r}(this,t)}getError(t,e){const n=e?this.get(e):this;return n&&n.errors?n.errors[t]:null}hasError(t,e){return!!this.getError(t,e)}get root(){let t=this;for(;t._parent;)t=t._parent;return t}_updateControlsErrors(t){this.status=this._calculateStatus(),t&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(t)}_initObservables(){this.valueChanges=new r.n,this.statusChanges=new r.n}_calculateStatus(){return this._allControlsDisabled()?m_:this.errors?g_:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(b_)?b_:this._anyControlsHaveStatus(g_)?g_:p_}_anyControlsHaveStatus(t){return this._anyControls(e=>e.status===t)}_anyControlsDirty(){return this._anyControls(t=>t.dirty)}_anyControlsTouched(){return this._anyControls(t=>t.touched)}_updatePristine(t={}){this.pristine=!this._anyControlsDirty(),this._parent&&!t.onlySelf&&this._parent._updatePristine(t)}_updateTouched(t={}){this.touched=this._anyControlsTouched(),this._parent&&!t.onlySelf&&this._parent._updateTouched(t)}_isBoxedValue(t){return"object"==typeof t&&null!==t&&2===Object.keys(t).length&&"value"in t&&"disabled"in t}_registerOnCollectionChange(t){this._onCollectionChange=t}_setUpdateStrategy(t){O_(t)&&null!=t.updateOn&&(this._updateOn=t.updateOn)}_parentMarkedDirty(t){return!t&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}}class C_ extends S_{constructor(t=null,e,n){super(v_(e),w_(n,e)),this._onChange=[],this._applyFormState(t),this._setUpdateStrategy(e),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!n})}setValue(t,e={}){this.value=this._pendingValue=t,this._onChange.length&&!1!==e.emitModelToViewChange&&this._onChange.forEach(t=>t(this.value,!1!==e.emitViewToModelChange)),this.updateValueAndValidity(e)}patchValue(t,e={}){this.setValue(t,e)}reset(t=null,e={}){this._applyFormState(t),this.markAsPristine(e),this.markAsUntouched(e),this.setValue(this.value,e),this._pendingChange=!1}_updateValue(){}_anyControls(t){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(t){this._onChange.push(t)}_unregisterOnChange(t){d_(this._onChange,t)}registerOnDisabledChange(t){this._onDisabledChange.push(t)}_unregisterOnDisabledChange(t){d_(this._onDisabledChange,t)}_forEachChild(t){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(t){this._isBoxedValue(t)?(this.value=this._pendingValue=t.value,t.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=t}}class E_ extends S_{constructor(t,e,n){super(v_(e),w_(n,e)),this.controls=t,this._initObservables(),this._setUpdateStrategy(e),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!n})}registerControl(t,e){return this.controls[t]?this.controls[t]:(this.controls[t]=e,e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange),e)}addControl(t,e){this.registerControl(t,e),this.updateValueAndValidity(),this._onCollectionChange()}removeControl(t){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),delete this.controls[t],this.updateValueAndValidity(),this._onCollectionChange()}setControl(t,e){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),delete this.controls[t],e&&this.registerControl(t,e),this.updateValueAndValidity(),this._onCollectionChange()}contains(t){return this.controls.hasOwnProperty(t)&&this.controls[t].enabled}setValue(t,e={}){this._checkAllValuesPresent(t),Object.keys(t).forEach(n=>{this._throwIfControlMissing(n),this.controls[n].setValue(t[n],{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e)}patchValue(t,e={}){Object.keys(t).forEach(n=>{this.controls[n]&&this.controls[n].patchValue(t[n],{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e)}reset(t={},e={}){this._forEachChild((n,r)=>{n.reset(t[r],{onlySelf:!0,emitEvent:e.emitEvent})}),this._updatePristine(e),this._updateTouched(e),this.updateValueAndValidity(e)}getRawValue(){return this._reduceChildren({},(t,e,n)=>(t[n]=e instanceof C_?e.value:e.getRawValue(),t))}_syncPendingControls(){let t=this._reduceChildren(!1,(t,e)=>!!e._syncPendingControls()||t);return t&&this.updateValueAndValidity({onlySelf:!0}),t}_throwIfControlMissing(t){if(!Object.keys(this.controls).length)throw new Error("\n        There are no form controls registered with this group yet. If you're using ngModel,\n        you may want to check next tick (e.g. use setTimeout).\n      ");if(!this.controls[t])throw new Error(`Cannot find form control with name: ${t}.`)}_forEachChild(t){Object.keys(this.controls).forEach(e=>t(this.controls[e],e))}_setUpControls(){this._forEachChild(t=>{t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(t){for(const e of Object.keys(this.controls)){const n=this.controls[e];if(this.contains(e)&&t(n))return!0}return!1}_reduceValue(){return this._reduceChildren({},(t,e,n)=>((e.enabled||this.disabled)&&(t[n]=e.value),t))}_reduceChildren(t,e){let n=t;return this._forEachChild((t,r)=>{n=e(n,t,r)}),n}_allControlsDisabled(){for(const t of Object.keys(this.controls))if(this.controls[t].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_checkAllValuesPresent(t){this._forEachChild((e,n)=>{if(void 0===t[n])throw new Error(`Must supply a value for form control with name: '${n}'.`)})}}class T_ extends S_{constructor(t,e,n){super(v_(e),w_(n,e)),this.controls=t,this._initObservables(),this._setUpdateStrategy(e),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!n})}at(t){return this.controls[t]}push(t){this.controls.push(t),this._registerControl(t),this.updateValueAndValidity(),this._onCollectionChange()}insert(t,e){this.controls.splice(t,0,e),this._registerControl(e),this.updateValueAndValidity()}removeAt(t){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),this.controls.splice(t,1),this.updateValueAndValidity()}setControl(t,e){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),this.controls.splice(t,1),e&&(this.controls.splice(t,0,e),this._registerControl(e)),this.updateValueAndValidity(),this._onCollectionChange()}get length(){return this.controls.length}setValue(t,e={}){this._checkAllValuesPresent(t),t.forEach((t,n)=>{this._throwIfControlMissing(n),this.at(n).setValue(t,{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e)}patchValue(t,e={}){t.forEach((t,n)=>{this.at(n)&&this.at(n).patchValue(t,{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e)}reset(t=[],e={}){this._forEachChild((n,r)=>{n.reset(t[r],{onlySelf:!0,emitEvent:e.emitEvent})}),this._updatePristine(e),this._updateTouched(e),this.updateValueAndValidity(e)}getRawValue(){return this.controls.map(t=>t instanceof C_?t.value:t.getRawValue())}clear(){this.controls.length<1||(this._forEachChild(t=>t._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity())}_syncPendingControls(){let t=this.controls.reduce((t,e)=>!!e._syncPendingControls()||t,!1);return t&&this.updateValueAndValidity({onlySelf:!0}),t}_throwIfControlMissing(t){if(!this.controls.length)throw new Error("\n        There are no form controls registered with this array yet. If you're using ngModel,\n        you may want to check next tick (e.g. use setTimeout).\n      ");if(!this.at(t))throw new Error("Cannot find form control at index "+t)}_forEachChild(t){this.controls.forEach((e,n)=>{t(e,n)})}_updateValue(){this.value=this.controls.filter(t=>t.enabled||this.disabled).map(t=>t.value)}_anyControls(t){return this.controls.some(e=>e.enabled&&t(e))}_setUpControls(){this._forEachChild(t=>this._registerControl(t))}_checkAllValuesPresent(t){this._forEachChild((e,n)=>{if(void 0===t[n])throw new Error(`Must supply a value for form control at index: ${n}.`)})}_allControlsDisabled(){for(const t of this.controls)if(t.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(t){t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange)}}const I_={provide:Fw,useExisting:Object(r.T)(()=>A_)},x_=(()=>Promise.resolve(null))();let A_=(()=>{class t extends Fw{constructor(t,e){super(),this.submitted=!1,this._directives=[],this.ngSubmit=new r.n,this.form=new E_({},Pw(t),Dw(e))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(t){x_.then(()=>{const e=this._findContainer(t.path);t.control=e.registerControl(t.name,t.control),r_(t.control,t),t.control.updateValueAndValidity({emitEvent:!1}),this._directives.push(t)})}getControl(t){return this.form.get(t.path)}removeControl(t){x_.then(()=>{const e=this._findContainer(t.path);e&&e.removeControl(t.name),d_(this._directives,t)})}addFormGroup(t){x_.then(()=>{const e=this._findContainer(t.path),n=new E_({});u_(n,t),e.registerControl(t.name,n),n.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(t){x_.then(()=>{const e=this._findContainer(t.path);e&&e.removeControl(t.name)})}getFormGroup(t){return this.form.get(t.path)}updateModel(t,e){x_.then(()=>{this.form.get(t.path).setValue(e)})}setValue(t){this.control.setValue(t)}onSubmit(t){return this.submitted=!0,h_(this.form,this._directives),this.ngSubmit.emit(t),!1}onReset(){this.resetForm()}resetForm(t){this.form.reset(t),this.submitted=!1}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.form._updateOn=this.options.updateOn)}_findContainer(t){return t.pop(),t.length?this.form.get(t):this.form}}return t.\u0275fac=function(e){return new(e||t)(r.Jb(Cw,10),r.Jb(Ew,10))},t.\u0275dir=r.Eb({type:t,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(t,e){1&t&&r.Vb("submit",function(t){return e.onSubmit(t)})("reset",function(){return e.onReset()})},inputs:{options:["ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[r.xb([I_]),r.vb]}),t})();const k_={provide:qw,useExisting:Object(r.T)(()=>N_)},j_=(()=>Promise.resolve(null))();let N_=(()=>{class t extends qw{constructor(t,e,n,i){super(),this.control=new C_,this._registered=!1,this.update=new r.n,this._parent=t,this._setValidators(e),this._setAsyncValidators(n),this.valueAccessor=f_(0,i)}ngOnChanges(t){this._checkForErrors(),this._registered||this._setUpControl(),"isDisabled"in t&&this._updateDisabled(t),c_(t,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._parent?n_(this.name,this._parent):[this.name]}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(t){this.viewModel=t,this.update.emit(t)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!(!this.options||!this.options.standalone)}_setUpStandalone(){r_(this.control,this),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),this._isStandalone()}_updateValue(t){j_.then(()=>{this.control.setValue(t,{emitViewToModelChange:!1})})}_updateDisabled(t){const e=t.isDisabled.currentValue,n=""===e||e&&"false"!==e;j_.then(()=>{n&&!this.control.disabled?this.control.disable():!n&&this.control.disabled&&this.control.enable()})}}return t.\u0275fac=function(e){return new(e||t)(r.Jb(Fw,9),r.Jb(Cw,10),r.Jb(Ew,10),r.Jb(bw,10))},t.\u0275dir=r.Eb({type:t,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:["disabled","isDisabled"],model:["ngModel","model"],options:["ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[r.xb([k_]),r.vb,r.wb]}),t})(),P_=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275dir=r.Eb({type:t,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]}),t})();const D_=new r.q("NgModelWithFormControlWarning"),M_={provide:Fw,useExisting:Object(r.T)(()=>R_)};let R_=(()=>{class t extends Fw{constructor(t,e){super(),this.validators=t,this.asyncValidators=e,this.submitted=!1,this.directives=[],this.form=null,this.ngSubmit=new r.n,this._setValidators(t),this._setAsyncValidators(e)}ngOnChanges(t){this._checkFormPresent(),t.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(t){const e=this.form.get(t.path);return r_(e,t),e.updateValueAndValidity({emitEvent:!1}),this.directives.push(t),e}getControl(t){return this.form.get(t.path)}removeControl(t){d_(this.directives,t)}addFormGroup(t){const e=this.form.get(t.path);u_(e,t),e.updateValueAndValidity({emitEvent:!1})}removeFormGroup(t){}getFormGroup(t){return this.form.get(t.path)}addFormArray(t){const e=this.form.get(t.path);u_(e,t),e.updateValueAndValidity({emitEvent:!1})}removeFormArray(t){}getFormArray(t){return this.form.get(t.path)}updateModel(t,e){this.form.get(t.path).setValue(e)}onSubmit(t){return this.submitted=!0,h_(this.form,this.directives),this.ngSubmit.emit(t),!1}onReset(){this.resetForm()}resetForm(t){this.form.reset(t),this.submitted=!1}_updateDomValue(){this.directives.forEach(t=>{const e=this.form.get(t.path);t.control!==e&&(function(t,e){const n=()=>{};e.valueAccessor.registerOnChange(n),e.valueAccessor.registerOnTouched(n),s_(t,e,!0),t&&(e._invokeOnDestroyCallbacks(),t._registerOnCollectionChange(()=>{}))}(t.control||null,t),e&&r_(e,t),t.control=e)}),this.form._updateTreeValidity({emitEvent:!1})}_updateRegistrations(){this.form._registerOnCollectionChange(()=>this._updateDomValue()),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){o_(this.form,this,!1),this._oldForm&&s_(this._oldForm,this,!1)}_checkFormPresent(){}}return t.\u0275fac=function(e){return new(e||t)(r.Jb(Cw,10),r.Jb(Ew,10))},t.\u0275dir=r.Eb({type:t,selectors:[["","formGroup",""]],hostBindings:function(t,e){1&t&&r.Vb("submit",function(t){return e.onSubmit(t)})("reset",function(){return e.onReset()})},inputs:{form:["formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[r.xb([M_]),r.vb,r.wb]}),t})();const V_={provide:qw,useExisting:Object(r.T)(()=>L_)};let L_=(()=>{class t extends qw{constructor(t,e,n,i,o){super(),this._ngModelWarningConfig=o,this._added=!1,this.update=new r.n,this._ngModelWarningSent=!1,this._parent=t,this._setValidators(e),this._setAsyncValidators(n),this.valueAccessor=f_(0,i)}set isDisabled(t){}ngOnChanges(e){var n,i;this._added||this._setUpControl(),c_(e,this.viewModel)&&(n=t,this,i=this._ngModelWarningConfig,Object(r.U)()&&"never"!==i&&((null!==i&&"once"!==i||n._ngModelWarningSentOnce)&&("always"!==i||this._ngModelWarningSent)||(n._ngModelWarningSentOnce=!0,this._ngModelWarningSent=!0)),this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(t){this.viewModel=t,this.update.emit(t)}get path(){return n_(null==this.name?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}_setUpControl(){this._checkParentType(),this.control=this.formDirective.addControl(this),this.control.disabled&&this.valueAccessor.setDisabledState&&this.valueAccessor.setDisabledState(!0),this._added=!0}}return t.\u0275fac=function(e){return new(e||t)(r.Jb(Fw,13),r.Jb(Cw,10),r.Jb(Ew,10),r.Jb(bw,10),r.Jb(D_,8))},t.\u0275dir=r.Eb({type:t,selectors:[["","formControlName",""]],inputs:{isDisabled:["disabled","isDisabled"],name:["formControlName","name"],model:["ngModel","model"]},outputs:{update:"ngModelChange"},features:[r.xb([V_]),r.vb,r.wb]}),t._ngModelWarningSentOnce=!1,t})(),F_=(()=>{class t{}return t.\u0275mod=r.Hb({type:t}),t.\u0275inj=r.Gb({factory:function(e){return new(e||t)}}),t})(),U_=(()=>{class t{group(t,e=null){const n=this._reduceControls(t);let r=null,i=null,o=void 0;return null!=e&&(function(t){return void 0!==t.asyncValidators||void 0!==t.validators||void 0!==t.updateOn}(e)?(r=null!=e.validators?e.validators:null,i=null!=e.asyncValidators?e.asyncValidators:null,o=null!=e.updateOn?e.updateOn:void 0):(r=null!=e.validator?e.validator:null,i=null!=e.asyncValidator?e.asyncValidator:null)),new E_(n,{asyncValidators:i,updateOn:o,validators:r})}control(t,e,n){return new C_(t,e,n)}array(t,e,n){const r=t.map(t=>this._createControl(t));return new T_(r,e,n)}_reduceControls(t){const e={};return Object.keys(t).forEach(n=>{e[n]=this._createControl(t[n])}),e}_createControl(t){return t instanceof C_||t instanceof E_||t instanceof T_?t:Array.isArray(t)?this.control(t[0],t.length>1?t[1]:null,t.length>2?t[2]:null):this.control(t)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=r.Fb({token:t,factory:t.\u0275fac}),t})(),q_=(()=>{class t{}return t.\u0275mod=r.Hb({type:t}),t.\u0275inj=r.Gb({factory:function(e){return new(e||t)},providers:[Jw],imports:[F_]}),t})(),H_=(()=>{class t{static withConfig(e){return{ngModule:t,providers:[{provide:D_,useValue:e.warnOnNgModelWithFormControl}]}}}return t.\u0275mod=r.Hb({type:t}),t.\u0275inj=r.Gb({factory:function(e){return new(e||t)},providers:[U_,Jw],imports:[F_]}),t})();const z_=["JAVA","JS",".NET","PHP"];let B_=(()=>{class t{constructor(t){this.router=t,this.questions=[]}createQuestion(t){return be.a.firestore().collection("questions").add(t).then(t=>t)}getQuetions(){return be.a.firestore().collection("questions").get().then(t=>t.docs.map(t=>{const e=t.data();return Object.assign(Object.assign({},e),{id:t.id})}))}getQuestion(t){return be.a.firestore().collection("questions").doc(""+t).get().then(t=>Object.assign(Object.assign({},t.data()),{id:t.id}))}updateQuestion(t,e){return be.a.firestore().collection("questions").doc(""+t).update(e)}deleteQuestion(t){return be.a.firestore().collection("questions").doc(""+t).delete()}}return t.\u0275fac=function(e){return new(e||t)(r.Sb(Fy))},t.\u0275prov=r.Fb({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();function G_(t,e){if(1&t){const t=r.Pb();r.Ob(0,"div",13),r.Ob(1,"input",14),r.Vb("change",function(e){return r.jc(t),r.Xb().onChange(e.target.value,e.target.checked)}),r.Nb(),r.Ob(2,"label",15),r.pc(3),r.Nb(),r.Nb()}if(2&t){const t=e.$implicit,n=r.Xb();r.yb(1),r.ec("id","`newQuestion",t,"`"),r.dc("value",t),r.cc("checked",n.isChecked(t)),r.yb(1),r.ec("for","`newQuestion",t,"`"),r.yb(1),r.qc(t)}}let $_=(()=>{class t{constructor(t,e,n,r,i,o){this.fb=t,this.questionService=e,this.authService=n,this.router=r,this.activatedRoute=i,this.filtersService=o,this.categoriesNames=z_}onChange(t,e){const n=this.form.controls.tags;if(e)n.push(new C_(t));else{const e=n.controls.findIndex(e=>e.value===t);n.removeAt(e)}}ngOnInit(){this.form=this.fb.group({title:this.fb.control("",Iw.required),text:this.fb.control("",Iw.required),tags:this.fb.array([])}),this.activatedRoute.snapshot.params.id&&this.questionService.getQuestion(this.activatedRoute.snapshot.params.id).then(t=>{this.form.patchValue(t);const e=this.form.controls.tags;t.tags.map(t=>e.push(new C_(t))),this.question=t})}submit(){const t=this.activatedRoute.snapshot.params.id;t?this.updateQuestion(t):this.createQuestion(t)}createQuestion(t){const{title:e,text:n,tags:r}=this.form.value,i={title:e,text:n,tags:r,onModeration:!0,author:this.authService.user.email,isResolved:!1,date:(new Date).getTime(),comments:[]};this.questionService.createQuestion(i).then(t=>{this.router.navigate(["question/"+t.id])}).catch(t=>console.error(t))}updateQuestion(t){const{title:e,text:n,tags:r}=this.form.value;this.questionService.updateQuestion(t,{title:e,text:n,tags:r}).then(e=>{this.router.navigate(["question/"+t])}).catch(t=>console.error(t))}isChecked(t){return!!this.question&&!!this.question.tags.find(e=>t===e)}}return t.\u0275fac=function(e){return new(e||t)(r.Jb(U_),r.Jb(B_),r.Jb(aw),r.Jb(Fy),r.Jb(_v),r.Jb(uw))},t.\u0275cmp=r.Db({type:t,selectors:[["app-new-question-page"]],decls:22,vars:11,consts:[[3,"formGroup","ngSubmit"],[1,"newQuestionHeader","d-flex","justify-content-center"],[1,"text-center","pb-2"],[1,"form-group","mt-2"],["for","exampleFormControlInput1"],["type","text","id","exampleFormControlInput1","formControlName","title",1,"form-control",3,"value"],[1,"form-group"],["for","exampleFormControlTextarea1"],["id","exampleFormControlTextarea1","rows","3","formControlName","text",1,"form-control",3,"value"],["class","form-check",4,"ngFor","ngForOf"],[1,"form-group","d-flex","justify-content-end","mr-3"],["type","submit",1,"btn","btn-success","mr-1",3,"disabled"],["type","button",1,"btn","btn-danger",3,"click"],[1,"form-check"],["type","checkbox",1,"form-check-input",3,"id","value","checked","change"],[1,"form-check-label",3,"for"]],template:function(t,e){1&t&&(r.Ob(0,"div"),r.Ob(1,"form",0),r.Vb("ngSubmit",function(){return e.submit()}),r.Ob(2,"div",1),r.Ob(3,"h1",2),r.pc(4,"New question"),r.Nb(),r.Nb(),r.Ob(5,"div",3),r.Ob(6,"label",4),r.pc(7,"Title"),r.Nb(),r.Kb(8,"input",5),r.Nb(),r.Ob(9,"div",6),r.Ob(10,"label",7),r.pc(11,"Text"),r.Nb(),r.Kb(12,"textarea",8),r.Nb(),r.Ob(13,"div",6),r.Ob(14,"span"),r.pc(15,"Tags:"),r.Nb(),r.nc(16,G_,4,5,"div",9),r.Nb(),r.Ob(17,"div",10),r.Ob(18,"button",11),r.pc(19,"OK"),r.Nb(),r.Ob(20,"button",12),r.Vb("click",function(){return e.router.navigate([""])}),r.pc(21,"Cancel"),r.Nb(),r.Nb(),r.Nb(),r.Nb()),2&t&&(r.Ab("newQuestionFormContainer ",e.filtersService.theme," pt-5 d-flex flex-column align-items-center"),r.yb(1),r.Ab("container newQuestionForm ",e.filtersService.theme," p-5 "),r.cc("formGroup",e.form),r.yb(7),r.cc("value",e.question?e.question.title:""),r.yb(4),r.cc("value",e.question?e.question.text:""),r.yb(4),r.cc("ngForOf",e.categoriesNames),r.yb(2),r.cc("disabled",!e.form.value.tags.length||e.form.invalid))},directives:[P_,Bw,R_,_w,zw,L_,st],styles:[".newQuestionFormContainer[_ngcontent-%COMP%]{height:92vh}.newQuestionFormContainer.light[_ngcontent-%COMP%]{background:#fff}.newQuestionFormContainer.dark[_ngcontent-%COMP%]{background-color:rgba(14,14,14,.93)}.newQuestionForm[_ngcontent-%COMP%]{min-width:300px;max-width:800px;width:70%;border:2px solid #7d7c7c;border-radius:5px}.newQuestionForm[_ngcontent-%COMP%]   .newQuestionHeader[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{width:85%;border-bottom:2px solid #7d7c7c}.newQuestionForm.light[_ngcontent-%COMP%]{background:#fff}.newQuestionForm.light[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{color:#3b3b3b}.newQuestionForm.light[_ngcontent-%COMP%]   input[_ngcontent-%COMP%], .newQuestionForm.light[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]{background:#fff}.newQuestionForm.dark[_ngcontent-%COMP%]{background-color:#5f5f5f}.newQuestionForm.dark[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%], .newQuestionForm.dark[_ngcontent-%COMP%]   label[_ngcontent-%COMP%], .newQuestionForm.dark[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{color:#dedede}.newQuestionForm.dark[_ngcontent-%COMP%]   input[_ngcontent-%COMP%], .newQuestionForm.dark[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]{color:#fff;background-color:rgba(14,14,14,.93)}"]}),t})();const W_=function(){return{standalone:!0}};let J_=(()=>{class t{constructor(t,e){this.authService=t,this.router=e,this.loading=!1}ngOnInit(){}onSuccessAuth(t){this.email="",this.password="",this.authService.user=t.user,this.router.navigate([""])}SignIn(){this.loading=!0,this.authService.SignIn(this.email,this.password).then(t=>{this.setAdmin(),this.loading=!1}).catch(t=>{this.error=t.message,this.ClearErrorMessage(),this.loading=!1})}setAdmin(){this.authService.getAdmins().then(t=>{t.map(t=>{this.authService.admin=t===this.email,this.router.navigate([""])})}).catch(t=>console.error(t))}googleAuth(){this.loading=!0,this.authService.GoogleAuth().then(t=>{this.setAdmin(),this.loading=!1}).catch(t=>{console.error(t)})}ClearErrorMessage(){setTimeout(()=>{this.error=""},4e3)}githubAuth(){this.authService.GithubAuth().then(t=>{this.onSuccessAuth(t)}).catch(t=>{this.error=t.message})}facebookAuth(){this.authService.FacebookAuth().then(t=>{this.onSuccessAuth(t)}).catch(t=>{this.error=t.message})}}return t.\u0275fac=function(e){return new(e||t)(r.Jb(aw),r.Jb(Fy))},t.\u0275cmp=r.Db({type:t,selectors:[["app-authorisation-page"]],decls:22,vars:8,consts:[[1,"container","d-flex","justify-content-center"],[1,"authForm","mt-5","p-4","col-6"],[1,"form-group","pt-2"],["for","regEmail"],["type","email","id","regEmail","aria-describedby","emailHelp","placeholder","Enter your email",1,"form-control",3,"ngModel","ngModelOptions","ngModelChange"],[1,"form-group"],["for","regPassword"],["type","password","id","regPassword","placeholder","Enter your password",1,"form-control",3,"ngModel","ngModelOptions","ngModelChange"],["type","submit",1,"btn","btn-danger","mr-1",3,"click"],["role","status",1,"spinner-border","text-danger","ml-2",3,"hidden"],[1,"sr-only"],[1,"mt-1"],[1,"btn","btn-info",3,"click"]],template:function(t,e){1&t&&(r.Ob(0,"div",0),r.Ob(1,"form",1),r.Ob(2,"h3"),r.pc(3,"Login"),r.Nb(),r.Ob(4,"div",2),r.Ob(5,"span"),r.pc(6),r.Nb(),r.Ob(7,"label",3),r.pc(8,"Email address"),r.Nb(),r.Ob(9,"input",4),r.Vb("ngModelChange",function(t){return e.email=t}),r.Nb(),r.Nb(),r.Ob(10,"div",5),r.Ob(11,"label",6),r.pc(12,"Password"),r.Nb(),r.Ob(13,"input",7),r.Vb("ngModelChange",function(t){return e.password=t}),r.Nb(),r.Nb(),r.Ob(14,"button",8),r.Vb("click",function(){return e.SignIn()}),r.pc(15,"Enter"),r.Nb(),r.Ob(16,"div",9),r.Ob(17,"span",10),r.pc(18,"Loading..."),r.Nb(),r.Nb(),r.Ob(19,"div",11),r.Ob(20,"button",12),r.Vb("click",function(){return e.googleAuth()}),r.pc(21,"Google"),r.Nb(),r.Nb(),r.Nb(),r.Nb()),2&t&&(r.yb(6),r.qc(e.error),r.yb(3),r.cc("ngModel",e.email)("ngModelOptions",r.fc(6,W_)),r.yb(4),r.cc("ngModel",e.password)("ngModelOptions",r.fc(7,W_)),r.yb(3),r.cc("hidden",!e.loading))},directives:[P_,Bw,A_,_w,zw,N_],styles:[".authForm[_ngcontent-%COMP%]{max-width:600px;min-width:225px;border:2px solid red;border-radius:5px;box-shadow:12px 7px 18px 0 rgba(173,50,50,.4)}"]}),t})();const K_=function(){return{standalone:!0}};let Q_=(()=>{class t{constructor(t,e){this.authService=t,this.router=e,this.loading=!1}ngOnInit(){}onSuccessAuth(t){this.email="",this.password="",this.authService.user=t.user,this.router.navigate([""])}SignUp(){this.loading=!0,this.authService.SignUp(this.email,this.password).then(t=>{this.onSuccessAuth(t),this.loading=!1}).catch(t=>{this.error=t.message,this.ClearErrorMessage(),this.loading=!1})}ClearErrorMessage(){setTimeout(()=>{this.error=""},4e3)}}return t.\u0275fac=function(e){return new(e||t)(r.Jb(aw),r.Jb(Fy))},t.\u0275cmp=r.Db({type:t,selectors:[["app-regitster-page"]],decls:19,vars:8,consts:[[1,"container","d-flex","justify-content-center"],[1,"regForm","mt-5","p-4","col-6"],[1,"form-group","pt-2"],["for","regEmail"],["type","email","id","regEmail","aria-describedby","emailHelp","placeholder","Enter your email",1,"form-control",3,"ngModel","ngModelOptions","ngModelChange"],[1,"form-group"],["for","regPassword"],["type","password","id","regPassword","placeholder","Enter your password",1,"form-control",3,"ngModel","ngModelOptions","ngModelChange"],["type","submit",1,"btn","btn-danger","mr-1",3,"click"],["role","status",1,"spinner-border","text-danger","ml-2",3,"hidden"],[1,"sr-only"]],template:function(t,e){1&t&&(r.Ob(0,"div",0),r.Ob(1,"form",1),r.Ob(2,"h3"),r.pc(3,"Registration"),r.Nb(),r.Ob(4,"div",2),r.Ob(5,"span"),r.pc(6),r.Nb(),r.Ob(7,"label",3),r.pc(8,"Email address"),r.Nb(),r.Ob(9,"input",4),r.Vb("ngModelChange",function(t){return e.email=t}),r.Nb(),r.Nb(),r.Ob(10,"div",5),r.Ob(11,"label",6),r.pc(12,"Password"),r.Nb(),r.Ob(13,"input",7),r.Vb("ngModelChange",function(t){return e.password=t}),r.Nb(),r.Nb(),r.Ob(14,"button",8),r.Vb("click",function(){return e.SignUp()}),r.pc(15,"Register"),r.Nb(),r.Ob(16,"div",9),r.Ob(17,"span",10),r.pc(18,"Loading..."),r.Nb(),r.Nb(),r.Nb(),r.Nb()),2&t&&(r.yb(6),r.qc(e.error),r.yb(3),r.cc("ngModel",e.email)("ngModelOptions",r.fc(6,K_)),r.yb(4),r.cc("ngModel",e.password)("ngModelOptions",r.fc(7,K_)),r.yb(3),r.cc("hidden",!e.loading))},directives:[P_,Bw,A_,_w,zw,N_],styles:[".regForm[_ngcontent-%COMP%]{max-width:600px;min-width:225px;border:2px solid red;border-radius:5px;box-shadow:12px 7px 18px 0 rgba(173,50,50,.4)}"]}),t})();function Y_(t,e){if(1&t){const t=r.Pb();r.Ob(0,"div",4),r.Ob(1,"input",43),r.Vb("change",function(e){return r.jc(t),r.Xb().onChangeCategory(e.target.value,e.target.checked)}),r.Nb(),r.Ob(2,"label",44),r.pc(3),r.Nb(),r.Nb()}if(2&t){const t=e.$implicit,n=r.Xb();r.yb(1),r.ec("id","`categories",t,"`"),r.dc("value",t),r.cc("checked",n.filtersService.filters.categories.indexOf(t)>=0),r.yb(1),r.ec("for","`categories",t,"`"),r.yb(1),r.qc(t)}}function Z_(t,e){if(1&t){const t=r.Pb();r.Ob(0,"div",3),r.Ob(1,"span"),r.pc(2,"On moderation:"),r.Nb(),r.Ob(3,"div",4),r.Ob(4,"input",45),r.Vb("change",function(e){return r.jc(t),r.Xb().onChangeOnModeration(e.target.value)}),r.Nb(),r.Ob(5,"label",46),r.pc(6,"all"),r.Nb(),r.Nb(),r.Ob(7,"div",4),r.Ob(8,"input",47),r.Vb("change",function(e){return r.jc(t),r.Xb().onChangeOnModeration(e.target.value)}),r.Nb(),r.Ob(9,"label",48),r.pc(10,"true"),r.Nb(),r.Nb(),r.Ob(11,"div",4),r.Ob(12,"input",49),r.Vb("change",function(e){return r.jc(t),r.Xb().onChangeOnModeration(e.target.value)}),r.Nb(),r.Ob(13,"label",50),r.pc(14,"false"),r.Nb(),r.Nb(),r.Nb()}if(2&t){const t=r.Xb();r.yb(4),r.cc("checked",!t.filtersService.filters.onModeration),r.yb(4),r.cc("checked","true"===t.filtersService.filters.onModeration),r.yb(4),r.cc("checked","false"===t.filtersService.filters.onModeration)}}let X_=(()=>{class t{constructor(t,e,n,r){this.fb=t,this.questionService=e,this.authService=n,this.filtersService=r,this.categoriesNames=z_,this.display={displayTile:Gb,displayString:"string",themeLight:$b,themeDark:"dark"},this.time={timeAll:qb,timeMonth:zb,timeDay:"day",timeWeek:Hb,sortNew:Bb,sortOld:"old"}}ngOnInit(){this.filtersForm=this.fb.group({resolved:this.fb.control([]),tags:this.fb.array([]),time:this.fb.control("")})}onChangeCategory(t,e){const{categories:n}=this.filtersService.filters;e?this.filtersService.filters.categories.push(t):this.filtersService.filters.categories=n.filter(e=>e!==t)}onChangeResolved(t){this.filtersService.filters.resolved=t}onChangeTime(t){this.filtersService.filters.time=t}onChangeOnModeration(t){this.filtersService.filters.onModeration=t}onChangeMyQuestions(t){this.filtersService.filters.myQuestions=t}onChangeSort(t){this.filtersService.sort=t}onChangeTheme(t){this.filtersService.theme=t}onChangeDisplay(t){this.filtersService.display=t}}return t.\u0275fac=function(e){return new(e||t)(r.Jb(U_),r.Jb(B_),r.Jb(aw),r.Jb(uw))},t.\u0275cmp=r.Db({type:t,selectors:[["app-titles-parameters"]],decls:103,vars:33,consts:[[1,"dropdown"],["href","#","id","navbarDropdownFilters","role","button","data-toggle","dropdown","aria-haspopup","true","aria-expanded","false",1,"dropdown-toggle"],["aria-labelledby","navbarDropdownFilters"],[1,"form-group","d-flex","flex-column"],[1,"form-check"],["type","radio","id","resolvedAll","name","exampleResolvedRadios","value","",1,"form-check-input",3,"checked","change"],["for","resolvedAll",1,"form-check-label"],["type","radio","id","resolvedTrue","value","true","name","exampleResolvedRadios",1,"form-check-input",3,"checked","change"],["for","resolvedTrue",1,"form-check-label"],["type","radio","id","resolvedFalse","value","false","name","exampleResolvedRadios",1,"form-check-input",3,"checked","change"],["for","resolvedFalse",1,"form-check-label"],["class","form-check",4,"ngFor","ngForOf"],["class","form-group d-flex flex-column",4,"ngIf"],["type","radio","id","myQuestionsAll","name","exampleMyQuestionsRadios","value","",1,"form-check-input",3,"checked","change"],["for","myQuestionsAll",1,"form-check-label"],["type","radio","id","myQuestionsTrue","value","true","name","exampleMyQuestionsRadios",1,"form-check-input",3,"checked","change"],["for","myQuestionsTrue",1,"form-check-label"],["type","radio","id","myQuestionsFalse","value","false","name","exampleMyQuestionsRadios",1,"form-check-input",3,"checked","change"],["for","myQuestionsFalse",1,"form-check-label"],["type","radio","name","exampleRadios","id","timeDay","value","day",1,"form-check-input",3,"checked","change"],["for","timeDay",1,"form-check-label"],["type","radio","name","exampleRadios","id","timeWeek","value","week",1,"form-check-input",3,"checked","change"],["for","timeWeek",1,"form-check-label"],["type","radio","name","exampleRadios","id","timeMonth","value","month",1,"form-check-input",3,"checked","change"],["for","timeMonth",1,"form-check-label"],["type","radio","name","exampleRadios","id","timeAll","value","all",1,"form-check-input",3,"checked","change"],["for","timeAll",1,"form-check-label"],["href","#","id","navbarDropdownSort","role","button","data-toggle","dropdown","aria-haspopup","true","aria-expanded","false",1,"dropdown-toggle"],["aria-labelledby","navbarDropdownSort"],["type","radio","name","exampleRadios","id","newQusetions","value","new",1,"form-check-input",3,"checked","change"],["for","newQusetions",1,"form-check-label"],["type","radio","name","exampleRadios","id","oldQusetions","value","old",1,"form-check-input",3,"checked","change"],["for","oldQusetions",1,"form-check-label"],["href","#","id","navbarDropdownSettings","role","button","data-toggle","dropdown","aria-haspopup","true","aria-expanded","false",1,"dropdown-toggle"],["aria-labelledby","navbarDropdownSettings"],["type","radio","name","exampleRadios","id","light","value","light",1,"form-check-input",3,"checked","change"],["for","light",1,"form-check-label"],["type","radio","name","exampleRadios","id","dark","value","dark",1,"form-check-input",3,"checked","change"],["for","dark",1,"form-check-label"],["type","radio","name","exampleRadios","id","tile","value","tile",1,"form-check-input",3,"checked","change"],["for","tile",1,"form-check-label"],["type","radio","name","exampleRadios","id","string","value","string",1,"form-check-input",3,"checked","change"],["for","string",1,"form-check-label"],["type","checkbox",1,"form-check-input",3,"id","value","checked","change"],[1,"form-check-label",3,"for"],["type","radio","id","onModerationAll","name","exampleOnModerationRadios","value","",1,"form-check-input",3,"checked","change"],["for","onModerationAll",1,"form-check-label"],["type","radio","id","onModerationTrue","value","true","name","exampleOnModerationRadios",1,"form-check-input",3,"checked","change"],["for","onModerationTrue",1,"form-check-label"],["type","radio","id","onModerationFalse","value","false","name","exampleOnModerationRadios",1,"form-check-input",3,"checked","change"],["for","onModerationFalse",1,"form-check-label"]],template:function(t,e){1&t&&(r.Ob(0,"div"),r.Ob(1,"div"),r.Ob(2,"div",0),r.Ob(3,"span",1),r.pc(4," Filters "),r.Nb(),r.Ob(5,"div",2),r.Ob(6,"form"),r.Ob(7,"div",3),r.Ob(8,"span"),r.pc(9,"Resolved:"),r.Nb(),r.Ob(10,"div",4),r.Ob(11,"input",5),r.Vb("change",function(t){return e.onChangeResolved(t.target.value)}),r.Nb(),r.Ob(12,"label",6),r.pc(13,"all"),r.Nb(),r.Nb(),r.Ob(14,"div",4),r.Ob(15,"input",7),r.Vb("change",function(t){return e.onChangeResolved(t.target.value)}),r.Nb(),r.Ob(16,"label",8),r.pc(17,"true"),r.Nb(),r.Nb(),r.Ob(18,"div",4),r.Ob(19,"input",9),r.Vb("change",function(t){return e.onChangeResolved(t.target.value)}),r.Nb(),r.Ob(20,"label",10),r.pc(21,"false"),r.Nb(),r.Nb(),r.Nb(),r.Ob(22,"div",3),r.Ob(23,"span"),r.pc(24,"Categories:"),r.Nb(),r.nc(25,Y_,4,5,"div",11),r.Nb(),r.nc(26,Z_,15,3,"div",12),r.Ob(27,"div",3),r.Ob(28,"span"),r.pc(29,"My questions:"),r.Nb(),r.Ob(30,"div",4),r.Ob(31,"input",13),r.Vb("change",function(t){return e.onChangeMyQuestions(t.target.value)}),r.Nb(),r.Ob(32,"label",14),r.pc(33,"all"),r.Nb(),r.Nb(),r.Ob(34,"div",4),r.Ob(35,"input",15),r.Vb("change",function(t){return e.onChangeMyQuestions(t.target.value)}),r.Nb(),r.Ob(36,"label",16),r.pc(37,"true"),r.Nb(),r.Nb(),r.Ob(38,"div",4),r.Ob(39,"input",17),r.Vb("change",function(t){return e.onChangeMyQuestions(t.target.value)}),r.Nb(),r.Ob(40,"label",18),r.pc(41,"false"),r.Nb(),r.Nb(),r.Nb(),r.Ob(42,"div",3),r.Ob(43,"span"),r.pc(44,"Time period:"),r.Nb(),r.Ob(45,"div",4),r.Ob(46,"input",19),r.Vb("change",function(t){return e.onChangeTime(t.target.value)}),r.Nb(),r.Ob(47,"label",20),r.pc(48," day "),r.Nb(),r.Nb(),r.Ob(49,"div",4),r.Ob(50,"input",21),r.Vb("change",function(t){return e.onChangeTime(t.target.value)}),r.Nb(),r.Ob(51,"label",22),r.pc(52," week "),r.Nb(),r.Nb(),r.Ob(53,"div",4),r.Ob(54,"input",23),r.Vb("change",function(t){return e.onChangeTime(t.target.value)}),r.Nb(),r.Ob(55,"label",24),r.pc(56," month "),r.Nb(),r.Nb(),r.Ob(57,"div",4),r.Ob(58,"input",25),r.Vb("change",function(t){return e.onChangeTime(t.target.value)}),r.Nb(),r.Ob(59,"label",26),r.pc(60," all "),r.Nb(),r.Nb(),r.Nb(),r.Nb(),r.Nb(),r.Nb(),r.Ob(61,"div",0),r.Ob(62,"span",27),r.pc(63," Sort "),r.Nb(),r.Ob(64,"div",28),r.Ob(65,"form"),r.Ob(66,"div",3),r.Ob(67,"div",4),r.Ob(68,"input",29),r.Vb("change",function(t){return e.onChangeSort(t.target.value)}),r.Nb(),r.Ob(69,"label",30),r.pc(70," new "),r.Nb(),r.Nb(),r.Ob(71,"div",4),r.Ob(72,"input",31),r.Vb("change",function(t){return e.onChangeSort(t.target.value)}),r.Nb(),r.Ob(73,"label",32),r.pc(74," old "),r.Nb(),r.Nb(),r.Nb(),r.Nb(),r.Nb(),r.Nb(),r.Ob(75,"div",0),r.Ob(76,"span",33),r.pc(77," Settings "),r.Nb(),r.Ob(78,"div",34),r.Ob(79,"form"),r.Ob(80,"div",3),r.Ob(81,"span"),r.pc(82,"Theme:"),r.Nb(),r.Ob(83,"div",4),r.Ob(84,"input",35),r.Vb("change",function(t){return e.onChangeTheme(t.target.value)}),r.Nb(),r.Ob(85,"label",36),r.pc(86," light "),r.Nb(),r.Nb(),r.Ob(87,"div",4),r.Ob(88,"input",37),r.Vb("change",function(t){return e.onChangeTheme(t.target.value)}),r.Nb(),r.Ob(89,"label",38),r.pc(90," dark "),r.Nb(),r.Nb(),r.Nb(),r.Nb(),r.Ob(91,"form"),r.Ob(92,"div",3),r.Ob(93,"span"),r.pc(94,"Display:"),r.Nb(),r.Ob(95,"div",4),r.Ob(96,"input",39),r.Vb("change",function(t){return e.onChangeDisplay(t.target.value)}),r.Nb(),r.Ob(97,"label",40),r.pc(98," tile "),r.Nb(),r.Nb(),r.Ob(99,"div",4),r.Ob(100,"input",41),r.Vb("change",function(t){return e.onChangeDisplay(t.target.value)}),r.Nb(),r.Ob(101,"label",42),r.pc(102," string "),r.Nb(),r.Nb(),r.Nb(),r.Nb(),r.Nb(),r.Nb(),r.Nb(),r.Nb()),2&t&&(r.Ab("titleParametersContainer ",e.filtersService.theme," p-4"),r.yb(1),r.Ab("titlesParameters ",e.filtersService.theme," d-flex justify-content-around align-items-center p-5"),r.yb(4),r.Ab("dropdown-menu ",e.filtersService.theme,""),r.yb(6),r.cc("checked",!e.filtersService.filters.resolved),r.yb(4),r.cc("checked","true"===e.filtersService.filters.resolved),r.yb(4),r.cc("checked","false"===e.filtersService.filters.resolved),r.yb(6),r.cc("ngForOf",e.categoriesNames),r.yb(1),r.cc("ngIf",e.authService.admin),r.yb(5),r.cc("checked",!e.filtersService.filters.myQuestions),r.yb(4),r.cc("checked","true"===e.filtersService.filters.myQuestions),r.yb(4),r.cc("checked","false"===e.filtersService.filters.myQuestions),r.yb(7),r.cc("checked",e.filtersService.filters.time===e.time.timeDay),r.yb(4),r.cc("checked",e.filtersService.filters.time===e.time.timeWeek),r.yb(4),r.cc("checked",e.filtersService.filters.time===e.time.timeMonth),r.yb(4),r.cc("checked",e.filtersService.filters.time===e.time.timeAll),r.yb(6),r.Ab("dropdown-menu ",e.filtersService.theme,""),r.yb(4),r.cc("checked",e.filtersService.sort===e.time.sortNew),r.yb(4),r.cc("checked",e.filtersService.sort===e.time.sortOld),r.yb(6),r.Ab("dropdown-menu ",e.filtersService.theme," dropdown-menu-right"),r.yb(6),r.cc("checked",e.filtersService.theme===e.display.themeLight),r.yb(4),r.cc("checked",e.filtersService.theme===e.display.themeDark),r.yb(8),r.cc("checked",e.filtersService.display===e.display.displayTile),r.yb(4),r.cc("checked",e.filtersService.display===e.display.displayString))},directives:[P_,Bw,A_,st,ut],styles:[".titleParametersContainer.light[_ngcontent-%COMP%]{background:#fff}.titleParametersContainer.dark[_ngcontent-%COMP%]{background-color:rgba(14,14,14,.93)}.titlesParameters[_ngcontent-%COMP%]{height:60px;min-width:240px;border-radius:5px}.titlesParameters.light[_ngcontent-%COMP%]{background-color:#d9d8d8}.titlesParameters.dark[_ngcontent-%COMP%]{background-color:#787878;color:#f1f1f1}.titlesParameters[_ngcontent-%COMP%]   .dropdown-toggle[_ngcontent-%COMP%]{margin-right:10px}.dropdown-menu.light[_ngcontent-%COMP%]{background-color:#fff}.dropdown-menu.dark[_ngcontent-%COMP%]{background-color:#787878;color:#f1f1f1}.dropdown-menu.show[_ngcontent-%COMP%]{padding:5px 0 0 10px;margin:0}.form-check[_ngcontent-%COMP%]{padding-left:30px}"]}),t})(),tO=(()=>{class t{constructor(){}transform(t,e){return e===Bb?t.sort((t,e)=>e.date-t.date):"old"===e?t.sort((t,e)=>t.date-e.date):void 0}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275pipe=r.Ib({name:"sort",type:t,pure:!1}),t})(),eO=(()=>{class t{constructor(t,e){this.filtersService=t,this.authService=e}transform(t,e){const{resolved:n,categories:r,time:i,onModeration:o,myQuestions:s}=e;return t.filter(t=>!!(this.checkCategories(t.tags,r)&&this.checkResolved(t.isResolved,n)&&this.checkDate(i,t.date)&&this.checkMyQuestions(t.author,s)&&this.checkOnModeration(t.onModeration,o))&&t)}checkCategories(t,e){return!e.length||t.length===e.length&&t.filter(t=>e.indexOf(t)>=0).length===t.length}checkResolved(t,e){return!e.length||e.indexOf(t)>=0}checkOnModeration(t,e){return!e.length||e.indexOf(t)>=0}checkMyQuestions(t,e){return!e||("false"===e?t!==this.authService.user.email:"true"===e?t===this.authService.user.email:void 0)}checkDate(t,e){const n=(new Date).getTime();return t===qb||("day"===t?n-e<=864e5:t===Hb?n-e<=6048e5:t===zb?n-e<=2592e6:void 0)}}return t.\u0275fac=function(e){return new(e||t)(r.Jb(uw),r.Jb(aw))},t.\u0275pipe=r.Ib({name:"filter",type:t,pure:!1}),t})();function nO(t,e){1&t&&(r.Ob(0,"div"),r.Ob(1,"span",6),r.pc(2,"resolved"),r.Nb(),r.Nb())}function rO(t,e){1&t&&(r.Ob(0,"div"),r.Ob(1,"span",7),r.pc(2,"on moderation"),r.Nb(),r.Nb())}function iO(t,e){if(1&t&&(r.Ob(0,"span"),r.pc(1),r.Nb()),2&t){const t=e.$implicit;r.yb(1),r.rc("",t," ")}}function oO(t,e){if(1&t){const t=r.Pb();r.Ob(0,"div"),r.Ob(1,"button",8),r.Vb("click",function(){r.jc(t);const e=r.Xb(2).$implicit;return r.Xb().approveQuestion(e.id)}),r.pc(2,"Approve"),r.Nb(),r.Ob(3,"button",9),r.Vb("click",function(){r.jc(t);const e=r.Xb(2).$implicit;return r.Xb().deleteQuestion(e.id)}),r.pc(4,"Delete"),r.Nb(),r.Nb()}if(2&t){const t=r.Xb(3);r.Ab("questionBtns ",t.filtersService.theme," d-flex justify-content-center p-2")}}const sO=function(t){return["question",t]};function aO(t,e){if(1&t&&(r.Ob(0,"div"),r.Ob(1,"div",2),r.Ob(2,"a",3),r.pc(3),r.Nb(),r.nc(4,nO,3,0,"div",4),r.nc(5,rO,3,0,"div",4),r.Nb(),r.Ob(6,"div"),r.Ob(7,"div",5),r.pc(8),r.Yb(9,"date"),r.Nb(),r.Ob(10,"div"),r.nc(11,iO,2,1,"span",0),r.Nb(),r.Nb(),r.nc(12,oO,5,3,"div",1),r.Nb()),2&t){const t=r.Xb().$implicit,e=r.Xb();r.Ab("itemContainer ",e.filtersService.theme," d-flex flex-column justify-content-around mt-2"),r.yb(2),r.Ab("questionTitle ",e.filtersService.theme,""),r.cc("routerLink",r.gc(19,sO,t.id)),r.yb(1),r.rc(" ",t.title," "),r.yb(1),r.cc("ngIf",t.isResolved),r.yb(1),r.cc("ngIf",t.onModeration),r.yb(1),r.Ab("questionMiddle ",e.filtersService.theme," d-flex justify-content-between p-3"),r.yb(2),r.qc(r.Zb(9,16,t.date,"dd.MM.YYYY")),r.yb(3),r.cc("ngForOf",t.tags),r.yb(1),r.cc("ngIf",e.authService.admin&&t.onModeration)}}function uO(t,e){if(1&t&&(r.Mb(0),r.nc(1,aO,13,21,"div",1),r.Lb()),2&t){const t=e.$implicit,n=r.Xb();r.yb(1),r.cc("ngIf",n.showComponent(t))}}let cO=(()=>{class t{constructor(t,e,n,r){this.authService=t,this.questionService=e,this.router=n,this.filtersService=r}ngOnInit(){this.updateQuestions()}approveQuestion(t){this.questionService.updateQuestion(t,{onModeration:!1}).then(t=>{this.updateQuestions()}).catch(t=>console.error(t))}showComponent(t){return!t.onModeration||this.authService.admin||t.author===this.authService.user.email}deleteQuestion(t){this.questionService.deleteQuestion(t).then(t=>{this.updateQuestions()}).catch(t=>console.error(t))}updateQuestions(){this.questionService.getQuetions().then(t=>{this.questionService.questions=t})}}return t.\u0275fac=function(e){return new(e||t)(r.Jb(aw),r.Jb(B_),r.Jb(Fy),r.Jb(uw))},t.\u0275cmp=r.Db({type:t,selectors:[["app-questions-list"]],decls:5,vars:13,consts:[[4,"ngFor","ngForOf"],[3,"class",4,"ngIf"],[1,"questionTitleContainer","text-center"],[3,"routerLink"],[4,"ngIf"],[1,"mr-3"],[1,"badge","badge-success"],[1,"badge","badge-danger"],["type","button",1,"btn","btn-success",3,"click"],["type","button",1,"btn","btn-danger",3,"click"]],template:function(t,e){1&t&&(r.Ob(0,"div"),r.Ob(1,"div"),r.nc(2,uO,2,1,"ng-container",0),r.Yb(3,"sort"),r.Yb(4,"filter"),r.Nb(),r.Nb()),2&t&&(r.Ab("questionListContainer ",e.filtersService.theme,""),r.yb(1),r.Ab("questionsList ",e.filtersService.display," pt-2 mr-4 ml-4"),r.yb(1),r.cc("ngForOf",r.Zb(3,7,r.Zb(4,10,e.questionService.questions,e.filtersService.filters),e.filtersService.sort)))},directives:[st,ut,Uy],pipes:[tO,eO,ht],styles:[".questionListContainer[_ngcontent-%COMP%]{min-height:75vh}.questionListContainer.light[_ngcontent-%COMP%]{background:#fff}.questionListContainer.dark[_ngcontent-%COMP%]{background-color:rgba(14,14,14,.93)}.questionsList.tile[_ngcontent-%COMP%]{display:grid;gap:10px;grid-template-columns:repeat(auto-fit,minmax(220px,.4fr))}.questionsList.light[_ngcontent-%COMP%]{background:#fff}.questionsList.dark[_ngcontent-%COMP%]{background-color:rgba(14,14,14,.93)}.itemContainer[_ngcontent-%COMP%]{min-height:200px;border-radius:3px}.itemContainer.light[_ngcontent-%COMP%]{border:2px solid #686868}.itemContainer.dark[_ngcontent-%COMP%]{border:2px solid #dedede}.questionMiddle.light[_ngcontent-%COMP%]{border-top:2px solid #686868}.questionMiddle.dark[_ngcontent-%COMP%]{border-top:2px solid #dedede;color:#dedede}.questionTitle[_ngcontent-%COMP%]{font-size:26px;font-weight:600;text-decoration:none;transition:all .5s;width:inherit;overflow-wrap:break-word}.questionTitle.light[_ngcontent-%COMP%]{color:#2b2b2b}.questionTitle.light[_ngcontent-%COMP%]:hover{color:#000}.questionTitle.dark[_ngcontent-%COMP%]{color:#dedede}.questionTitle.dark[_ngcontent-%COMP%]:hover{color:#fff}.questionBtns.light[_ngcontent-%COMP%]{border-top:2px solid #686868}.questionBtns.dark[_ngcontent-%COMP%]{border-top:2px solid #dedede}"]}),t})(),lO=(()=>{class t{constructor(t){this.router=t}ngOnInit(){}redirectToNewQuestionPage(){this.router.navigate(["newquestion"])}}return t.\u0275fac=function(e){return new(e||t)(r.Jb(Fy))},t.\u0275cmp=r.Db({type:t,selectors:[["app-plus-button"]],decls:2,vars:0,consts:[[1,"plustButton","btn-danger",3,"click"],["aria-hidden","true",1,"fa","fa-plus"]],template:function(t,e){1&t&&(r.Ob(0,"button",0),r.Vb("click",function(){return e.redirectToNewQuestionPage()}),r.Kb(1,"i",1),r.Nb())},styles:[".plustButton[_ngcontent-%COMP%]{position:fixed;opacity:1%;bottom:5%;right:3%;width:75px;height:75px;border-radius:50%;border:2px solid #4a4a4a;transition:all .3s;text-align:center}.plustButton[_ngcontent-%COMP%]:hover{opacity:1}.plustButton[_ngcontent-%COMP%]:active, .plustButton[_ngcontent-%COMP%]:focus{outline:none}"]}),t})(),hO=(()=>{class t{constructor(t){this.authService=t}ngOnInit(){}}return t.\u0275fac=function(e){return new(e||t)(r.Jb(aw))},t.\u0275cmp=r.Db({type:t,selectors:[["app-main-page"]],decls:3,vars:0,template:function(t,e){1&t&&(r.Kb(0,"app-titles-parameters"),r.Kb(1,"app-questions-list"),r.Kb(2,"app-plus-button"))},directives:[X_,cO,lO],styles:[""]}),t})(),fO=(()=>{class t{constructor(t,e){this.router=t,this.authService=e}canActivate(t,e){return this.authService.getAuthState().pipe(Object(se.a)(t=>!!t))}}return t.\u0275fac=function(e){return new(e||t)(r.Sb(Fy),r.Sb(aw))},t.\u0275prov=r.Fb({token:t,factory:t.\u0275fac}),t})();function dO(t,e){1&t&&(r.Ob(0,"span",16),r.pc(1,"resolved"),r.Nb())}function pO(t,e){if(1&t&&(r.Ob(0,"span",17),r.pc(1),r.Nb()),2&t){const t=e.$implicit;r.yb(1),r.qc(t)}}function gO(t,e){if(1&t){const t=r.Pb();r.Ob(0,"button",18),r.Vb("click",function(){r.jc(t);const e=r.Xb(2);return e.router.navigate(["newquestion/"+e.question.id])}),r.pc(1,"Edit"),r.Nb()}}function bO(t,e){if(1&t){const t=r.Pb();r.Ob(0,"div"),r.Ob(1,"button",19),r.Vb("click",function(){r.jc(t);const e=r.Xb(2);return e.approveQuestion(e.question.id)}),r.pc(2,"Approve"),r.Nb(),r.Ob(3,"button",20),r.Vb("click",function(){r.jc(t);const e=r.Xb(2);return e.deleteQuestion(e.question.id)}),r.pc(4,"Delete"),r.Nb(),r.Nb()}}function mO(t,e){if(1&t&&(r.Ob(0,"div"),r.Ob(1,"div",1),r.Ob(2,"span",2),r.pc(3),r.Nb(),r.Ob(4,"div",3),r.Ob(5,"span",4),r.pc(6),r.Yb(7,"date"),r.Nb(),r.nc(8,dO,2,0,"span",5),r.Nb(),r.Nb(),r.Ob(9,"div",6),r.Ob(10,"h1",7),r.pc(11),r.Nb(),r.Nb(),r.Ob(12,"div",8),r.Ob(13,"p",9),r.pc(14),r.Nb(),r.Nb(),r.Ob(15,"div",10),r.Ob(16,"div",11),r.nc(17,pO,2,1,"span",12),r.Nb(),r.Ob(18,"div",13),r.nc(19,gO,2,0,"button",14),r.nc(20,bO,5,0,"div",15),r.Nb(),r.Nb(),r.Nb()),2&t){const t=r.Xb();r.Ab("questionContainer ",t.filtersService.theme," container  pr-5 pl-5 pt-3 pb-4"),r.yb(3),r.qc(t.question.author.split("@")[0]),r.yb(3),r.qc(r.Zb(7,11,1e3*t.question.date.seconds,"dd.MM.YYYY")),r.yb(2),r.cc("ngIf",t.question.isResolved),r.yb(3),r.qc(t.question.title),r.yb(3),r.qc(t.question.text),r.yb(3),r.cc("ngForOf",t.question.tags),r.yb(2),r.cc("ngIf",t.authService.user.email===t.question.author&&t.question.onModeration),r.yb(1),r.cc("ngIf",t.question.onModeration&&t.authService.admin)}}function vO(t,e){1&t&&(r.Ob(0,"p"),r.pc(1," There are no comments here... "),r.Nb())}function yO(t,e){if(1&t){const t=r.Pb();r.Ob(0,"form",39),r.Ob(1,"div",40),r.Ob(2,"input",41),r.Vb("change",function(e){r.jc(t);const n=r.Xb().$implicit;return r.Xb(2).onChange(e.target.value,e.target.checked,n.date)}),r.Nb(),r.Ob(3,"label",42),r.pc(4,"resolve"),r.Nb(),r.Nb(),r.Nb()}if(2&t){const t=r.Xb().$implicit;r.yb(2),r.ec("id","resolve",t.date,""),r.cc("checked",t.isResolve),r.yb(1),r.ec("for","resolve",t.date,"")}}function wO(t,e){1&t&&(r.Ob(0,"div"),r.Ob(1,"span",16),r.pc(2,"solution"),r.Nb(),r.Nb())}function _O(t,e){if(1&t&&r.nc(0,wO,3,0,"div",15),2&t){const t=r.Xb().$implicit;r.cc("ngIf",t.isResolve)}}function OO(t,e){if(1&t&&(r.Ob(0,"div",30),r.Ob(1,"div",31),r.Ob(2,"div",32),r.Kb(3,"img",33),r.Ob(4,"span",34),r.pc(5),r.Nb(),r.Nb(),r.Ob(6,"p",35),r.pc(7),r.Nb(),r.Nb(),r.Ob(8,"div",36),r.Ob(9,"span"),r.pc(10),r.Yb(11,"date"),r.Nb(),r.nc(12,yO,5,3,"form",37),r.nc(13,_O,1,1,"ng-template",null,38,r.oc),r.Nb(),r.Nb()),2&t){const t=e.$implicit,n=r.ic(14),i=r.Xb(2);r.yb(3),r.cc("src",i.profileImg,r.lc),r.yb(2),r.rc(" ",t.author.split("@")[0]," "),r.yb(2),r.rc(" ",t.text," "),r.yb(3),r.qc(r.Zb(11,6,t.date,"dd.MM.YYYY")),r.yb(2),r.cc("ngIf",i.question.author===i.authService.user.email&&!i.question.onModeration)("ngIfElse",n)}}function SO(t,e){if(1&t){const t=r.Pb();r.Ob(0,"div"),r.Ob(1,"div",21),r.Ob(2,"span",22),r.pc(3,"Comments/Answers"),r.Nb(),r.Nb(),r.nc(4,vO,2,0,"p",15),r.nc(5,OO,15,9,"div",23),r.Ob(6,"form",24),r.Vb("ngSubmit",function(){return r.jc(t),r.Xb().submit()}),r.Ob(7,"div",25),r.Ob(8,"label",26),r.pc(9,"Text"),r.Nb(),r.Kb(10,"textarea",27),r.Nb(),r.Ob(11,"div",28),r.Ob(12,"button",29),r.pc(13,"Send"),r.Nb(),r.Nb(),r.Nb(),r.Nb()}if(2&t){const t=r.Xb();r.Ab("commentsContainer ",t.filtersService.theme," container pr-4 pl-4 pt-2"),r.yb(4),r.cc("ngIf",!t.question.comments.length),r.yb(1),r.cc("ngForOf",t.question.comments),r.yb(1),r.cc("formGroup",t.form),r.yb(6),r.cc("disabled",t.form.invalid)}}const CO=[{path:"login",component:J_},{path:"register",component:Q_},{path:"",component:hO,canActivate:[fO]},{path:"newquestion",component:$_,canActivate:[fO]},{path:"newquestion/:id",component:$_,canActivate:[fO]},{path:"question/:id",component:(()=>{class t{constructor(t,e,n,r,i,o){this.activatedRoute=t,this.questionService=e,this.authService=n,this.router=r,this.fb=i,this.filtersService=o,this.profileImg=Ub}ngOnInit(){this.form=this.fb.group({text:this.fb.control("",Iw.required)}),this.questionService.getQuestion(this.activatedRoute.snapshot.params.id).then(t=>{this.question=t})}submit(){const t={date:(new Date).getTime(),isResolve:!1,author:this.authService.user.email,text:this.form.value.text};this.question.comments.push(t),this.questionService.updateQuestion(this.activatedRoute.snapshot.params.id,{comments:this.question.comments}).then(t=>{this.form.reset()})}onChange(t,e,n){this.changeCommentResolve(e,n),this.changeQuestionResolve(),this.questionService.updateQuestion(this.activatedRoute.snapshot.params.id,{isResolved:this.question.isResolved,comments:this.question.comments})}changeCommentResolve(t,e){this.question.comments.forEach(n=>{n.date===e&&(n.isResolve=t)})}changeQuestionResolve(){const t=this.question.comments.find(t=>!0===t.isResolve);this.question.isResolved=!!t}approveQuestion(t){this.questionService.updateQuestion(t,{onModeration:!1,comments:[]}).then(t=>{this.question.onModeration=!1,this.question.comments=[]})}deleteQuestion(t){this.questionService.deleteQuestion(t).then(t=>{this.router.navigate([""])}).catch(t=>console.error(t))}}return t.\u0275fac=function(e){return new(e||t)(r.Jb(_v),r.Jb(B_),r.Jb(aw),r.Jb(Fy),r.Jb(U_),r.Jb(uw))},t.\u0275cmp=r.Db({type:t,selectors:[["app-question-page"]],decls:3,vars:5,consts:[[3,"class",4,"ngIf"],[1,"row","d-flex","justify-content-between"],[1,"author"],[1,"d-flex","flex-column","align-items-center"],[1,"date"],["class","badge badge-success",4,"ngIf"],[1,"row","titleContainer","d-flex","justify-content-center"],[1,"text-center","pb-3"],[1,"row","d-flex","justify-content-center","mt-3","mb-3"],[1,"text"],[1,"row","bottomRow","d-flex","flex-nowrap","justify-content-between"],[1,"tagsContainer","d-flex","flex-wrap"],["class","d-flex align-items-center pr-1 mr-1",4,"ngFor","ngForOf"],[1,"buttonsContainer","d-flex","flex-wrap","justify-content-end","w-50"],["class","btn btn-warning",3,"click",4,"ngIf"],[4,"ngIf"],[1,"badge","badge-success"],[1,"d-flex","align-items-center","pr-1","mr-1"],[1,"btn","btn-warning",3,"click"],["type","button",1,"btn","btn-success",3,"click"],["type","button",1,"btn","btn-danger",3,"click"],[1,"row"],[1,"mb-2"],["class","commentContainer d-flex justify-content-between  p-2 mb-3",4,"ngFor","ngForOf"],[1,"newQuestionForm",3,"formGroup","ngSubmit"],[1,"form-group"],["for","exampleFormControlTextarea1"],["id","exampleFormControlTextarea1","rows","3","formControlName","text",1,"form-control"],[1,"form-group","d-flex","justify-content-end","mr-3"],[1,"btn","btn-success","mr-1",3,"disabled"],[1,"commentContainer","d-flex","justify-content-between","p-2","mb-3"],[1,"d-flex"],[1,"userInfoContainer","d-flex","flex-column","justify-content-start","align-items-start","mr-3"],["alt","",1,"img",3,"src"],[1,"commentAuthor"],[1,"commentText","mr-3","mt-3"],[1,"commentInfo","mt-3"],["class","mt-2",4,"ngIf","ngIfElse"],["resolve",""],[1,"mt-2"],[1,"form-check"],["type","checkbox",1,"form-check-input",3,"id","checked","change"],[1,"form-check-label",3,"for"]],template:function(t,e){1&t&&(r.Ob(0,"div"),r.nc(1,mO,21,14,"div",0),r.nc(2,SO,14,7,"div",0),r.Nb()),2&t&&(r.Ab("containerAll ",e.filtersService.theme," pt-4"),r.yb(1),r.cc("ngIf",e.question),r.yb(1),r.cc("ngIf",e.question&&!e.question.onModeration||e.question&&e.authService.admin||e.question&&e.authService.user.email===e.question.author))},directives:[ut,st,P_,Bw,R_,_w,zw,L_,A_],pipes:[ht],styles:[".containerAll[_ngcontent-%COMP%]{height:92vh}.containerAll.light[_ngcontent-%COMP%]{background:#fff}.containerAll.dark[_ngcontent-%COMP%]{background-color:rgba(14,14,14,.93)}.questionContainer[_ngcontent-%COMP%]{border:2px solid #7d7c7c;border-radius:5px}.questionContainer[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{width:85%;border-bottom:2px solid #7d7c7c}.questionContainer[_ngcontent-%COMP%]   .text[_ngcontent-%COMP%]{width:90%}.questionContainer.light[_ngcontent-%COMP%]{background:#fff}.questionContainer.light[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{color:#3b3b3b}.questionContainer.light[_ngcontent-%COMP%]   input[_ngcontent-%COMP%], .questionContainer.light[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]{background:#fff}.questionContainer.dark[_ngcontent-%COMP%]{background-color:#5f5f5f}.questionContainer.dark[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%], .questionContainer.dark[_ngcontent-%COMP%]   label[_ngcontent-%COMP%], .questionContainer.dark[_ngcontent-%COMP%]   p[_ngcontent-%COMP%], .questionContainer.dark[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{color:#dedede}.questionContainer.dark[_ngcontent-%COMP%]   input[_ngcontent-%COMP%], .questionContainer.dark[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]{color:#fff;background-color:rgba(14,14,14,.93)}.questionContainer[_ngcontent-%COMP%]   .buttonsContainer[_ngcontent-%COMP%]{min-width:50px}.questionContainer[_ngcontent-%COMP%]   .tagsContainer[_ngcontent-%COMP%]   .tag[_ngcontent-%COMP%]{border-right:2px solid #7d7c7c}.commentsContainer[_ngcontent-%COMP%]{border:2px solid #7d7c7c;border-radius:5px}.commentsContainer.light[_ngcontent-%COMP%]{background:#fff}.commentsContainer.light[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{color:#3b3b3b}.commentsContainer.light[_ngcontent-%COMP%]   input[_ngcontent-%COMP%], .commentsContainer.light[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]{background:#fff}.commentsContainer.dark[_ngcontent-%COMP%]{background-color:#5f5f5f}.commentsContainer.dark[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%], .commentsContainer.dark[_ngcontent-%COMP%]   label[_ngcontent-%COMP%], .commentsContainer.dark[_ngcontent-%COMP%]   p[_ngcontent-%COMP%], .commentsContainer.dark[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{color:#dedede}.commentsContainer.dark[_ngcontent-%COMP%]   input[_ngcontent-%COMP%], .commentsContainer.dark[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]{color:#fff;background-color:rgba(14,14,14,.93)}.commentsContainer[_ngcontent-%COMP%]   .commentContainer[_ngcontent-%COMP%]{border:2px solid #7d7c7c;border-radius:5px}@media (max-width:500px){.commentsContainer[_ngcontent-%COMP%]   .commentContainer[_ngcontent-%COMP%]{flex-wrap:wrap}}.commentsContainer[_ngcontent-%COMP%]   .img[_ngcontent-%COMP%]{width:70px;height:50px}"]}),t})(),canActivate:[fO]}];let EO=(()=>{class t{}return t.\u0275mod=r.Hb({type:t}),t.\u0275inj=r.Gb({factory:function(e){return new(e||t)},imports:[[Zy.forRoot(CO)],Zy]}),t})();function TO(t){return(TO="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function IO(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function xO(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(t){return Object.getOwnPropertyDescriptor(n,t).enumerable}))),r.forEach(function(e){IO(t,e,n[e])})}return t}function AO(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var n=[],r=!0,i=!1,o=void 0;try{for(var s,a=t[Symbol.iterator]();!(r=(s=a.next()).done)&&(n.push(s.value),!e||n.length!==e);r=!0);}catch(u){i=!0,o=u}finally{try{r||null==a.return||a.return()}finally{if(i)throw o}}return n}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}var kO={},jO={};try{"undefined"!=typeof window&&(kO=window),"undefined"!=typeof document&&(jO=document),"undefined"!=typeof MutationObserver&&MutationObserver,"undefined"!=typeof performance&&performance}catch(Vg){}var NO=(kO.navigator||{}).userAgent,PO=void 0===NO?"":NO,DO=kO,MO=jO,RO=!!MO.documentElement&&!!MO.head&&"function"==typeof MO.addEventListener&&"function"==typeof MO.createElement,VO=(~PO.indexOf("MSIE")||PO.indexOf("Trident/"),"svg-inline--fa"),LO=[1,2,3,4,5,6,7,8,9,10],FO=LO.concat([11,12,13,14,15,16,17,18,19,20]),UO={GROUP:"group",SWAP_OPACITY:"swap-opacity",PRIMARY:"primary",SECONDARY:"secondary"},qO=(["xs","sm","lg","fw","ul","li","border","pull-left","pull-right","spin","pulse","rotate-90","rotate-180","rotate-270","flip-horizontal","flip-vertical","flip-both","stack","stack-1x","stack-2x","inverse","layers","layers-text","layers-counter",UO.GROUP,UO.SWAP_OPACITY,UO.PRIMARY,UO.SECONDARY].concat(LO.map(function(t){return"".concat(t,"x")})).concat(FO.map(function(t){return"w-".concat(t)})),DO.FontAwesomeConfig||{});MO&&"function"==typeof MO.querySelector&&[["data-family-prefix","familyPrefix"],["data-replacement-class","replacementClass"],["data-auto-replace-svg","autoReplaceSvg"],["data-auto-add-css","autoAddCss"],["data-auto-a11y","autoA11y"],["data-search-pseudo-elements","searchPseudoElements"],["data-observe-mutations","observeMutations"],["data-mutate-approach","mutateApproach"],["data-keep-original-source","keepOriginalSource"],["data-measure-performance","measurePerformance"],["data-show-missing-icons","showMissingIcons"]].forEach(function(t){var e=AO(t,2),n=e[1],r=function(t){return""===t||"false"!==t&&("true"===t||t)}(function(t){var e=MO.querySelector("script["+t+"]");if(e)return e.getAttribute(t)}(e[0]));null!=r&&(qO[n]=r)});var HO=xO({},{familyPrefix:"fa",replacementClass:VO,autoReplaceSvg:!0,autoAddCss:!0,autoA11y:!0,searchPseudoElements:!1,observeMutations:!0,mutateApproach:"async",keepOriginalSource:!0,measurePerformance:!1,showMissingIcons:!0},qO);HO.autoReplaceSvg||(HO.observeMutations=!1);var zO=xO({},HO);DO.FontAwesomeConfig=zO;var BO=DO||{};BO.___FONT_AWESOME___||(BO.___FONT_AWESOME___={}),BO.___FONT_AWESOME___.styles||(BO.___FONT_AWESOME___.styles={}),BO.___FONT_AWESOME___.hooks||(BO.___FONT_AWESOME___.hooks={}),BO.___FONT_AWESOME___.shims||(BO.___FONT_AWESOME___.shims=[]);var GO=BO.___FONT_AWESOME___,$O=[];RO&&((MO.documentElement.doScroll?/^loaded|^c/:/^loaded|^i|^c/).test(MO.readyState)||MO.addEventListener("DOMContentLoaded",function t(){MO.removeEventListener("DOMContentLoaded",t),$O.map(function(t){return t()})}));var WO,JO="pending",KO="settled",QO="fulfilled",YO="rejected",ZO=function(){},XO="undefined"!=typeof global&&void 0!==global.process&&"function"==typeof global.process.emit,tS="undefined"==typeof setImmediate?setTimeout:setImmediate,eS=[];function nS(){for(var t=0;t<eS.length;t++)eS[t][0](eS[t][1]);eS=[],WO=!1}function rS(t,e){eS.push([t,e]),WO||(WO=!0,tS(nS,0))}function iS(t){var e=t.owner,n=e._state,r=e._data,i=t[n],o=t.then;if("function"==typeof i){n=QO;try{r=i(r)}catch(Vg){uS(o,Vg)}}oS(o,r)||(n===QO&&sS(o,r),n===YO&&uS(o,r))}function oS(t,e){var n;try{if(t===e)throw new TypeError("A promises callback cannot return that same promise.");if(e&&("function"==typeof e||"object"===TO(e))){var r=e.then;if("function"==typeof r)return r.call(e,function(r){n||(n=!0,e===r?aS(t,r):sS(t,r))},function(e){n||(n=!0,uS(t,e))}),!0}}catch(Vg){return n||uS(t,Vg),!0}return!1}function sS(t,e){t!==e&&oS(t,e)||aS(t,e)}function aS(t,e){t._state===JO&&(t._state=KO,t._data=e,rS(lS,t))}function uS(t,e){t._state===JO&&(t._state=KO,t._data=e,rS(hS,t))}function cS(t){t._then=t._then.forEach(iS)}function lS(t){t._state=QO,cS(t)}function hS(t){t._state=YO,cS(t),!t._handled&&XO&&global.process.emit("unhandledRejection",t._data,t)}function fS(t){global.process.emit("rejectionHandled",t)}function dS(t){if("function"!=typeof t)throw new TypeError("Promise resolver "+t+" is not a function");if(this instanceof dS==0)throw new TypeError("Failed to construct 'Promise': Please use the 'new' operator, this object constructor cannot be called as a function.");this._then=[],function(t,e){function n(t){uS(e,t)}try{t(function(t){sS(e,t)},n)}catch(Vg){n(Vg)}}(t,this)}dS.prototype={constructor:dS,_state:JO,_then:null,_data:void 0,_handled:!1,then:function(t,e){var n={owner:this,then:new this.constructor(ZO),fulfilled:t,rejected:e};return!e&&!t||this._handled||(this._handled=!0,this._state===YO&&XO&&rS(fS,this)),this._state===QO||this._state===YO?rS(iS,n):this._then.push(n),n.then},catch:function(t){return this.then(null,t)}},dS.all=function(t){if(!Array.isArray(t))throw new TypeError("You must pass an array to Promise.all().");return new dS(function(e,n){var r=[],i=0;function o(t){return i++,function(n){r[t]=n,--i||e(r)}}for(var s,a=0;a<t.length;a++)(s=t[a])&&"function"==typeof s.then?s.then(o(a),n):r[a]=s;i||e(r)})},dS.race=function(t){if(!Array.isArray(t))throw new TypeError("You must pass an array to Promise.race().");return new dS(function(e,n){for(var r,i=0;i<t.length;i++)(r=t[i])&&"function"==typeof r.then?r.then(e,n):e(r)})},dS.resolve=function(t){return t&&"object"===TO(t)&&t.constructor===dS?t:new dS(function(e){e(t)})},dS.reject=function(t){return new dS(function(e,n){n(t)})};var pS=function(t,e,n,r){var i,o,s,a=Object.keys(t),u=a.length,c=void 0!==r?function(t,e){return function(n,r,i,o){return t.call(e,n,r,i,o)}}(e,r):e;for(void 0===n?(i=1,s=t[a[0]]):(i=0,s=n);i<u;i++)s=c(s,t[o=a[i]],o,t);return s};function gS(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=n.skipHooks,i=void 0!==r&&r,o=Object.keys(e).reduce(function(t,n){var r=e[n];return r.icon?t[r.iconName]=r.icon:t[n]=r,t},{});"function"!=typeof GO.hooks.addPack||i?GO.styles[t]=xO({},GO.styles[t]||{},o):GO.hooks.addPack(t,o),"fas"===t&&gS("fa",e)}var bS=GO.styles,mS=GO.shims,vS=function(){var t=function(t){return pS(bS,function(e,n,r){return e[r]=pS(n,t,{}),e},{})};t(function(t,e,n){return e[3]&&(t[e[3]]=n),t}),t(function(t,e,n){var r=e[2];return t[n]=n,r.forEach(function(e){t[e]=n}),t});var e="far"in bS;pS(mS,function(t,n){var r=n[1];return"far"!==r||e||(r="fas"),t[n[0]]={prefix:r,iconName:n[2]},t},{})};function yS(t){this.name="MissingIcon",this.message=t||"Icon unavailable",this.stack=(new Error).stack}vS(),(yS.prototype=Object.create(Error.prototype)).constructor=yS;var wS={fill:"currentColor"},_S={attributeType:"XML",repeatCount:"indefinite",dur:"2s"},OS=(xO({},wS,{d:"M156.5,447.7l-12.6,29.5c-18.7-9.5-35.9-21.2-51.5-34.9l22.7-22.7C127.6,430.5,141.5,440,156.5,447.7z M40.6,272H8.5 c1.4,21.2,5.4,41.7,11.7,61.1L50,321.2C45.1,305.5,41.8,289,40.6,272z M40.6,240c1.4-18.8,5.2-37,11.1-54.1l-29.5-12.6 C14.7,194.3,10,216.7,8.5,240H40.6z M64.3,156.5c7.8-14.9,17.2-28.8,28.1-41.5L69.7,92.3c-13.7,15.6-25.5,32.8-34.9,51.5 L64.3,156.5z M397,419.6c-13.9,12-29.4,22.3-46.1,30.4l11.9,29.8c20.7-9.9,39.8-22.6,56.9-37.6L397,419.6z M115,92.4 c13.9-12,29.4-22.3,46.1-30.4l-11.9-29.8c-20.7,9.9-39.8,22.6-56.8,37.6L115,92.4z M447.7,355.5c-7.8,14.9-17.2,28.8-28.1,41.5 l22.7,22.7c13.7-15.6,25.5-32.9,34.9-51.5L447.7,355.5z M471.4,272c-1.4,18.8-5.2,37-11.1,54.1l29.5,12.6 c7.5-21.1,12.2-43.5,13.6-66.8H471.4z M321.2,462c-15.7,5-32.2,8.2-49.2,9.4v32.1c21.2-1.4,41.7-5.4,61.1-11.7L321.2,462z M240,471.4c-18.8-1.4-37-5.2-54.1-11.1l-12.6,29.5c21.1,7.5,43.5,12.2,66.8,13.6V471.4z M462,190.8c5,15.7,8.2,32.2,9.4,49.2h32.1 c-1.4-21.2-5.4-41.7-11.7-61.1L462,190.8z M92.4,397c-12-13.9-22.3-29.4-30.4-46.1l-29.8,11.9c9.9,20.7,22.6,39.8,37.6,56.9 L92.4,397z M272,40.6c18.8,1.4,36.9,5.2,54.1,11.1l12.6-29.5C317.7,14.7,295.3,10,272,8.5V40.6z M190.8,50 c15.7-5,32.2-8.2,49.2-9.4V8.5c-21.2,1.4-41.7,5.4-61.1,11.7L190.8,50z M442.3,92.3L419.6,115c12,13.9,22.3,29.4,30.5,46.1 l29.8-11.9C470,128.5,457.3,109.4,442.3,92.3z M397,92.4l22.7-22.7c-15.6-13.7-32.8-25.5-51.5-34.9l-12.6,29.5 C370.4,72.1,384.4,81.5,397,92.4z"}),xO({},_S,{attributeName:"opacity"}));xO({},wS,{cx:"256",cy:"364",r:"28"}),xO({},_S,{attributeName:"r",values:"28;14;28;28;14;28;"}),xO({},OS,{values:"1;0;1;1;0;1;"}),xO({},wS,{opacity:"1",d:"M263.7,312h-16c-6.6,0-12-5.4-12-12c0-71,77.4-63.9,77.4-107.8c0-20-17.8-40.2-57.4-40.2c-29.1,0-44.3,9.6-59.2,28.7 c-3.9,5-11.1,6-16.2,2.4l-13.1-9.2c-5.6-3.9-6.9-11.8-2.6-17.2c21.2-27.2,46.4-44.7,91.2-44.7c52.3,0,97.4,29.8,97.4,80.2 c0,67.6-77.4,63.5-77.4,107.8C275.7,306.6,270.3,312,263.7,312z"}),xO({},OS,{values:"1;0;0;0;0;1;"}),xO({},wS,{opacity:"0",d:"M232.5,134.5l7,168c0.3,6.4,5.6,11.5,12,11.5h9c6.4,0,11.7-5.1,12-11.5l7-168c0.3-6.8-5.2-12.5-12-12.5h-23 C237.7,122,232.2,127.7,232.5,134.5z"}),xO({},OS,{values:"0;0;1;1;0;0;"}),new(function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.definitions={}}var e;return(e=[{key:"add",value:function(){for(var t=this,e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];var i=n.reduce(this._pullDefinitions,{});Object.keys(i).forEach(function(e){t.definitions[e]=xO({},t.definitions[e]||{},i[e]),gS(e,i[e]),vS()})}},{key:"reset",value:function(){this.definitions={}}},{key:"_pullDefinitions",value:function(t,e){var n=e.prefix&&e.iconName&&e.icon?{0:e}:e;return Object.keys(n).map(function(e){var r=n[e],i=r.prefix,o=r.iconName,s=r.icon;t[i]||(t[i]={}),t[i][o]=s}),t}}])&&function(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}(t.prototype,e),t}());let SS=(()=>{class t{}return t.\u0275mod=r.Hb({type:t}),t.\u0275inj=r.Gb({factory:function(e){return new(e||t)}}),t})(),CS=(()=>{class t{}return t.\u0275mod=r.Hb({type:t,bootstrap:[dw]}),t.\u0275inj=r.Gb({factory:function(e){return new(e||t)},providers:[fO,aw],imports:[[Gt,EO,$t.a.initializeApp(i),Fb,Sb,q_,H_,SS]]}),t})();i.production&&Object(r.S)(),zt().bootstrapModule(CS).catch(t=>console.error(t))},zn8P:function(t,e){function n(t){return Promise.resolve().then(function(){var e=new Error("Cannot find module '"+t+"'");throw e.code="MODULE_NOT_FOUND",e})}n.keys=function(){return[]},n.resolve=n,t.exports=n,n.id="zn8P"},zx2A:function(t,e,n){"use strict";n.d(e,"a",function(){return s}),n.d(e,"b",function(){return a}),n.d(e,"c",function(){return u});var r=n("7o/Q"),i=n("HDdC"),o=n("SeVD");class s extends r.a{constructor(t){super(),this.parent=t}_next(t){this.parent.notifyNext(t)}_error(t){this.parent.notifyError(t),this.unsubscribe()}_complete(){this.parent.notifyComplete(),this.unsubscribe()}}class a extends r.a{notifyNext(t){this.destination.next(t)}notifyError(t){this.destination.error(t)}notifyComplete(){this.destination.complete()}}function u(t,e){if(!e.closed)return t instanceof i.a?t.subscribe(e):Object(o.a)(t)(e)}}},[[0,0]]]);